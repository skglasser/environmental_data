<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>rglWebGL</title>
<script src="data:application/javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gdHJ5RXZhbCh0YXNrKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgLy8gQXR0ZW1wdCBldmFsKCkgYm90aCB3aXRoIGFuZCB3aXRob3V0IGVuY2xvc2luZyBpbiBwYXJlbnRoZXNlcy4KICAvLyBOb3RlIHRoYXQgZW5jbG9zaW5nIGNvZXJjZXMgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbnRvCiAgLy8gYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWwoKSBjYW4gcGFyc2UKICAvLyAob3RoZXJ3aXNlLCBhIFN5bnRheEVycm9yIGlzIHRocm93bikKICBmdW5jdGlvbiB0cnlFdmFsKGNvZGUpIHsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgdHJ5IHsKICAgICAgcmVzdWx0ID0gZXZhbCgiKCIgKyBjb2RlICsgIikiKTsKICAgIH0gY2F0Y2goZXJyb3IpIHsKICAgICAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBTeW50YXhFcnJvcikpIHsKICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIHJlc3VsdCA9IGV2YWwoY29kZSk7CiAgICAgIH0gY2F0Y2goZSkgewogICAgICAgIGlmIChlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHsKICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIGluaXRTaXppbmcoZWwpIHsKICAgIHZhciBzaXppbmcgPSBzaXppbmdQb2xpY3koZWwpOwogICAgaWYgKCFzaXppbmcpCiAgICAgIHJldHVybjsKCiAgICB2YXIgY2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImh0bWx3aWRnZXRfY29udGFpbmVyIik7CiAgICBpZiAoIWNlbCkKICAgICAgcmV0dXJuOwoKICAgIGlmICh0eXBlb2Yoc2l6aW5nLnBhZGRpbmcpICE9PSAidW5kZWZpbmVkIikgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICIwIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nID0gcGFkZGluZ1RvQ3NzKHVucGFja1BhZGRpbmcoc2l6aW5nLnBhZGRpbmcpKTsKICAgIH0KCiAgICBpZiAoc2l6aW5nLmZpbGwpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBpZiAoY2VsKSB7CiAgICAgICAgY2VsLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgICAgICB2YXIgcGFkID0gdW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZyk7CiAgICAgICAgY2VsLnN0eWxlLnRvcCA9IHBhZC50b3AgKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5yaWdodCA9IHBhZC5yaWdodCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmJvdHRvbSA9IHBhZC5ib3R0b20gKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5sZWZ0ID0gcGFkLmxlZnQgKyAicHgiOwogICAgICAgIGVsLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGVsLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBjZWwub2Zmc2V0V2lkdGg7IH0sCiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKCiAgICB9IGVsc2UgewogICAgICBlbC5zdHlsZS53aWR0aCA9IHB4KHNpemluZy53aWR0aCk7CiAgICAgIGVsLnN0eWxlLmhlaWdodCA9IHB4KHNpemluZy5oZWlnaHQpOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0SGVpZ2h0OyB9CiAgICAgIH07CiAgICB9CiAgfQoKICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9ucyBmb3IgbWV0aG9kcwogIHZhciBkZWZhdWx0cyA9IHsKICAgIGZpbmQ6IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgIHJldHVybiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCAiLiIgKyB0aGlzLm5hbWUpOwogICAgfSwKICAgIHJlbmRlckVycm9yOiBmdW5jdGlvbihlbCwgZXJyKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKCiAgICAgIHRoaXMuY2xlYXJFcnJvcihlbCk7CgogICAgICAvLyBBZGQgYWxsIHRoZXNlIGVycm9yIGNsYXNzZXMsIGFzIFNoaW55IGRvZXMKICAgICAgdmFyIGVyckNsYXNzID0gInNoaW55LW91dHB1dC1lcnJvciI7CiAgICAgIGlmIChlcnIudHlwZSAhPT0gbnVsbCkgewogICAgICAgIC8vIHVzZSB0aGUgY2xhc3NlcyBvZiB0aGUgZXJyb3IgY29uZGl0aW9uIGFzIENTUyBjbGFzcyBuYW1lcwogICAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiICIgKyAkLm1hcChhc0FycmF5KGVyci50eXBlKSwgZnVuY3Rpb24odHlwZSkgewogICAgICAgICAgcmV0dXJuIGVyckNsYXNzICsgIi0iICsgdHlwZTsKICAgICAgICB9KS5qb2luKCIgIik7CiAgICAgIH0KICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgaHRtbHdpZGdldHMtZXJyb3IiOwoKICAgICAgLy8gSXMgZWwgaW5saW5lIG9yIGJsb2NrPyBJZiBpbmxpbmUgb3IgaW5saW5lLWJsb2NrLCBqdXN0IGRpc3BsYXk6bm9uZSBpdAogICAgICAvLyBhbmQgYWRkIGFuIGlubGluZSBlcnJvci4KICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuY3NzKCJkaXNwbGF5Iik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIGRpc3BsYXkpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgJGVsLmhpZGUoKTsKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICIiKSB7CiAgICAgICAgICB2YXIgZXJyb3JTcGFuID0gJCgiPHNwYW4+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpOwogICAgICAgICAgZXJyb3JTcGFuLnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yU3Bhbik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpIHsKICAgICAgICAvLyBJZiBibG9jaywgYWRkIGFuIGVycm9yIGp1c3QgYWZ0ZXIgdGhlIGVsLCBzZXQgdmlzaWJpbGl0eTpub25lIG9uIHRoZQogICAgICAgIC8vIGVsLCBhbmQgcG9zaXRpb24gdGhlIGVycm9yIHRvIGJlIG9uIHRvcCBvZiB0aGUgZWwuCiAgICAgICAgLy8gTWFyayBpdCB3aXRoIGEgdW5pcXVlIElEIGFuZCBDU1MgY2xhc3Mgc28gd2UgY2FuIHJlbW92ZSBpdCBsYXRlci4KICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvckRpdiA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKQogICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgIC5jc3MoImxlZnQiLCBlbC5vZmZzZXRMZWZ0KQogICAgICAgICAgICAvLyBzZXR0aW5nIHdpZHRoIGNhbiBwdXNoIG91dCB0aGUgcGFnZSBzaXplLCBmb3JjaW5nIG90aGVyd2lzZQogICAgICAgICAgICAvLyB1bm5lY2Vzc2FyeSBzY3JvbGxiYXJzIHRvIGFwcGVhciBhbmQgbWFraW5nIGl0IGltcG9zc2libGUgZm9yCiAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHRvIHNocmluazsgc28gdXNlIG1heC13aWR0aCBpbnN0ZWFkCiAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpCiAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICBlcnJvckRpdi50ZXh0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICRlbC5hZnRlcihlcnJvckRpdik7CgogICAgICAgICAgLy8gUmVhbGx5IGR1bWIgd2F5IHRvIGtlZXAgdGhlIHNpemUvcG9zaXRpb24gb2YgdGhlIGVycm9yIGluIHN5bmMgd2l0aAogICAgICAgICAgLy8gdGhlIHBhcmVudCBlbGVtZW50IGFzIHRoZSB3aW5kb3cgaXMgcmVzaXplZCBvciB3aGF0ZXZlci4KICAgICAgICAgIHZhciBpbnRJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoIWVycm9yRGl2WzBdLnBhcmVudEVsZW1lbnQpIHsKICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludElkKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3JEaXYKICAgICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbihlbCkgewogICAgICB2YXIgJGVsID0gJChlbCk7CiAgICAgIHZhciBkaXNwbGF5ID0gJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIG51bGwpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgaWYgKGRpc3BsYXkpCiAgICAgICAgICAkZWwuY3NzKCJkaXNwbGF5IiwgZGlzcGxheSk7CiAgICAgICAgJChlbC5uZXh0U2libGluZykuZmlsdGVyKCIuaHRtbHdpZGdldHMtZXJyb3IiKS5yZW1vdmUoKTsKICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKXsKICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImluaGVyaXQiKTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9CiAgICB9LAogICAgc2l6aW5nOiB7fQogIH07CgogIC8vIENhbGxlZCBieSB3aWRnZXQgYmluZGluZ3MgdG8gcmVnaXN0ZXIgYSBuZXcgdHlwZSBvZiB3aWRnZXQuIFRoZSBkZWZpbml0aW9uCiAgLy8gb2JqZWN0IGNhbiBjb250YWluIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKICAvLyAtIG5hbWUgKHJlcXVpcmVkKSAtIEEgc3RyaW5nIGluZGljYXRpbmcgdGhlIGJpbmRpbmcgbmFtZSwgd2hpY2ggd2lsbCBiZQogIC8vICAgdXNlZCBieSBkZWZhdWx0IGFzIHRoZSBDU1MgY2xhc3NuYW1lIHRvIGxvb2sgZm9yLgogIC8vIC0gaW5pdGlhbGl6ZSAob3B0aW9uYWwpIC0gQSBmdW5jdGlvbihlbCkgdGhhdCB3aWxsIGJlIGNhbGxlZCBvbmNlIHBlcgogIC8vICAgd2lkZ2V0IGVsZW1lbnQ7IGlmIGEgdmFsdWUgaXMgcmV0dXJuZWQsIGl0IHdpbGwgYmUgcGFzc2VkIGFzIHRoZSB0aGlyZAogIC8vICAgdmFsdWUgdG8gcmVuZGVyVmFsdWUuCiAgLy8gLSByZW5kZXJWYWx1ZSAocmVxdWlyZWQpIC0gQSBmdW5jdGlvbihlbCwgZGF0YSwgaW5pdFZhbHVlKSB0aGF0IHdpbGwgYmUKICAvLyAgIGNhbGxlZCB3aXRoIGRhdGEuIFN0YXRpYyBjb250ZXh0cyB3aWxsIGNhdXNlIHRoaXMgdG8gYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICBlbGVtZW50OyBTaGlueSBhcHBzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgcGVyCiAgLy8gICBlbGVtZW50LCBhcyB0aGUgZGF0YSBjaGFuZ2VzLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXQgPSBmdW5jdGlvbihkZWZpbml0aW9uKSB7CiAgICBpZiAoIWRlZmluaXRpb24ubmFtZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSBuYW1lIik7CiAgICB9CiAgICBpZiAoIWRlZmluaXRpb24udHlwZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSB0eXBlIik7CiAgICB9CiAgICAvLyBDdXJyZW50bHkgd2Ugb25seSBzdXBwb3J0IG91dHB1dCB3aWRnZXRzCiAgICBpZiAoZGVmaW5pdGlvbi50eXBlICE9PSAib3V0cHV0IikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCB3aWRnZXQgdHlwZSAnIiArIGRlZmluaXRpb24udHlwZSArICInIik7CiAgICB9CiAgICAvLyBUT0RPOiBWZXJpZnkgdGhhdCAubmFtZSBpcyBhIHZhbGlkIENTUyBjbGFzc25hbWUKCiAgICAvLyBTdXBwb3J0IG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9ucy4gT2xkLXN0eWxlIGNsYXNzLWJvdW5kCiAgICAvLyBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQgIm9iamVjdCIgcGVyIHdpZGdldCBwZXIgdHlwZS9jbGFzcyBvZgogICAgLy8gd2lkZ2V0OyB0aGUgcmVuZGVyVmFsdWUgYW5kIHJlc2l6ZSBtZXRob2RzIG9uIHN1Y2ggd2lkZ2V0IG9iamVjdHMKICAgIC8vIHRha2UgZWwgYW5kIGluc3RhbmNlIGFyZ3VtZW50cywgYmVjYXVzZSB0aGUgd2lkZ2V0IG9iamVjdCBjYW4ndAogICAgLy8gc3RvcmUgdGhlbS4gTmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldAogICAgLy8gb2JqZWN0IHBlciB3aWRnZXQgaW5zdGFuY2U7IHRoZSBkZWZpbml0aW9uIHRoYXQncyBwYXNzZWQgaW4gZG9lc24ndAogICAgLy8gcHJvdmlkZSByZW5kZXJWYWx1ZSBvciByZXNpemUgbWV0aG9kcyBhdCBhbGwsIGp1c3QgdGhlIHNpbmdsZSBtZXRob2QKICAgIC8vICAgZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCkKICAgIC8vIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaGFzIHJlbmRlclZhbHVlKHgpIGFuZCByZXNpemUodywgaCkuCiAgICAvLyBUaGlzIGVuYWJsZXMgYSBmYXIgbW9yZSBuYXR1cmFsIHByb2dyYW1taW5nIHN0eWxlIGZvciB0aGUgd2lkZ2V0CiAgICAvLyBhdXRob3IsIHdobyBjYW4gc3RvcmUgcGVyLWluc3RhbmNlIHN0YXRlIHVzaW5nIGVpdGhlciBPTy1zdHlsZQogICAgLy8gaW5zdGFuY2UgZmllbGRzIG9yIGZ1bmN0aW9uYWwtc3R5bGUgY2xvc3VyZSB2YXJpYWJsZXMgKEkgZ3Vlc3MgdGhpcwogICAgLy8gaXMgaW4gY29udHJhc3QgdG8gd2hhdCBjYW4gb25seSBiZSBjYWxsZWQgQy1zdHlsZSBwc2V1ZG8tT08gd2hpY2ggaXMKICAgIC8vIHdoYXQgd2UgcmVxdWlyZWQgYmVmb3JlKS4KICAgIGlmIChkZWZpbml0aW9uLmZhY3RvcnkpIHsKICAgICAgZGVmaW5pdGlvbiA9IGNyZWF0ZUxlZ2FjeURlZmluaXRpb25BZGFwdGVyKGRlZmluaXRpb24pOwogICAgfQoKICAgIGlmICghZGVmaW5pdGlvbi5yZW5kZXJWYWx1ZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSByZW5kZXJWYWx1ZSBmdW5jdGlvbiIpOwogICAgfQoKICAgIC8vIEZvciBzdGF0aWMgcmVuZGVyaW5nIChub24tU2hpbnkpLCB1c2UgYSBzaW1wbGUgd2lkZ2V0IHJlZ2lzdHJhdGlvbgogICAgLy8gc2NoZW1lLiBXZSBhbHNvIHVzZSB0aGlzIHNjaGVtZSBmb3IgU2hpbnkgYXBwcy9kb2N1bWVudHMgdGhhdCBhbHNvCiAgICAvLyBjb250YWluIHN0YXRpYyB3aWRnZXRzLgogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIC8vIE1lcmdlIGRlZmF1bHRzIGludG8gdGhlIGRlZmluaXRpb247IGRvbid0IG11dGF0ZSB0aGUgb3JpZ2luYWwgZGVmaW5pdGlvbi4KICAgIHZhciBzdGF0aWNCaW5kaW5nID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CiAgICBvdmVycmlkZU1ldGhvZChzdGF0aWNCaW5kaW5nLCAiZmluZCIsIGZ1bmN0aW9uKHN1cGVyZnVuYykgewogICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IHN1cGVyZnVuYyhzY29wZSk7CiAgICAgICAgLy8gRmlsdGVyIG91dCBTaGlueSBvdXRwdXRzLCB3ZSBvbmx5IHdhbnQgdGhlIHN0YXRpYyBraW5kCiAgICAgICAgcmV0dXJuIGZpbHRlckJ5Q2xhc3MocmVzdWx0cywgImh0bWwtd2lkZ2V0LW91dHB1dCIsIGZhbHNlKTsKICAgICAgfTsKICAgIH0pOwogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMucHVzaChzdGF0aWNCaW5kaW5nKTsKCiAgICBpZiAoc2hpbnlNb2RlKSB7CiAgICAgIC8vIFNoaW55IGlzIHJ1bm5pbmcuIFJlZ2lzdGVyIHRoZSBkZWZpbml0aW9uIHdpdGggYW4gb3V0cHV0IGJpbmRpbmcuCiAgICAgIC8vIFRoZSBkZWZpbml0aW9uIGl0c2VsZiB3aWxsIG5vdCBiZSB0aGUgb3V0cHV0IGJpbmRpbmcsIGluc3RlYWQKICAgICAgLy8gd2Ugd2lsbCBtYWtlIGFuIG91dHB1dCBiaW5kaW5nIG9iamVjdCB0aGF0IGRlbGVnYXRlcyB0byB0aGUKICAgICAgLy8gZGVmaW5pdGlvbi4gVGhpcyBpcyBiZWNhdXNlIHdlIGZvb2xpc2hseSB1c2VkIHRoZSBzYW1lIG1ldGhvZAogICAgICAvLyBuYW1lIChyZW5kZXJWYWx1ZSkgZm9yIGh0bWx3aWRnZXRzIGRlZmluaXRpb24gYW5kIFNoaW55IGJpbmRpbmdzCiAgICAgIC8vIGJ1dCB0aGV5IGFjdHVhbGx5IGhhdmUgcXVpdGUgZGlmZmVyZW50IHNlbWFudGljcyAodGhlIFNoaW55CiAgICAgIC8vIGJpbmRpbmdzIHJlY2VpdmUgZGF0YSB0aGF0IGluY2x1ZGVzIGxvdHMgb2YgbWV0YWRhdGEgdGhhdCBpdAogICAgICAvLyBzdHJpcHMgb2ZmIGJlZm9yZSBjYWxsaW5nIGh0bWx3aWRnZXRzIHJlbmRlclZhbHVlKS4gV2UgY2FuJ3QKICAgICAgLy8ganVzdCBpZ25vcmUgdGhlIGRpZmZlcmVuY2UgYmVjYXVzZSBpbiBzb21lIHdpZGdldHMgaXQncyBoZWxwZnVsCiAgICAgIC8vIHRvIGNhbGwgdGhpcy5yZW5kZXJWYWx1ZSgpIGZyb20gaW5zaWRlIG9mIHJlc2l6ZSgpLCBhbmQgaWYKICAgICAgLy8gd2UncmUgbm90IGRlbGVnYXRpbmcsIHRoZW4gdGhhdCBjYWxsIHdpbGwgZ28gdG8gdGhlIFNoaW55CiAgICAgIC8vIHZlcnNpb24gaW5zdGVhZCBvZiB0aGUgaHRtbHdpZGdldHMgdmVyc2lvbi4KCiAgICAgIC8vIE1lcmdlIGRlZmF1bHRzIHdpdGggZGVmaW5pdGlvbiwgd2l0aG91dCBtdXRhdGluZyBlaXRoZXIuCiAgICAgIHZhciBiaW5kaW5nRGVmID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CgogICAgICAvLyBUaGlzIG9iamVjdCB3aWxsIGJlIG91ciBhY3R1YWwgU2hpbnkgYmluZGluZy4KICAgICAgdmFyIHNoaW55QmluZGluZyA9IG5ldyBTaGlueS5PdXRwdXRCaW5kaW5nKCk7CgogICAgICAvLyBXaXRoIGEgZmV3IGV4Y2VwdGlvbnMsIHdlJ2xsIHdhbnQgdG8gc2ltcGx5IHVzZSB0aGUgYmluZGluZ0RlZidzCiAgICAgIC8vIHZlcnNpb24gb2YgbWV0aG9kcyBpZiB0aGV5IGFyZSBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsIGJhY2sgdG8KICAgICAgLy8gU2hpbnkncyBkZWZhdWx0cy4gTk9URTogSWYgU2hpbnkncyBvdXRwdXQgYmluZGluZ3MgZ2FpbiBhZGRpdGlvbmFsCiAgICAgIC8vIG1ldGhvZHMgaW4gdGhlIGZ1dHVyZSwgYW5kIHdlIHdhbnQgdGhlbSB0byBiZSBvdmVycmlkZWFibGUgYnkKICAgICAgLy8gSFRNTFdpZGdldCBiaW5kaW5nIGRlZmluaXRpb25zLCB0aGVuIHdlJ2xsIG5lZWQgdG8gYWRkIHRoZW0gdG8gdGhpcwogICAgICAvLyBsaXN0LgogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJnZXRJZCIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlQ2hhbmdlIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgIm9uVmFsdWVFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJyZW5kZXJFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJjbGVhckVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInNob3dQcm9ncmVzcyIpOwoKICAgICAgLy8gVGhlIGZpbmQsIHJlbmRlclZhbHVlLCBhbmQgcmVzaXplIGFyZSBoYW5kbGVkIGRpZmZlcmVudGx5LCBiZWNhdXNlIHdlCiAgICAgIC8vIHdhbnQgdG8gYWN0dWFsbHkgZGVjb3JhdGUgdGhlIGJlaGF2aW9yIG9mIHRoZSBiaW5kaW5nRGVmIG1ldGhvZHMuCgogICAgICBzaGlueUJpbmRpbmcuZmluZCA9IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBiaW5kaW5nRGVmLmZpbmQoc2NvcGUpOwoKICAgICAgICAvLyBPbmx5IHJldHVybiBlbGVtZW50cyB0aGF0IGFyZSBTaGlueSBvdXRwdXRzLCBub3Qgc3RhdGljIG9uZXMKICAgICAgICB2YXIgZHluYW1pY1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigiLmh0bWwtd2lkZ2V0LW91dHB1dCIpOwoKICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgd2hhdGV2ZXIgY2F1c2VkIFNoaW55IHRvIHRoaW5rIHRoZXJlIG1pZ2h0IGJlCiAgICAgICAgLy8gbmV3IGR5bmFtaWMgb3V0cHV0cywgYWxzbyBjYXVzZWQgdGhlcmUgdG8gYmUgbmV3IHN0YXRpYyBvdXRwdXRzLgogICAgICAgIC8vIFNpbmNlIHRoZXJlIG1pZ2h0IGJlIGxvdHMgb2YgZGlmZmVyZW50IGh0bWx3aWRnZXRzIGJpbmRpbmdzLCB3ZQogICAgICAgIC8vIHNjaGVkdWxlIGV4ZWN1dGlvbiBmb3IgbGF0ZXItLW5vIG5lZWQgdG8gc3RhdGljUmVuZGVyIG11bHRpcGxlCiAgICAgICAgLy8gdGltZXMuCiAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoICE9PSBkeW5hbWljUmVzdWx0cy5sZW5ndGgpCiAgICAgICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlcigpOwoKICAgICAgICByZXR1cm4gZHluYW1pY1Jlc3VsdHM7CiAgICAgIH07CgogICAgICAvLyBXcmFwIHJlbmRlclZhbHVlIHRvIGhhbmRsZSBpbml0aWFsaXphdGlvbiwgd2hpY2ggdW5mb3J0dW5hdGVseSBpc24ndAogICAgICAvLyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgU2hpbnkgYXQgdGhlIHRpbWUgb2YgdGhpcyB3cml0aW5nLgoKICAgICAgc2hpbnlCaW5kaW5nLnJlbmRlclZhbHVlID0gZnVuY3Rpb24oZWwsIGRhdGEpIHsKICAgICAgICBTaGlueS5yZW5kZXJEZXBlbmRlbmNpZXMoZGF0YS5kZXBzKTsKICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGRhdGEuZXZhbHMgJiYgaSA8IGRhdGEuZXZhbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNbaV0pOwogICAgICAgIH0KICAgICAgICBpZiAoIWJpbmRpbmdEZWYucmVuZGVyT25OdWxsVmFsdWUpIHsKICAgICAgICAgIGlmIChkYXRhLnggPT09IG51bGwpIHsKICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJoaWRkZW4iOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gImluaGVyaXQiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIWVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgaW5pdFNpemluZyhlbCk7CgogICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIsIHRydWUpOwogICAgICAgICAgaWYgKGJpbmRpbmdEZWYuaW5pdGlhbGl6ZSkgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gYmluZGluZ0RlZi5pbml0aWFsaXplKGVsLCBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgcmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYmluZGluZ0RlZi5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpLCBbZWwsIGRhdGEueF0pOwogICAgICB9OwoKICAgICAgLy8gT25seSBvdmVycmlkZSByZXNpemUgaWYgYmluZGluZ0RlZiBpbXBsZW1lbnRzIGl0CiAgICAgIGlmIChiaW5kaW5nRGVmLnJlc2l6ZSkgewogICAgICAgIHNoaW55QmluZGluZy5yZXNpemUgPSBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgICAgICAgLy8gU2hpbnkgY2FuIGNhbGwgcmVzaXplIGJlZm9yZSBpbml0aWFsaXplL3JlbmRlclZhbHVlIGhhdmUgYmVlbgogICAgICAgICAgLy8gY2FsbGVkLCB3aGljaCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIHdpZGdldHMuCiAgICAgICAgICBpZiAoZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICAgIGJpbmRpbmdEZWYucmVzaXplKGVsLCB3aWR0aCwgaGVpZ2h0LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIFNoaW55Lm91dHB1dEJpbmRpbmdzLnJlZ2lzdGVyKHNoaW55QmluZGluZywgYmluZGluZ0RlZi5uYW1lKTsKICAgIH0KICB9OwoKICB2YXIgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICBmdW5jdGlvbiBzY2hlZHVsZVN0YXRpY1JlbmRlcigpIHsKICAgIGlmICghc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkKSB7CiAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7CiAgICAgIH0sIDEpOwogICAgfQogIH0KCiAgLy8gUmVuZGVyIHN0YXRpYyB3aWRnZXRzIGFmdGVyIHRoZSBkb2N1bWVudCBmaW5pc2hlcyBsb2FkaW5nCiAgLy8gU3RhdGljYWxseSByZW5kZXIgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIG9mIHRoaXMgd2lkZ2V0J3MgY2xhc3MKICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgYmluZGluZ3MgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKGJpbmRpbmcpIHsKICAgICAgdmFyIG1hdGNoZXMgPSBiaW5kaW5nLmZpbmQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTsKICAgICAgZm9yRWFjaChtYXRjaGVzLCBmdW5jdGlvbihlbCkgewogICAgICAgIHZhciBzaXplT2JqID0gaW5pdFNpemluZyhlbCwgYmluZGluZyk7CgogICAgICAgIGlmIChoYXNDbGFzcyhlbCwgImh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCIpKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZSArICIgaHRtbC13aWRnZXQtc3RhdGljLWJvdW5kIjsKCiAgICAgICAgdmFyIGluaXRSZXN1bHQ7CiAgICAgICAgaWYgKGJpbmRpbmcuaW5pdGlhbGl6ZSkgewogICAgICAgICAgaW5pdFJlc3VsdCA9IGJpbmRpbmcuaW5pdGlhbGl6ZShlbCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgKTsKICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCBpbml0UmVzdWx0KTsKICAgICAgICB9CgogICAgICAgIGlmIChiaW5kaW5nLnJlc2l6ZSkgewogICAgICAgICAgdmFyIGxhc3RTaXplID0gewogICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIGg6IHNpemVPYmogPyBzaXplT2JqLmdldEhlaWdodCgpIDogZWwub2Zmc2V0SGVpZ2h0CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciBzaXplID0gewogICAgICAgICAgICAgIHc6IHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSAwICYmIHNpemUuaCA9PT0gMCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChzaXplLncgPT09IGxhc3RTaXplLncgJiYgc2l6ZS5oID09PSBsYXN0U2l6ZS5oKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgbGFzdFNpemUgPSBzaXplOwogICAgICAgICAgICBiaW5kaW5nLnJlc2l6ZShlbCwgc2l6ZS53LCBzaXplLmgsIGluaXRSZXN1bHQpOwogICAgICAgICAgfTsKCiAgICAgICAgICBvbih3aW5kb3csICJyZXNpemUiLCByZXNpemVIYW5kbGVyKTsKCiAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgY2FzZXMgd2hlcmUgd2UncmUgcnVubmluZyBpbiBhIFNoaW55CiAgICAgICAgICAvLyBhcHAsIGJ1dCB0aGUgd2lkZ2V0IGl0c2VsZiBpcyBub3QgYSBTaGlueSBvdXRwdXQsIGJ1dAogICAgICAgICAgLy8gcmF0aGVyIGEgc2ltcGxlIHN0YXRpYyB3aWRnZXQuIE9uZSBleGFtcGxlIG9mIHRoaXMgaXMKICAgICAgICAgIC8vIGFuIHJtYXJrZG93biBkb2N1bWVudCB0aGF0IGhhcyBydW50aW1lOnNoaW55IGFuZCB3aWRnZXQKICAgICAgICAgIC8vIHRoYXQgaXNuJ3QgaW4gYSByZW5kZXIgZnVuY3Rpb24uIFNoaW55IG9ubHkga25vd3MgdG8KICAgICAgICAgIC8vIGNhbGwgcmVzaXplIGhhbmRsZXJzIGZvciBTaGlueSBvdXRwdXRzLCBub3QgZm9yIHN0YXRpYwogICAgICAgICAgLy8gd2lkZ2V0cywgc28gd2UgZG8gaXQgb3Vyc2VsdmVzLgogICAgICAgICAgaWYgKHdpbmRvdy5qUXVlcnkpIHsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgInNob3duLmh0bWx3aWRnZXRzIHNob3duLmJzLnRhYi5odG1sd2lkZ2V0cyBzaG93bi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgICB3aW5kb3cualF1ZXJ5KGRvY3VtZW50KS5vbigKICAgICAgICAgICAgICAiaGlkZGVuLmh0bWx3aWRnZXRzIGhpZGRlbi5icy50YWIuaHRtbHdpZGdldHMgaGlkZGVuLmJzLmNvbGxhcHNlLmh0bWx3aWRnZXRzIiwKICAgICAgICAgICAgICByZXNpemVIYW5kbGVyCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIHRoZSBzcGVjaWZpYyBjYXNlIG9mIGlvc2xpZGVzLCB3aGljaAogICAgICAgICAgLy8gZmxpcHMgc2xpZGVzIGJldHdlZW4gZGlzcGxheTpub25lIGFuZCBkaXNwbGF5OmJsb2NrLgogICAgICAgICAgLy8gSWRlYWxseSB3ZSB3b3VsZCBub3QgaGF2ZSB0byBoYXZlIGlvc2xpZGUtc3BlY2lmaWMgY29kZQogICAgICAgICAgLy8gaGVyZSwgYnV0IHJhdGhlciBoYXZlIGlvc2xpZGVzIHJhaXNlIGEgZ2VuZXJpYyBldmVudCwKICAgICAgICAgIC8vIGJ1dCB0aGUgcm1hcmtkb3duIHBhY2thZ2UganVzdCB3ZW50IHRvIENSQU4gc28gdGhlCiAgICAgICAgICAvLyB3aW5kb3cgdG8gZ2V0dGluZyB0aGF0IGZpeGVkIG1heSBiZSBsb25nLgogICAgICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgICAgICAgIC8vIEl0J3MgT0sgdG8gbGltaXQgdGhpcyB0byB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcgogICAgICAgICAgICAvLyBicm93c2VycyBiZWNhdXNlIGlvc2xpZGVzIGl0c2VsZiBvbmx5IHN1cHBvcnRzCiAgICAgICAgICAgIC8vIHN1Y2ggYnJvd3NlcnMuCiAgICAgICAgICAgIG9uKGRvY3VtZW50LCAic2xpZGVlbnRlciIsIHJlc2l6ZUhhbmRsZXIpOwogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlbGVhdmUiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBzY3JpcHREYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vanNvbiddIik7CiAgICAgICAgaWYgKHNjcmlwdERhdGEpIHsKICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShzY3JpcHREYXRhLnRleHRDb250ZW50IHx8IHNjcmlwdERhdGEudGV4dCk7CiAgICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBkYXRhLmV2YWxzICYmIGsgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNba10pOwogICAgICAgICAgfQogICAgICAgICAgYmluZGluZy5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBpbml0UmVzdWx0KTsKICAgICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgaW5pdFJlc3VsdCwgW2VsLCBkYXRhLnhdKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CgogICAgaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCk7CiAgfQoKCiAgZnVuY3Rpb24gaGFzX2pRdWVyeTMoKSB7CiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdmFyICR2ZXJzaW9uID0gd2luZG93LmpRdWVyeS5mbi5qcXVlcnk7CiAgICB2YXIgJG1ham9yX3ZlcnNpb24gPSBwYXJzZUludCgkdmVyc2lvbi5zcGxpdCgiLiIpWzBdKTsKICAgIHJldHVybiAkbWFqb3JfdmVyc2lvbiA+PSAzOwogIH0KCiAgLyoKICAvIFNoaW55IDEuNCBidW1wZWQgalF1ZXJ5IGZyb20gMS54IHRvIDMueCB3aGljaCBtZWFucyBqUXVlcnkncwogIC8gb24tcmVhZHkgaGFuZGxlciAoaS5lLiwgJChmbikpIGlzIG5vdyBhc3luY3Jvbm91cyAoaS5lLiwgaXQgbm93CiAgLyByZWFsbHkgbWVhbnMgJChzZXRUaW1lb3V0KGZuKSkuCiAgLyBodHRwczovL2pxdWVyeS5jb20vdXBncmFkZS1ndWlkZS8zLjAvI2JyZWFraW5nLWNoYW5nZS1kb2N1bWVudC1yZWFkeS1oYW5kbGVycy1hcmUtbm93LWFzeW5jaHJvbm91cwogIC8KICAvIFNpbmNlIFNoaW55IHVzZXMgJCgpIHRvIHNjaGVkdWxlIGluaXRTaGlueSwgc2hpbnk+PTEuNCBjYWxscyBpbml0U2hpbnkKICAvIG9uZSB0aWNrIGxhdGVyIHRoYW4gaXQgZGlkIGJlZm9yZSwgd2hpY2ggbWVhbnMgc3RhdGljUmVuZGVyKCkgaXMKICAvIGNhbGxlZCByZW5kZXJWYWx1ZSgpIGVhcmxpZXIgdGhhbiAoYWR2YW5jZWQpIHdpZGdldCBhdXRob3JzIG1pZ2h0IGJlIGV4cGVjdGluZy4KICAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL3NoaW55L2lzc3Vlcy8yNjMwCiAgLwogIC8gRm9yIGEgY29uY3JldGUgZXhhbXBsZSwgbGVhZmxldCBoYXMgc29tZSBtZXRob2RzIChlLmcuLCB1cGRhdGVCb3VuZHMpCiAgLyB3aGljaCByZWZlcmVuY2UgU2hpbnkgbWV0aG9kcyByZWdpc3RlcmVkIGluIGluaXRTaGlueSAoZS5nLiwgc2V0SW5wdXRWYWx1ZSkuCiAgLyBTaW5jZSBsZWFmbGV0IGlzIHByaXZ5IHRvIHRoaXMgbGlmZS1jeWNsZSwgaXQga25vd3MgdG8gdXNlIHNldFRpbWVvdXQoKSB0bwogIC8gZGVsYXkgZXhlY3V0aW9uIG9mIHRob3NlIG1ldGhvZHMgKHVudGlsIFNoaW55IG1ldGhvZHMgYXJlIHJlYWR5KQogIC8gaHR0cHM6Ly9naXRodWIuY29tL3JzdHVkaW8vbGVhZmxldC9ibG9iLzE4ZWM5ODEvamF2YXNjcmlwdC9zcmMvaW5kZXguanMjTDI2Ni1MMjY4CiAgLwogIC8gSWRlYWxseSB3aWRnZXQgYXV0aG9ycyB3b3VsZG4ndCBuZWVkIHRvIHVzZSB0aGlzIHNldFRpbWVvdXQoKSBoYWNrIHRoYXQKICAvIGxlYWZsZXQgdXNlcyB0byBjYWxsIFNoaW55IG1ldGhvZHMgb24gYSBzdGF0aWNSZW5kZXIoKS4gSW4gdGhlIGxvbmcgcnVuLAogIC8gdGhlIGxvZ2ljIGluaXRTaGlueSBzaG91bGQgYmUgYnJva2VuIHVwIHNvIHRoYXQgbWV0aG9kIHJlZ2lzdHJhdGlvbiBoYXBwZW5zCiAgLyByaWdodCBhd2F5LCBidXQgYmluZGluZyBoYXBwZW5zIGxhdGVyLgogICovCiAgZnVuY3Rpb24gbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpIHsKICAgIGlmIChzaGlueU1vZGUgJiYgaGFzX2pRdWVyeTMoKSkgewogICAgICB3aW5kb3cualF1ZXJ5KHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIpOwogICAgfSBlbHNlIHsKICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgfQogIH0KCiAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbigpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsKICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgfSwgZmFsc2UpOwogIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHsKICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpIHsKICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgYXJndW1lbnRzLmNhbGxlZSk7CiAgICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgICB9CiAgICB9KTsKICB9CgoKICB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0QXR0YWNobWVudFVybCA9IGZ1bmN0aW9uKGRlcG5hbWUsIGtleSkgewogICAgLy8gSWYgbm8ga2V5LCBkZWZhdWx0IHRvIHRoZSBmaXJzdCBpdGVtCiAgICBpZiAodHlwZW9mKGtleSkgPT09ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSAxOwoKICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVwbmFtZSArICItIiArIGtleSArICItYXR0YWNobWVudCIpOwogICAgaWYgKCFsaW5rKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiQXR0YWNobWVudCAiICsgZGVwbmFtZSArICIvIiArIGtleSArICIgbm90IGZvdW5kIGluIGRvY3VtZW50Iik7CiAgICB9CiAgICByZXR1cm4gbGluay5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMuZGF0YWZyYW1lVG9EMyA9IGZ1bmN0aW9uKGRmKSB7CiAgICB2YXIgbmFtZXMgPSBbXTsKICAgIHZhciBsZW5ndGg7CiAgICBmb3IgKHZhciBuYW1lIGluIGRmKSB7CiAgICAgICAgaWYgKGRmLmhhc093blByb3BlcnR5KG5hbWUpKQogICAgICAgICAgICBuYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIGlmICh0eXBlb2YoZGZbbmFtZV0pICE9PSAib2JqZWN0IiB8fCB0eXBlb2YoZGZbbmFtZV0ubGVuZ3RoKSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIik7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobGVuZ3RoKSAhPT0gInVuZGVmaW5lZCIgJiYgbGVuZ3RoICE9PSBkZltuYW1lXS5sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCIpOwogICAgICAgIH0KICAgICAgICBsZW5ndGggPSBkZltuYW1lXS5sZW5ndGg7CiAgICB9CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGl0ZW07CiAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBsZW5ndGg7IHJvdysrKSB7CiAgICAgICAgaXRlbSA9IHt9OwogICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5hbWVzLmxlbmd0aDsgY29sKyspIHsKICAgICAgICAgICAgaXRlbVtuYW1lc1tjb2xdXSA9IGRmW25hbWVzW2NvbF1dW3Jvd107CiAgICAgICAgfQogICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CgogIHdpbmRvdy5IVE1MV2lkZ2V0cy50cmFuc3Bvc2VBcnJheTJEID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFycmF5OwogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheVswXS5tYXAoZnVuY3Rpb24oY29sLCBpKSB7CiAgICAgICAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiByb3dbaV0KICAgICAgICAgIH0pCiAgICAgIH0pOwogICAgICByZXR1cm4gbmV3QXJyYXk7CiAgfTsKICAvLyBTcGxpdCB2YWx1ZSBhdCBzcGxpdENoYXIsIGJ1dCBhbGxvdyBzcGxpdENoYXIgdG8gYmUgZXNjYXBlZAogIC8vIHVzaW5nIGVzY2FwZUNoYXIuIEFueSBvdGhlciBjaGFyYWN0ZXJzIGVzY2FwZWQgYnkgZXNjYXBlQ2hhcgogIC8vIHdpbGwgYmUgaW5jbHVkZWQgYXMgdXN1YWwgKGluY2x1ZGluZyBlc2NhcGVDaGFyIGl0c2VsZikuCiAgZnVuY3Rpb24gc3BsaXRXaXRoRXNjYXBlKHZhbHVlLCBzcGxpdENoYXIsIGVzY2FwZUNoYXIpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB2YXIgZXNjYXBlTW9kZSA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHZhbHVlLmxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKCFlc2NhcGVNb2RlKSB7CiAgICAgICAgaWYgKHZhbHVlW3Bvc10gPT09IHNwbGl0Q2hhcikgewogICAgICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOwogICAgICAgICAgY3VycmVudFJlc3VsdCA9ICIiOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWVbcG9zXSA9PT0gZXNjYXBlQ2hhcikgewogICAgICAgICAgZXNjYXBlTW9kZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOwogICAgICAgIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgICAgfQogICAgfQogICAgaWYgKGN1cnJlbnRSZXN1bHQgIT09ICIiKSB7CiAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0KICAvLyBGdW5jdGlvbiBhdXRob3JlZCBieSBZaWh1aS9KSiBBbGxhaXJlCiAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyID0gZnVuY3Rpb24obywgbWVtYmVyKSB7CiAgICB2YXIgcGFydHMgPSBzcGxpdFdpdGhFc2NhcGUobWVtYmVyLCAnLicsICdcXCcpOwogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsKICAgICAgLy8gcGFydCBtYXkgYmUgYSBjaGFyYWN0ZXIgb3IgJ251bWVyaWMnIG1lbWJlciBuYW1lCiAgICAgIGlmIChvICE9PSBudWxsICYmIHR5cGVvZiBvID09PSAib2JqZWN0IiAmJiBwYXJ0IGluIG8pIHsKICAgICAgICBpZiAoaSA9PSAobCAtIDEpKSB7IC8vIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIHRoZW4gZXZhbHVsYXRlCiAgICAgICAgICBpZiAodHlwZW9mIG9bcGFydF0gPT09ICJzdHJpbmciKQogICAgICAgICAgICBvW3BhcnRdID0gdHJ5RXZhbChvW3BhcnRdKTsKICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UgY29udGludWUgdG8gbmV4dCBlbWJlZGRlZCBvYmplY3QKICAgICAgICAgIG8gPSBvW3BhcnRdOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIFJldHJpZXZlIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgYW4KICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBvciBudWxsIGlmIG5vbmUuCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlID0gZnVuY3Rpb24oZWwpIHsKICAgIHJldHVybiBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0Iik7CiAgfTsKCiAgLy8gRmluZHMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IsCiAgLy8gYW5kIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2UgKGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoYXQgZWxlbWVudCwgaWYgYW55LiBJZiBubyBlbGVtZW50IG1hdGNoZXMgdGhlCiAgLy8gc2VsZWN0b3IsIG9yIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IGhhcyBubyBIVE1MV2lkZ2V0CiAgLy8gaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIGl0LCB0aGVuIG51bGwgaXMgcmV0dXJuZWQuCiAgLy8KICAvLyBUaGUgc2NvcGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGFuZCBkZWZhdWx0cyB0byB3aW5kb3cuZG9jdW1lbnQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmZpbmQgPSBmdW5jdGlvbihzY29wZSwgc2VsZWN0b3IpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgc2VsZWN0b3IgPSBzY29wZTsKICAgICAgc2NvcGUgPSBkb2N1bWVudDsKICAgIH0KCiAgICB2YXIgZWwgPSBzY29wZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIGlmIChlbCA9PT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2UoZWwpOwogICAgfQogIH07CgogIC8vIEZpbmRzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IsIGFuZAogIC8vIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2VzIChpLmUuIHRoZSByZXR1cm4gdmFsdWVzIG9mCiAgLy8gYW4gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRzLCBpbiBhbiBhcnJheS4gSWYgZWxlbWVudHMgdGhhdAogIC8vIG1hdGNoIHRoZSBzZWxlY3RvciBkb24ndCBoYXZlIGFuIGFzc29jaWF0ZWQgSFRNTFdpZGdldAogIC8vIGluc3RhbmNlLCB0aGUgcmV0dXJuZWQgYXJyYXkgd2lsbCBjb250YWluIG51bGxzLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kQWxsID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIG5vZGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICByZXN1bHRzLnB1c2god2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKG5vZGVzW2ldKSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB2YXIgcG9zdFJlbmRlckhhbmRsZXJzID0gW107CiAgZnVuY3Rpb24gaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCkgewogICAgd2hpbGUgKHBvc3RSZW5kZXJIYW5kbGVycy5sZW5ndGgpIHsKICAgICAgdmFyIGhhbmRsZXIgPSBwb3N0UmVuZGVySGFuZGxlcnMuc2hpZnQoKTsKICAgICAgaWYgKGhhbmRsZXIpIHsKICAgICAgICBoYW5kbGVyKCk7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIFJlZ2lzdGVyIHRoZSBnaXZlbiBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIGFmdGVyIHRoZQogIC8vIG5leHQgdGltZSBzdGF0aWMgd2lkZ2V0cyBhcmUgcmVuZGVyZWQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmFkZFBvc3RSZW5kZXJIYW5kbGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHBvc3RSZW5kZXJIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTsKICB9OwoKICAvLyBUYWtlcyBhIG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9uLCBhbmQgcmV0dXJucyBhbgogIC8vIG9sZC1zdHlsZSBjbGFzcy1ib3VuZCBkZWZpbml0aW9uLiBUaGlzIHNhdmVzIHVzIGZyb20gaGF2aW5nCiAgLy8gdG8gcmV3cml0ZSBhbGwgdGhlIGxvZ2ljIGluIHRoaXMgZmlsZSB0byBhY2NvbW9kYXRlIGJvdGgKICAvLyB0eXBlcyBvZiBkZWZpbml0aW9ucy4KICBmdW5jdGlvbiBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZuKSB7CiAgICB2YXIgcmVzdWx0ID0gewogICAgICBuYW1lOiBkZWZuLm5hbWUsCiAgICAgIHR5cGU6IGRlZm4udHlwZSwKICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICByZXR1cm4gZGVmbi5mYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSwKICAgICAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKGVsLCB4LCBpbnN0YW5jZSkgewogICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXJWYWx1ZSh4KTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVzaXplKHdpZHRoLCBoZWlnaHQpOwogICAgICB9CiAgICB9OwoKICAgIGlmIChkZWZuLmZpbmQpCiAgICAgIHJlc3VsdC5maW5kID0gZGVmbi5maW5kOwogICAgaWYgKGRlZm4ucmVuZGVyRXJyb3IpCiAgICAgIHJlc3VsdC5yZW5kZXJFcnJvciA9IGRlZm4ucmVuZGVyRXJyb3I7CiAgICBpZiAoZGVmbi5jbGVhckVycm9yKQogICAgICByZXN1bHQuY2xlYXJFcnJvciA9IGRlZm4uY2xlYXJFcnJvcjsKCiAgICByZXR1cm4gcmVzdWx0OwogIH0KfSkoKTsKCg=="></script>
<script src="data:application/javascript;base64,LyogZWwgaXMgdGhlIGRpdiwgaG9sZGluZyB0aGUgcmdsIG9iamVjdCBhcyBlbC5yZ2xpbnN0YW5jZSwKICAgICB3aGljaCBob2xkcyB4IGFzIGVsLnJnbGluc3RhbmNlLnNjZW5lCiAgIHggaXMgdGhlIEpTT04gZW5jb2RlZCByZ2x3aWRnZXQuCiovCgoKSFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ3JnbFdlYkdMJywKCiAgdHlwZTogJ291dHB1dCcsCgogIGZhY3Rvcnk6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICBlbC53aWR0aCA9IHdpZHRoOwogICAgZWwuaGVpZ2h0ID0gaGVpZ2h0OwogICAgdmFyIHJnbCA9IG5ldyByZ2x3aWRnZXRDbGFzcygpLAogICAgICAgIG9uY2hhbmdlc2VsZWN0aW9uID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZ2wuc2NlbmUuY3Jvc3N0YWxrLnNlbF9oYW5kbGUubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIHJnbC5jbGVhckJydXNoKGV4Y2VwdCA9IGUucmdsU3Vic2NlbmVJZCk7CiAgICAgICAgICByZ2wuc2VsZWN0aW9uKGUsIGZhbHNlKTsKICAgICAgICB9LAogICAgICAgIG9uY2hhbmdlZmlsdGVyID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgcmdsLnNlbGVjdGlvbihlLCB0cnVlKTsKICAgICAgICB9OwogICAgCiAgICByZXR1cm4geyAKICAgICAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKHgpIHsKICAgICAgICB2YXIgaSwgcGVsLCBwbGF5ZXIsIGdyb3VwcywKICAgICAgICAgICAgaW5TaGlueSA9ICh0eXBlb2YgU2hpbnkgIT09ICJ1bmRlZmluZWQiKTsKICAgICAgCiAgICAgICAgeC5jcm9zc3RhbGsuZ3JvdXAgPSBncm91cHMgPSBbXS5jb25jYXQoeC5jcm9zc3RhbGsuZ3JvdXApOwogICAgICAgIHguY3Jvc3N0YWxrLmlkID0gW10uY29uY2F0KHguY3Jvc3N0YWxrLmlkKTsKICAgICAgICB4LmNyb3NzdGFsay5rZXkgPSBbXS5jb25jYXQoeC5jcm9zc3RhbGsua2V5KTsKICAgICAgICB4LmNyb3NzdGFsay5zZWxfaGFuZGxlID0gbmV3IEFycmF5KGdyb3Vwcy5sZW5ndGgpOwogICAgICAgIHguY3Jvc3N0YWxrLmZpbF9oYW5kbGUgPSBuZXcgQXJyYXkoZ3JvdXBzLmxlbmd0aCk7CiAgICAgICAgeC5jcm9zc3RhbGsuc2VsZWN0aW9uID0gW107CiAgICAgICAgZm9yIChpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgeC5jcm9zc3RhbGsuc2VsX2hhbmRsZVtpXSA9IG5ldyBjcm9zc3RhbGsuU2VsZWN0aW9uSGFuZGxlKGdyb3Vwc1tpXSwge3NoYXJlZElkOiB4LmNyb3NzdGFsay5pZFtpXX0pOwogICAgICAgICAgeC5jcm9zc3RhbGsuc2VsX2hhbmRsZVtpXS5vbigiY2hhbmdlIiwgb25jaGFuZ2VzZWxlY3Rpb24pOwogICAgICAgICAgeC5jcm9zc3RhbGsuZmlsX2hhbmRsZVtpXSA9IG5ldyBjcm9zc3RhbGsuRmlsdGVySGFuZGxlKGdyb3Vwc1tpXSwge3NoYXJlZElkOiB4LmNyb3NzdGFsay5pZFtpXX0pOwogICAgICAgICAgeC5jcm9zc3RhbGsuZmlsX2hhbmRsZVtpXS5vbigiY2hhbmdlIiwgb25jaGFuZ2VmaWx0ZXIpOwogICAgICAgIH0KICAgICAgICBpZiAoaW5TaGlueSkgewogICAgICAgICAgLy8gU2hpbnkgY2FsbHMgdGhpcyBtdWx0aXBsZSB0aW1lcywgc28gd2UgbmVlZCBleHRyYSBjbGVhbnVwCiAgICAgICAgICAvLyBiZXR3ZWVuCiAgICAgICAgICByZ2wuc3BoZXJlID0gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgICByZ2wuaW5pdGlhbGl6ZShlbCwgeCk7CiAgICAgICAgcmdsLmluaXRHTCgpOwogIAogIC8qIFdlIG1pZ2h0IGhhdmUgYmVlbiBjYWxsZWQgYWZ0ZXIgKHNvbWUgb2YpIHRoZSBwbGF5ZXJzIHdlcmUgcmVuZGVyZWQuCiAgICAgV2UgbmVlZCB0byBtYWtlIHN1cmUgd2UgcmVzcG9uZCB0byB0aGVpciBpbml0aWFsIHZhbHVlcy4gKi8KCiAgICAgICAgaWYgKHR5cGVvZiB4LnBsYXllcnMgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICB2YXIgcGxheWVycyA9IFtdLmNvbmNhdCh4LnBsYXllcnMpOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBsYXllcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGxheWVyc1tpXSk7CiAgICAgICAgICAgIGlmIChwZWwpIHsKICAgICAgICAgICAgICBwbGF5ZXIgPSBwZWwucmdsUGxheWVyOwogICAgICAgICAgICAgIGlmIChwbGF5ZXIgJiYgKCFwbGF5ZXIuaW5pdGlhbGl6ZWQgfHwgaW5TaGlueSkpIHsKICAgICAgICAgICAgICAgIHJnbC5QbGF5ZXIocGVsLCBwbGF5ZXIpOwogICAgICAgICAgICAgICAgcGxheWVyLmluaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmdsLmRyYWcgPSAwOwogICAgICAgIHJnbC5kcmF3U2NlbmUoKTsKICAgICAgfSwKCiAgICAgIHJlc2l6ZTogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkgewogICAgICAgIGVsLndpZHRoID0gd2lkdGg7CiAgICAgICAgZWwuaGVpZ2h0ID0gaGVpZ2h0OwogICAgICAgIGVsLnJnbGluc3RhbmNlLnJlc2l6ZShlbCk7CiAgICAgICAgZWwucmdsaW5zdGFuY2UuZHJhd1NjZW5lKCk7CiAgICAgIH0KICAgIH07CiAgfQp9KTsK"></script>
<link href="data:text/css,%2ErglPlayer%20%7B%0Awidth%3A%20auto%3B%0Aheight%3A%20auto%3B%0A%7D%0A%2ErglPlayer%20%2Ergl%2Dbutton%20%7B%0Awidth%3A%20auto%3B%0Adisplay%3A%20inline%2Dblock%3B%0Afont%2Dsize%3A%2075%25%3B%0A%7D%0A%2ErglPlayer%20%2Ergl%2Dslider%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Awidth%3A%2030%25%3B%0A%7D%0A%2ErglPlayer%20%2Ergl%2Dlabel%20%7B%0Adisplay%3A%20inline%3B%0Apadding%2Dleft%3A%206px%3B%0Apadding%2Dright%3A%206px%3B%0A%7D%0A" rel="stylesheet" />
<script src="data:application/javascript;base64,Ly8vLyBUbyBnZW5lcmF0ZSB0aGUgaGVscCBwYWdlcyBmb3IgdGhpcyBsaWJyYXJ5LCB1c2UKCi8vIGpzZG9jIC0tdGVtcGxhdGUgL3Vzci9sb2NhbC9saWIvbm9kZV9tb2R1bGVzL2Zvb2RvYy90ZW1wbGF0ZSAqLnNyYy5qcyAtUiBSRUFETUUubWQgLWMgSlNEb2MuanNvbgoKLy8gVG8gdGVzdCwgc2V0IGVudmlyb25tZW50IHZhcmlhYmxlIFJHTF9ERUJVR0dJTkc9dHJ1ZQovLyBiZWZvcmUgYnVpbGRpbmcuCgovKiBnbG9iYWxzIHJnbHdpZGdldENsYXNzOiB0cnVlICovCgovKioKICogVGhlIGNsYXNzIG9mIGFuIHJnbCB3aWRnZXQKICogQGNsYXNzCiovCnJnbHdpZGdldENsYXNzID0gZnVuY3Rpb24oKSB7CiAgICB0aGlzLmNhbnZhcyA9IG51bGw7CiAgICB0aGlzLnVzZXJNYXRyaXggPSBuZXcgQ2FudmFzTWF0cml4NCgpOwogICAgdGhpcy50eXBlcyA9IFtdOwogICAgdGhpcy5wck1hdHJpeCA9IG5ldyBDYW52YXNNYXRyaXg0KCk7CiAgICB0aGlzLm12TWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgIHRoaXMudnAgPSBudWxsOwogICAgdGhpcy5wcm12TWF0cml4ID0gbnVsbDsKICAgIHRoaXMub3JpZ3MgPSBudWxsOwogICAgdGhpcy5nbCA9IG51bGw7CiAgICB0aGlzLnNjZW5lID0gbnVsbDsKICAgIHRoaXMuc2VsZWN0ID0ge3N0YXRlOiAiaW5hY3RpdmUiLCBzdWJzY2VuZTogbnVsbCwgcmVnaW9uOiB7cDE6IHt4OjAsIHk6MH0sIHAyOiB7eDowLCB5OjB9fX07CiAgICB0aGlzLmRyYXdpbmcgPSBmYWxzZTsKfTsKCgogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmZfaXNfbGl0ID0gMTsKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5mX2lzX3Ntb290aCA9IDI7CiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZl9oYXNfdGV4dHVyZSA9IDQ7CiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZl9kZXB0aF9zb3J0ID0gODsKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5mX2ZpeGVkX3F1YWRzID0gMTY7CiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZl9pc190cmFuc3BhcmVudCA9IDMyOwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmZfaXNfbGluZXMgPSA2NDsKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5mX3Nwcml0ZXNfM2QgPSAxMjg7CiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZl9pc19zdWJzY2VuZSA9IDI1NjsKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5mX2lzX2NsaXBwbGFuZXMgPSA1MTI7CiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZl9maXhlZF9zaXplID0gMTAyNDsKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5mX2lzX3BvaW50cyA9IDIwNDg7CiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZl9pc190d29zaWRlZCA9IDQwOTY7CiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZl9mYXRfbGluZXMgPSA4MTkyOwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmZfaXNfYnJ1c2ggPSAxNjM4NDsKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5mX2hhc19mb2cgPSAzMjc2ODsKICAgIAogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmZvZ05vbmUgPSAwOwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmZvZ0xpbmVhciA9IDE7CiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZm9nRXhwID0gMjsKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5mb2dFeHAyID0gMzsKCiAgICAvKioKICAgICAqIE1ldGhvZHMgcmVsYXRlZCB0byBvYnNvbGV0ZSBhcHByb2FjaGVzLgogICAgICogQG5hbWUgX19fT0JTT0xFVEVfTUVUSE9EU19fXwogICAgICogQG1lbWJlcm9mIHJnbHdpZGdldENsYXNzCiAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICogQGluc3RhbmNlCiAgICAgKi8KICAgICAKICAgIC8qKgogICAgICogU3RhcnQgdGhlIHdyaXRlV2ViR0wgc2NlbmUuIFRoaXMgaXMgb25seSB1c2VkIGJ5IHdyaXRlV2ViR0w7IHJnbHdpZGdldCBoYXMKICAgICAgIG5vIGRlYnVnIGVsZW1lbnQuCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkgewogICAgICBpZiAodHlwZW9mIHRoaXMucHJlZml4ICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIHRoaXMuZGVidWdlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXggKyAiZGVidWciKTsKICAgICAgICB0aGlzLmRlYnVnKCIiKTsKICAgICAgfQogICAgICB0aGlzLmRyYWcgPSAwOwogICAgICB0aGlzLmRyYXdTY2VuZSgpOwogICAgfTsK"></script>
<script src="data:application/javascript;base64,ICAgIC8qKgogICAgICogVXRpbGl0eSBtZXRob2RzCiAgICAgKiBAbmFtZSBfX19VVElMSVRZX01FVEhPRFNfX18KICAgICAqIEBtZW1iZXJvZiByZ2x3aWRnZXRDbGFzcwogICAgICogQGtpbmQgZnVuY3Rpb24KICAgICAqIEBpbnN0YW5jZQogICAgICovCiAgICAgCiAgICAvKioKICAgICAqIE11bHRpcGx5IG1hdHJpeCBieSB2ZWN0b3IKICAgICAqIEByZXR1cm5zIHtudW1iZXJbXX0KICAgICAqIEBwYXJhbSBNIHtudW1iZXJbXVtdfSBMZWZ0IG9wZXJhbmQKICAgICAqIEBwYXJhbSB2IHtudW1iZXJbXX0gUmlnaHQgb3BlcmFuZAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUubXVsdE1WID0gZnVuY3Rpb24oTSwgdikgewogICAgICAgIHJldHVybiBbIE0ubTExICogdlswXSArIE0ubTEyICogdlsxXSArIE0ubTEzICogdlsyXSArIE0ubTE0ICogdlszXSwKICAgICAgICAgICAgICAgICBNLm0yMSAqIHZbMF0gKyBNLm0yMiAqIHZbMV0gKyBNLm0yMyAqIHZbMl0gKyBNLm0yNCAqIHZbM10sCiAgICAgICAgICAgICAgICAgTS5tMzEgKiB2WzBdICsgTS5tMzIgKiB2WzFdICsgTS5tMzMgKiB2WzJdICsgTS5tMzQgKiB2WzNdLAogICAgICAgICAgICAgICAgIE0ubTQxICogdlswXSArIE0ubTQyICogdlsxXSArIE0ubTQzICogdlsyXSArIE0ubTQ0ICogdlszXQogICAgICAgICAgICAgICBdOwogICAgfTsKICAgIAogICAgLyoqCiAgICAgKiBNdWx0aXBseSByb3cgdmVjdG9yIGJ5IE1hdHJpeAogICAgICogQHJldHVybnMge251bWJlcltdfQogICAgICogQHBhcmFtIHYge251bWJlcltdfSBsZWZ0IG9wZXJhbmQKICAgICAqIEBwYXJhbSBNIHtudW1iZXJbXVtdfSByaWdodCBvcGVyYW5kCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5tdWx0Vk0gPSBmdW5jdGlvbih2LCBNKSB7CiAgICAgICAgcmV0dXJuIFsgTS5tMTEgKiB2WzBdICsgTS5tMjEgKiB2WzFdICsgTS5tMzEgKiB2WzJdICsgTS5tNDEgKiB2WzNdLAogICAgICAgICAgICAgICAgIE0ubTEyICogdlswXSArIE0ubTIyICogdlsxXSArIE0ubTMyICogdlsyXSArIE0ubTQyICogdlszXSwKICAgICAgICAgICAgICAgICBNLm0xMyAqIHZbMF0gKyBNLm0yMyAqIHZbMV0gKyBNLm0zMyAqIHZbMl0gKyBNLm00MyAqIHZbM10sCiAgICAgICAgICAgICAgICAgTS5tMTQgKiB2WzBdICsgTS5tMjQgKiB2WzFdICsgTS5tMzQgKiB2WzJdICsgTS5tNDQgKiB2WzNdCiAgICAgICAgICAgICAgIF07CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIEV1Y2xpZGVhbiBsZW5ndGggb2YgYSB2ZWN0b3IKICAgICAqIEByZXR1cm5zIHtudW1iZXJ9CiAgICAgKiBAcGFyYW0gdiB7bnVtYmVyW119CiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS52bGVuID0gZnVuY3Rpb24odikgewogICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZG90cHJvZCh2LCB2KSk7CiAgICB9OwoKICAgIC8qKgogICAgICogRG90IHByb2R1Y3Qgb2YgdHdvIHZlY3RvcnMKICAgICAqIEBpbnN0YW5jZSByZ2x3aWRnZXRDbGFzcwogICAgICogQHJldHVybnMge251bWJlcn0KICAgICAqIEBwYXJhbSBhIHtudW1iZXJbXX0KICAgICAqIEBwYXJhbSBiIHtudW1iZXJbXX0KICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRvdHByb2QgPSBmdW5jdGlvbihhLCBiKSB7CiAgICAgIHJldHVybiBhWzBdKmJbMF0gKyBhWzFdKmJbMV0gKyBhWzJdKmJbMl07CiAgICB9OwoKICAgIC8qKgogICAgICogQ3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjdG9ycwogICAgICogQHJldHVybnMge251bWJlcltdfQogICAgICogQHBhcmFtIGEge251bWJlcltdfQogICAgICogQHBhcmFtIGIge251bWJlcltdfQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUueHByb2QgPSBmdW5jdGlvbihhLCBiKSB7CiAgICAgIHJldHVybiBbYVsxXSpiWzJdIC0gYVsyXSpiWzFdLAogICAgICAgICAgYVsyXSpiWzBdIC0gYVswXSpiWzJdLAogICAgICAgICAgYVswXSpiWzFdIC0gYVsxXSpiWzBdXTsKICAgIH07CgogICAgLyoqCiAgICAgKiBCaW5kIHZlY3RvcnMgb3IgbWF0cmljZXMgYnkgY29sdW1ucwogICAgICogQHJldHVybnMge251bWJlcltdW119CiAgICAgKiBAcGFyYW0gYSB7bnVtYmVyW11bXX0KICAgICAqIEBwYXJhbSBiIHtudW1iZXJbXXxudW1iZXJbXVtdfQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuY2JpbmQgPSBmdW5jdGlvbihhLCBiKSB7CiAgICAgIGlmIChiLmxlbmd0aCA8IGEubGVuZ3RoKQogICAgICAgIGIgPSB0aGlzLnJlcGVhdFRvTGVuKGIsIGEubGVuZ3RoKTsKICAgICAgZWxzZSBpZiAoYS5sZW5ndGggPCBiLmxlbmd0aCkKICAgICAgICBhID0gdGhpcy5yZXBlYXRUb0xlbihhLCBiLmxlbmd0aCk7CiAgICAgIHJldHVybiBhLm1hcChmdW5jdGlvbihjdXJyZW50VmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgIHJldHVybiBjdXJyZW50VmFsdWUuY29uY2F0KGJbaW5kZXhdKTsKICAgICAgfSk7CiAgICB9OwoKICAgIC8qKgogICAgICogU3dhcCBlbGVtZW50cwogICAgICogQHJldHVybnMge2FueVtdfQogICAgICogQHBhcmFtIGEge2FueVtdfQogICAgICogQHBhcmFtIGkge251bWJlcn0gRWxlbWVudCB0byBzd2FwCiAgICAgKiBAcGFyYW0gaiB7bnVtYmVyfSBPdGhlciBlbGVtZW50IHRvIHN3YXAKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnN3YXAgPSBmdW5jdGlvbihhLCBpLCBqKSB7CiAgICAgIHZhciB0ZW1wID0gYVtpXTsKICAgICAgYVtpXSA9IGFbal07CiAgICAgIGFbal0gPSB0ZW1wOwogICAgfTsKCiAgICAvKioKICAgICAqIEZsYXR0ZW4gYSBtYXRyaXggaW50byBhIHZlY3RvcgogICAgICogQHJldHVybnMge2FueVtdfQogICAgICogQHBhcmFtIGEge2FueVtdW119CiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5mbGF0dGVuID0gZnVuY3Rpb24oYXJyLCByZXN1bHQpIHsKICAgICAgdmFyIHZhbHVlOwogICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gInVuZGVmaW5lZCIpIHJlc3VsdCA9IFtdOwogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYXJyLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFsdWUgPSBhcnJbaV07CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgICB0aGlzLmZsYXR0ZW4odmFsdWUsIHJlc3VsdCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgLyoqCiAgICAgKiBzZXQgZWxlbWVudCBvZiAxZCBvciAyZCBhcnJheSBhcyBpZiBpdCB3YXMgZmxhdHRlbmVkLgogICAgICogQ29sdW1uIG1ham9yLCB6ZXJvIGJhc2VkIQogICAgICogQHJldHVybnMge2FueVtdfGFueVtdW119CiAgICAgKiBAcGFyYW0ge2FueVtdfGFueVtdW119IGEgLSBhcnJheQogICAgICogQHBhcmFtIHtudW1iZXJ9IGkgLSBlbGVtZW50CiAgICAgKiBAcGFyYW0ge2FueX0gdmFsdWUKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnNldEVsZW1lbnQgPSBmdW5jdGlvbihhLCBpLCB2YWx1ZSkgewogICAgICBpZiAoQXJyYXkuaXNBcnJheShhWzBdKSkgewogICAgICAgIHZhciBkaW0gPSBhLmxlbmd0aCwKICAgICAgICAgICAgY29sID0gTWF0aC5mbG9vcihpL2RpbSksCiAgICAgICAgICAgIHJvdyA9IGkgJSBkaW07CiAgICAgICAgYVtyb3ddW2NvbF0gPSB2YWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhW2ldID0gdmFsdWU7CiAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBUcmFuc3Bvc2UgYW4gYXJyYXkKICAgICAqIEByZXR1cm5zIHthbnlbXVtdfQogICAgICogQHBhcmFtIHthbnlbXVtdfSBhCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS50cmFuc3Bvc2UgPSBmdW5jdGlvbihhKSB7CiAgICAgIHZhciBuZXdBcnJheSA9IFtdLAogICAgICAgICAgbiA9IGEubGVuZ3RoLAogICAgICAgICAgbSA9IGFbMF0ubGVuZ3RoLAogICAgICAgICAgaTsKICAgICAgZm9yKGkgPSAwOyBpIDwgbTsgaSsrKXsKICAgICAgICBuZXdBcnJheS5wdXNoKFtdKTsKICAgICAgfQoKICAgICAgZm9yKGkgPSAwOyBpIDwgbjsgaSsrKXsKICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgbTsgaisrKXsKICAgICAgICAgIG5ld0FycmF5W2pdLnB1c2goYVtpXVtqXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBuZXdBcnJheTsKICAgIH07CgogICAgLyoqCiAgICAgKiBDYWxjdWxhdGUgc3VtIG9mIHNxdWFyZXMgb2YgYSBudW1lcmljIHZlY3RvcgogICAgICogQHJldHVybnMge251bWJlcn0KICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHgKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnN1bXNxID0gZnVuY3Rpb24oeCkgewogICAgICB2YXIgcmVzdWx0ID0gMCwgaTsKICAgICAgZm9yIChpPTA7IGkgPCB4Lmxlbmd0aDsgaSsrKQogICAgICAgIHJlc3VsdCArPSB4W2ldKnhbaV07CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9OwoKICAgIC8qKgogICAgICogQ29udmVydCBhIG1hdHJpeCB0byBhIENhbnZhc01hdHJpeDQKICAgICAqIEByZXR1cm5zIHtDYW52YXNNYXRyaXg0fQogICAgICogQHBhcmFtIHtudW1iZXJbXVtdfG51bWJlcltdfSBtYXQKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnRvQ2FudmFzTWF0cml4NCA9IGZ1bmN0aW9uKG1hdCkgewogICAgICBpZiAobWF0IGluc3RhbmNlb2YgQ2FudmFzTWF0cml4NCkKICAgICAgICByZXR1cm4gbWF0OwogICAgICB2YXIgcmVzdWx0ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgICAgbWF0ID0gdGhpcy5mbGF0dGVuKHRoaXMudHJhbnNwb3NlKG1hdCkpOwogICAgICByZXN1bHQubG9hZChtYXQpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfTsKCiAgICAvKioKICAgICAqIENvbnZlcnQgYW4gUi1zdHlsZSBudW1lcmljIGNvbG91ciBzdHJpbmcgdG8gYW4gcmdiIHZlY3RvcgogICAgICogQHJldHVybnMge251bWJlcltdfQogICAgICogQHBhcmFtIHtzdHJpbmd9IHMKICAgICAqLwogICAgLyoganNoaW50IGJpdHdpc2U6ZmFsc2UgKi8gCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuc3RyaW5nVG9SZ2IgPSBmdW5jdGlvbihzKSB7CiAgICAgIHMgPSBzLnJlcGxhY2UoIiMiLCAiIik7CiAgICAgIHZhciBiaWdpbnQgPSBwYXJzZUludChzLCAxNik7CiAgICAgIHJldHVybiBbKChiaWdpbnQgPj4gMTYpICYgMjU1KS8yNTUsCiAgICAgICAgICAgICAgKChiaWdpbnQgPj4gOCkgJiAyNTUpLzI1NSwKICAgICAgICAgICAgICAgKGJpZ2ludCAmIDI1NSkvMjU1XTsKICAgIH07CiAgICAvKiBqc2hpbnQgYml0d2lzZTp0cnVlICovCiAgICAvKioKICAgICAqIFdoaWNoIGxpc3QgZG9lcyBhIHBhcnRpY3VsYXIgaWQgY29tZSBmcm9tPwogICAgICogQHJldHVybnMgeyBzdHJpbmcgfQogICAgICogQHBhcmFtIHtudW1iZXJ9IGlkIFRoZSBpZCB0byBsb29rIHVwLgogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUud2hpY2hMaXN0ID0gZnVuY3Rpb24oaWQpIHsKICAgICAgdmFyIG9iaiA9IHRoaXMuZ2V0T2JqKGlkKSwKICAgICAgICAgIGZsYWdzID0gb2JqLmZsYWdzOwogICAgICAgIGlmIChvYmoudHlwZSA9PT0gImxpZ2h0IikKICAgICAgICAgIHJldHVybiAibGlnaHRzIjsKICAgICAgICBpZiAodGhpcy5pc1NldChmbGFncywgdGhpcy5mX2lzX3N1YnNjZW5lKSkKICAgICAgICAgICAgcmV0dXJuICJzdWJzY2VuZXMiOwogICAgICAgIGlmICh0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaXNfY2xpcHBsYW5lcykpCiAgICAgICAgICAgIHJldHVybiAiY2xpcHBsYW5lcyI7CiAgICAgICAgaWYgKHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9pc190cmFuc3BhcmVudCkpCiAgICAgICAgICAgIHJldHVybiAidHJhbnNwYXJlbnQiOwogICAgICAgIHJldHVybiAib3BhcXVlIjsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogVGFrZSBhIGNvbXBvbmVudC1ieS1jb21wb25lbnQgcHJvZHVjdCBvZiB0d28gMyB2ZWN0b3JzCiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119CiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB4CiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB5CiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5jb21wb25lbnRQcm9kdWN0ID0gZnVuY3Rpb24oeCwgeSkgewogICAgICBpZiAodHlwZW9mIHkgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgdGhpcy5hbGVydE9uY2UoIkJhZCBhcmcgdG8gY29tcG9uZW50UHJvZHVjdCIpOwogICAgICB9CiAgICAgIHZhciByZXN1bHQgPSBuZXcgRmxvYXQzMkFycmF5KDMpLCBpOwogICAgICBmb3IgKGkgPSAwOyBpPDM7IGkrKykKICAgICAgICByZXN1bHRbaV0gPSB4W2ldKnlbaV07CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9OwoKICAgIC8qKgogICAgICogR2V0IG5leHQgaGlnaGVyIHBvd2VyIG9mIHR3bwogICAgICogQHJldHVybnMgeyBudW1iZXIgfQogICAgICogQHBhcmFtIHsgbnVtYmVyIH0gdmFsdWUgLSBpbnB1dCB2YWx1ZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZ2V0UG93ZXJPZlR3byA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHZhciBwb3cgPSAxOwogICAgICB3aGlsZShwb3c8dmFsdWUpIHsKICAgICAgICBwb3cgKj0gMjsKICAgICAgfQogICAgICByZXR1cm4gcG93OwogICAgfTsKCiAgICAvKioKICAgICAqIFVuaXF1ZSBlbnRyaWVzCiAgICAgKiBAcmV0dXJucyB7IGFueVtdIH0KICAgICAqIEBwYXJhbSB7IGFueVtdIH0gYXJyIC0gQW4gYXJyYXkKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnVuaXF1ZSA9IGZ1bmN0aW9uKGFycikgewogICAgICBhcnIgPSBbXS5jb25jYXQoYXJyKTsKICAgICAgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24odmFsdWUsIGluZGV4LCBzZWxmKSB7CiAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4OwogICAgICB9KTsKICAgIH07CgogICAgLyoqCiAgICAgKiBTaGFsbG93IGNvbXBhcmUgb2YgYXJyYXlzCiAgICAgKiBAcmV0dXJucyB7IGJvb2xlYW4gfQogICAgICogQHBhcmFtIHsgYW55W10gfSBhIC0gQW4gYXJyYXkKICAgICAqIEBwYXJhbSB7IGFueVtdIH0gYiAtIEFub3RoZXIgYXJyYXkKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmVxdWFsQXJyYXlzID0gZnVuY3Rpb24oYSwgYikgewogICAgICByZXR1cm4gYSA9PT0gYiB8fCAoYSAmJiBiICYmCiAgICAgICAgICAgICAgICAgICAgICBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYKICAgICAgICAgICAgICAgICAgICAgIGEuZXZlcnkoZnVuY3Rpb24odiwgaSkge3JldHVybiB2ID09PSBiW2ldO30pKTsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogUmVwZWF0IGFuIGFycmF5IHRvIGEgZGVzaXJlZCBsZW5ndGgKICAgICAqIEByZXR1cm5zIHthbnlbXX0KICAgICAqIEBwYXJhbSB7YW55IHwgYW55W119IGFyciBUaGUgaW5wdXQgYXJyYXkKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW4gVGhlIGRlc2lyZWQgb3V0cHV0IGxlbmd0aAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUucmVwZWF0VG9MZW4gPSBmdW5jdGlvbihhcnIsIGxlbikgewogICAgICBhcnIgPSBbXS5jb25jYXQoYXJyKTsKICAgICAgaWYgKCFhcnIubGVuZ3RoKSAKICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigiYXJyYXkgaXMgbGVuZ3RoIDAiKTsKICAgICAgd2hpbGUgKGFyci5sZW5ndGggPCBsZW4vMikKICAgICAgICBhcnIgPSBhcnIuY29uY2F0KGFycik7CiAgICAgIHJldHVybiBhcnIuY29uY2F0KGFyci5zbGljZSgwLCBsZW4gLSBhcnIubGVuZ3RoKSk7CiAgICB9OwoKICAgIC8qKgogICAgICogR2l2ZSBhIHNpbmdsZSBhbGVydCBtZXNzYWdlLCBub3QgdG8gYmUgcmVwZWF0ZWQuCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbXNnICBUaGUgbWVzc2FnZSB0byBnaXZlLgogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuYWxlcnRPbmNlID0gZnVuY3Rpb24obXNnKSB7CiAgICAgIC8vIGRlYnVnZ2VyOwogICAgICBpZiAodHlwZW9mIHRoaXMuYWxlcnRlZCAhPT0gInVuZGVmaW5lZCIpCiAgICAgICAgcmV0dXJuOwogICAgICB0aGlzLmFsZXJ0ZWQgPSB0cnVlOwogICAgICBhbGVydChtc2cpOwogICAgfTsKCiAgICAvKioKICAgICAqIEdldCBhbiBvYmplY3QgYnkgaWQgbnVtYmVyLgogICAgICogQHJldHVybnMgeyBPYmplY3QgfQogICAgICogQHBhcmFtIHtudW1iZXJ9IGlkCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5nZXRPYmogPSBmdW5jdGlvbihpZCkgewogICAgICBpZiAodHlwZW9mIGlkICE9PSAibnVtYmVyIikgewogICAgICAgIHRoaXMuYWxlcnRPbmNlKCJnZXRPYmogaWQgaXMgIit0eXBlb2YgaWQpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnNjZW5lLm9iamVjdHNbaWRdOwogICAgfTsKCiAgICAvKioKICAgICAqIEdldCBpZHMgb2YgYSBwYXJ0aWN1bGFyIHR5cGUgZnJvbSBhIHN1YnNjZW5lIG9yIHRoZSB3aG9sZSBzY2VuZQogICAgICogQHJldHVybnMgeyBudW1iZXJbXSB9CiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBXaGF0IHR5cGUgb2Ygb2JqZWN0PwogICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnNjZW5lICBXaGljaCBzdWJzY2VuZT8gIElmIG5vdCBnaXZlbiwgZmluZCBpbiB0aGUgd2hvbGUgc2NlbmUKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmdldElkc0J5VHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHN1YnNjZW5lKSB7CiAgICAgIHZhcgogICAgICAgIHJlc3VsdCA9IFtdLCBpLCBzZWxmID0gdGhpcywgaWRzOwogICAgICBpZiAodHlwZW9mIHN1YnNjZW5lID09PSAidW5kZWZpbmVkIikgewogICAgICAgIE9iamVjdC5rZXlzKHRoaXMuc2NlbmUub2JqZWN0cykuZm9yRWFjaCgKICAgICAgICAgIGZ1bmN0aW9uKGtleSkgewogICAgICAgICAgICBrZXkgPSBwYXJzZUludChrZXksIDEwKTsKICAgICAgICAgICAgaWYgKHNlbGYuZ2V0T2JqKGtleSkudHlwZSA9PT0gdHlwZSkKICAgICAgICAgICAgICByZXN1bHQucHVzaChrZXkpOwogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWRzID0gdGhpcy5nZXRPYmooc3Vic2NlbmUpLm9iamVjdHM7CiAgICAgICAgZm9yIChpPTA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmICh0aGlzLmdldE9iaihpZHNbaV0pLnR5cGUgPT09IHR5cGUpIHsKICAgICAgICAgICAgcmVzdWx0LnB1c2goaWRzW2ldKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgLyoqCiAgICAgKiBHZXQgYSBwYXJ0aWN1bGFyIG1hdGVyaWFsIHByb3BlcnR5IGZvciBhbiBvYmoKICAgICAqIEByZXR1cm5zIHsgYW55IH0KICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogIFdoaWNoIG9iamVjdD8KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBXaGljaCBtYXRlcmlhbCBwcm9wZXJ0eT8KICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmdldE1hdGVyaWFsID0gZnVuY3Rpb24ob2JqLCBwcm9wZXJ0eSkgewogICAgICB2YXIgbWF0OwogICAgICBpZiAodHlwZW9mIG9iai5tYXRlcmlhbCA9PT0gInVuZGVmaW5lZCIpCiAgICAgICAgY29uc29sZS5lcnJvcigibWF0ZXJpYWwgdW5kZWZpbmVkIik7CiAgICAgIG1hdCA9IG9iai5tYXRlcmlhbFtwcm9wZXJ0eV07CiAgICAgIGlmICh0eXBlb2YgbWF0ID09PSAidW5kZWZpbmVkIikKICAgICAgICAgIG1hdCA9IHRoaXMuc2NlbmUubWF0ZXJpYWxbcHJvcGVydHldOwogICAgICByZXR1cm4gbWF0OwogICAgfTsKICAgIAogICAvKioKICAgICAqIEdldCBhIHBhcnRpY3VsYXIgbWF0ZXJpYWwgcHJvcGVydHkgZm9yIGFuIGlkCiAgICAgKiBAcmV0dXJucyB7IGFueSB9CiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWQgIFdoaWNoIG9iamVjdD8KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBXaGljaCBtYXRlcmlhbCBwcm9wZXJ0eT8KICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmdldE1hdGVyaWFsSWQgPSBmdW5jdGlvbihpZCwgcHJvcGVydHkpIHsKICAgICAgdmFyIG9iaiA9IHRoaXMuZ2V0T2JqKGlkKTsKICAgICAgcmV0dXJuIHRoaXMuZ2V0TWF0ZXJpYWwob2JqLCBwcm9wZXJ0eSk7CiAgICB9OwoKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5nZXRBZGogPSBmdW5jdGlvbiAob2JqLCBpbmRleCwgb2Zmc2V0LCB0ZXh0KSB7CiAgICAgIHZhciBsZW4sIHBvczsKICAgICAgaWYgKHR5cGVvZiBvYmoucG9zID09PSAidW5kZWZpbmVkIikKICAgICAgICByZXR1cm4gdGhpcy5mbGF0dGVuKG9iai5hZGopOwogICAgICBwb3MgPSBvYmoucG9zW2luZGV4ICUgb2JqLnBvcy5sZW5ndGhdOwogICAgICBzd2l0Y2gocG9zKSB7CiAgICAgICAgY2FzZSAwOiByZXR1cm4gWzAuNSwgMC41LCAwLjVdOwogICAgICAgIGNhc2UgMTogcmV0dXJuIFswLjUsIDEgKyBvZmZzZXQsIDAuNV07CiAgICAgICAgY2FzZSAzOiByZXR1cm4gWzAuNSwgLW9mZnNldCwgMC41XTsKICAgICAgICBjYXNlIDU6IHJldHVybiBbMC41LCAwLjUsIC1vZmZzZXRdOwogICAgICAgIGNhc2UgNjogcmV0dXJuIFswLjUsIDAuNSwgMSArIG9mZnNldF07CiAgICAgICAgY2FzZSAyOiAKICAgICAgICBjYXNlIDQ6IGlmICh0eXBlb2YgdGV4dCA9PT0gInVuZGVmaW5lZCIpCiAgICAgICAgICAgICAgICAgIGxlbiA9IDE7CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgIGxlbiA9IHRleHQubGVuZ3RoOwogICAgICAgICAgICAgICAgaWYgKHBvcyA9PT0gMikKICAgICAgICAgICAgICAgICAgcmV0dXJuIFsxICsgb2Zmc2V0L2xlbiwgMC41LCAwLjVdOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICByZXR1cm4gWy1vZmZzZXQvbGVuLCAwLjUsIDAuNV07CiAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBDb3VudCBjbGlwcGluZyBwbGFuZXMgaW4gYSBzY2VuZQogICAgICogQHJldHVybnMge251bWJlcn0KICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmNvdW50Q2xpcHBsYW5lcyA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5jb3VudE9ianMoImNsaXBwbGFuZXMiKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBDb3VudCBsaWdodHMgaW4gYSBzY2VuZQogICAgICogQHJldHVybnMgeyBudW1iZXIgfQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuY291bnRMaWdodHMgPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuY291bnRPYmpzKCJsaWdodCIpOwogICAgfTsKCiAgICAvKioKICAgICAqIENvdW50IG9iamVjdHMgb2Ygc3BlY2lmaWMgdHlwZSBpbiBhIHNjZW5lCiAgICAgKiBAcmV0dXJucyB7IG51bWJlciB9CiAgICAgKiBAcGFyYW0geyBzdHJpbmcgfSB0eXBlIC0gVHlwZSBvZiBvYmplY3QgdG8gY291bnQKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmNvdW50T2JqcyA9IGZ1bmN0aW9uKHR5cGUpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzLAogICAgICAgICAgYm91bmQgPSAwOwoKICAgICAgT2JqZWN0LmtleXModGhpcy5zY2VuZS5vYmplY3RzKS5mb3JFYWNoKAogICAgICAgIGZ1bmN0aW9uKGtleSkgewogICAgICAgICAgaWYgKHNlbGYuZ2V0T2JqKHBhcnNlSW50KGtleSwgMTApKS50eXBlID09PSB0eXBlKQogICAgICAgICAgICBib3VuZCA9IGJvdW5kICsgMTsKICAgICAgICB9KTsKICAgICAgcmV0dXJuIGJvdW5kOwogICAgfTsKCiAgICAvKioKICAgICAqIERpc3BsYXkgYSBkZWJ1ZyBtZXNzYWdlCiAgICAgKiBAcGFyYW0geyBzdHJpbmcgfSBtc2cgLSBUaGUgbWVzc2FnZSB0byBkaXNwbGF5CiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBbaW1nXSAtIEltYWdlIHRvIGluc2VydCBiZWZvcmUgbWVzc2FnZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbihtc2csIGltZykgewogICAgICBpZiAodHlwZW9mIHRoaXMuZGVidWdlbGVtZW50ICE9PSAidW5kZWZpbmVkIiAmJiB0aGlzLmRlYnVnZWxlbWVudCAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuZGVidWdlbGVtZW50LmlubmVySFRNTCA9IG1zZzsKICAgICAgICBpZiAodHlwZW9mIGltZyAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHRoaXMuZGVidWdlbGVtZW50Lmluc2VydEJlZm9yZShpbWcsIHRoaXMuZGVidWdlbGVtZW50LmZpcnN0Q2hpbGQpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChtc2cgIT09ICIiKQogICAgICAgIGFsZXJ0KG1zZyk7CiAgICB9OwoKICAgIC8qKgogICAgICogSWYgd2UgYXJlIGluIGFuIGlvc2xpZGVzIG9yIHNsaWR5IHByZXNlbnRhdGlvbiwgZ2V0IHRoZQogICAgICogRE9NIGVsZW1lbnQgb2YgdGhlIGN1cnJlbnQgc2xpZGUKICAgICAqIEByZXR1cm5zIHsgT2JqZWN0IH0KICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmdldFNsaWRlID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmVsLCBkb25lID0gZmFsc2U7CiAgICAgIHdoaWxlIChyZXN1bHQgJiYgIWRvbmUgJiYgdGhpcy5zY2VuZS5jb250ZXh0LnJtYXJrZG93bikgewogICAgICAJc3dpdGNoKHRoaXMuc2NlbmUuY29udGV4dC5ybWFya2Rvd24pIHsKICAgICAgICAgIGNhc2UgImlvc2xpZGVzX3ByZXNlbnRhdGlvbiI6CiAgICAgICAgICAgIGlmIChyZXN1bHQudGFnTmFtZSA9PT0gIlNMSURFIikgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJzbGlkeV9wcmVzZW50YXRpb24iOgogICAgICAgICAgICBpZiAocmVzdWx0LnRhZ05hbWUgPT09ICJESVYiICYmIHJlc3VsdC5jbGFzc0xpc3QuY29udGFpbnMoInNsaWRlIikpCiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gbnVsbDsKICAgICAgCX0KICAgICAgCXJlc3VsdCA9IHJlc3VsdC5wYXJlbnRFbGVtZW50OwogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfTsKCiAgICAvKioKICAgICAqIElzIHRoaXMgc2NlbmUgdmlzaWJsZSBpbiB0aGUgYnJvd3Nlcj8KICAgICAqIEByZXR1cm5zIHsgYm9vbGVhbiB9CiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5pc0luQnJvd3NlclZpZXdwb3J0ID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciByZWN0ID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgICB3aW5kSGVpZ2h0ID0gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSwKICAgICAgICAgIHdpbmRXaWR0aCA9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpOwogICAgICBpZiAodGhpcy5zY2VuZS5jb250ZXh0ICYmIHRoaXMuc2NlbmUuY29udGV4dC5ybWFya2Rvd24gIT09IG51bGwpIHsKICAgICAgCWlmICh0aGlzLnNsaWRlKQogICAgICAJICByZXR1cm4gKHRoaXMuc2NlbmUuY29udGV4dC5ybWFya2Rvd24gPT09ICJpb3NsaWRlc19wcmVzZW50YXRpb24iICYmCiAgICAgIAkgICAgICAgICAgdGhpcy5zbGlkZS5jbGFzc0xpc3QuY29udGFpbnMoImN1cnJlbnQiKSkgfHwKICAgICAgCSAgICAgICAgICh0aGlzLnNjZW5lLmNvbnRleHQucm1hcmtkb3duID09PSAic2xpZHlfcHJlc2VudGF0aW9uIiAmJgogICAgICAJICAgICAgICAgICF0aGlzLnNsaWRlLmNsYXNzTGlzdC5jb250YWlucygiaGlkZGVuIikpOwogICAgICB9CiAgICAgIHJldHVybiAoCiAgICAgIAlyZWN0LnRvcCA+PSAtd2luZEhlaWdodCAmJgogICAgICAJcmVjdC5sZWZ0ID49IC13aW5kV2lkdGggJiYKICAgICAgCXJlY3QuYm90dG9tIDw9IDIqd2luZEhlaWdodCAmJgogICAgICAJcmVjdC5yaWdodCA8PSAyKndpbmRXaWR0aCk7CiAgICB9OwogICAgCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUua2V5ZGlmZiA9IGZ1bmN0aW9uKG9iajEsIG9iajIpIHsKICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmoxKSwgaSwgcmVzdWx0ID0gW107CiAgICAgIGZvciAoaT0wO2k8a2V5cy5sZW5ndGg7aSsrKSB7CiAgICAgICAgaWYgKHR5cGVvZiBvYmoxW2tleXNbaV1dICE9PSAidW5kZWZpbmVkIiAmJgogICAgICAgICAgICB0eXBlb2Ygb2JqMltrZXlzW2ldXSA9PT0gInVuZGVmaW5lZCIpCiAgICAgICAgICByZXN1bHQucHVzaChrZXlzW2ldKTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0OwogICAgfTsKCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuaXNTZXQgPSBmdW5jdGlvbihmbGFncywgZmxhZykgewogICAgICAvKiBqc2hpbnQgYml0d2lzZTogZmFsc2UgKi8KICAgICAgcmV0dXJuIChmbGFncyAmIGZsYWcpICE9PSAwOwogICAgICAvKiBqc2hpbnQgYml0d2lzZTogdHJ1ZSAqLwogICAgfTsKICAgIAogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnVzZXIyd2luZG93ID0gZnVuY3Rpb24ocCwgc3ViaWQpIHsKICAgICAgdmFyIG0sIHYgPSBbXS5jb25jYXQocCk7CiAgICAgIAogICAgICB0aGlzLnNldG12TWF0cml4KHN1YmlkKTsKICAgICAgbSA9IG5ldyBDYW52YXNNYXRyaXg0KHRoaXMubXZNYXRyaXgpOwogICAgICB2ID0gdGhpcy5tdWx0Vk0odiwgbSk7CiAgICAgIHRoaXMuc2V0cHJNYXRyaXgoc3ViaWQpOwogICAgICBtID0gbmV3IENhbnZhc01hdHJpeDQodGhpcy5wck1hdHJpeCk7CiAgICAgIHYgPSB0aGlzLm11bHRWTSh2LCBtKTsKICAgICAgdGhpcy5nZXRWaWV3cG9ydChzdWJpZCk7CiAgICAgIHZbMF0gPSB2WzBdKjAuNS92WzNdICsgMC41ICsgdGhpcy52cC54L3RoaXMudnAud2lkdGg7CiAgICAgIHZbMV0gPSB2WzFdKjAuNS92WzNdICsgMC41ICsgdGhpcy52cC55L3RoaXMudnAuaGVpZ2h0OwogICAgICB2WzJdID0gKDEgKyB2WzJdL3ZbM10pKjAuNTsKICAgICAgcmV0dXJuIHYuc2xpY2UoMCwgMyk7CiAgICB9OwoKICAgIC8qKgogICAgICogQW5kcmV3J3MgY29udmV4IGh1bGwgYWxnb3JpdGhtLiAKICAgICAqIEZyb20gV2lraXBlZGlhLCB1c2VkIHVuZGVyIENyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24tU2hhcmVBbGlrZSBMaWNlbnNlCiAgICAgKiBAcmV0dXJucyB7IEFycmF5IH0gSW5kaWNlcyBvZiBjb252ZXggaHVsbCBwb2ludHMKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmNodWxsID0gZnVuY3Rpb24ocG9pbnRzKSB7CiAgICAgIGZ1bmN0aW9uIGNyb3NzKGEsIGIsIG8pIHsKICAgICAgICByZXR1cm4gKGFbMF0gLSBvWzBdKSAqIChiWzFdIC0gb1sxXSkgLSAoYVsxXSAtIG9bMV0pICogKGJbMF0gLSBvWzBdKTsKICAgICAgfQogICAgICAgIAogICAgICBwb2ludHMuc29ydChmdW5jdGlvbihhLCBiKSB7CiAgICAgICAgcmV0dXJuIGFbMF0gPT09IGJbMF0gPyBhWzFdIC0gYlsxXSA6IGFbMF0gLSBiWzBdOwogICAgICB9KTsKCiAgICAgIHZhciBsb3dlciA9IFtdLCB1cHBlciA9IFtdOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIHdoaWxlIChsb3dlci5sZW5ndGggPj0gMiAmJiBjcm9zcyhsb3dlcltsb3dlci5sZW5ndGggLSAyXSwgbG93ZXJbbG93ZXIubGVuZ3RoIC0gMV0sIHBvaW50c1tpXSkgPD0gMCkgewogICAgICAgICAgbG93ZXIucG9wKCk7CiAgICAgICAgfQogICAgICAgIGxvd2VyLnB1c2gocG9pbnRzW2ldKTsKICAgICAgfQoKICAgICAgZm9yIChpID0gcG9pbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgd2hpbGUgKHVwcGVyLmxlbmd0aCA+PSAyICYmIGNyb3NzKHVwcGVyW3VwcGVyLmxlbmd0aCAtIDJdLCB1cHBlclt1cHBlci5sZW5ndGggLSAxXSwgcG9pbnRzW2ldKSA8PSAwKSB7CiAgICAgICAgICB1cHBlci5wb3AoKTsKICAgICAgICB9CiAgICAgICAgdXBwZXIucHVzaChwb2ludHNbaV0pOwogICAgICB9CgogICAgICB1cHBlci5wb3AoKTsKICAgICAgbG93ZXIucG9wKCk7CiAgICAgIHJldHVybiBsb3dlci5jb25jYXQodXBwZXIpOwogICAgfTsKICAgIAogICAgLyoqCiAgICAgKiBSb3VuZCBudW1iZXIgdG8gZ2l2ZW4gcHJlY2lzaW9uCiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSB4CiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBkaWdpdHMKICAgICAqIEByZXR1cm5zIHsgbnVtYmVyIH0gCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5zaWduaWYgPSBmdW5jdGlvbih4LCBkaWdpdHMpIHsgCiAgICAgIHJldHVybiBwYXJzZUZsb2F0KHgudG9QcmVjaXNpb24oZGlnaXRzKSk7CiAgICB9OwogICAgICAKICAgIC8qKgogICAgICogQ2hlY2sgZm9yIE5BLCBOYU4sIHVuZGVmaW5lZCwgb3IgbnVsbAogICAgICogQHBhcmFtIHgKICAgICAqIEByZXR1cm5zIHsgYm9vbCB9CiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5taXNzaW5nID0gZnVuY3Rpb24oeCkgewogICAgICByZXR1cm4geCAhPT0gIi1JbmYiICYmIHggIT09ICJJbmYiICYmCiAgICAgICAgICAgICAoaXNOYU4oeCkgfHwgeCA9PT0gbnVsbCB8fCB0eXBlb2YoeCkgPT09ICJ1bmRlZmluZWQiKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBXcml0ZSBtYXRyaXggdG8gbG9nCiAgICAgKiBAcGFyYW0gTQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUubG9nTWF0cml4ID0gZnVuY3Rpb24oTSkgewogICAgICBjb25zb2xlLmxvZygibWF0cml4KGMoIitNLm0xMSsiLCIrTS5tMTIrIiwiK00ubTEzKyIsIitNLm0xNCsiLFxuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTS5tMjErIiwiK00ubTIyKyIsIitNLm0yMysiLCIrTS5tMjQrIixcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0ubTMxKyIsIitNLm0zMisiLCIrTS5tMzMrIiwiK00ubTM0KyIsXG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLm00MSsiLCIrTS5tNDIrIiwiK00ubTQzKyIsIitNLm00NCsiKSwgYnlyb3c9VFJVRSwgbmNvbD00KSIpOwogICAgfTsKICAgIAogICAgLyoqCiAgICAgKiBXcml0ZSB2ZWN0b3IgdG8gbG9nCiAgICAgKiBAcGFyYW0gezMgdmVjdG9yfSB2CiAgICAgKi8KICAgICAKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5sb2dWZWMzID0gZnVuY3Rpb24odikgewogICAgICBjb25zb2xlLmxvZygiYygiK3ZbMF0rIiwiK3ZbMV0rIiwiK3ZbMl0rIikiKTsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogU3VtIHR3byB2ZWN0b3JzCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0geAogICAgICogQHBhcmFtIHt2ZWN0b3J9IHkKICAgICAqLwogICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS52c3VtID0gZnVuY3Rpb24oeCwgeSkgewogICAgICAgdmFyIGksIHJlc3VsdCA9IFtdLmNvbmNhdCh4KTsKICAgICAgIGZvciAoaSA9IDA7IGkgPCB5Lmxlbmd0aDsgaSsrKQogICAgICAgICByZXN1bHRbaV0gKz0geVtpXTsKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgIH07CiAgICAgCiAgICAvKioKICAgICAqIGRpZmZlcmVuY2Ugb2YgdHdvIHZlY3RvcnMKICAgICAqIEBwYXJhbSB7dmVjdG9yfSB4CiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0geQogICAgICovCiAgICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnZkaWZmID0gZnVuY3Rpb24oeCwgeSkgewogICAgICAgIHJldHVybiB0aGlzLnZzdW0oeCwgdGhpcy52c2NhbGUoeSwgLTEpKTsKICAgICB9OwoKICAgIC8qKgogICAgICogU2NhbGUgYSB2ZWN0b3IKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0geAogICAgICovCiAgICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnZzY2FsZSA9IGZ1bmN0aW9uKHgsIHMpIHsKICAgICAgIHZhciBpLCByZXN1bHQgPSBbXS5jb25jYXQoeCk7CiAgICAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykKICAgICAgICAgcmVzdWx0W2ldICo9IHM7CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICB9OwogICAgCiAgICAvKioKICAgICAqIE5vcm1hbGl6ZSBhIHZlY3RvcgogICAgICogQHBhcmFtIHt2ZWN0b3J9IHYKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHYpIHsKICAgICAgcmV0dXJuIHRoaXMudnNjYWxlKHYsIDEvdGhpcy52bGVuKHYpKTsKICAgIH07Cg=="></script>
<script src="data:application/javascript;base64,LyoqCiAgICAgKiBNZXRob2RzIHJlbGF0ZWQgdG8gYnVmZmVyZWQgZGF0YQogICAgICogQG5hbWUgX19fTUVUSE9EU19GT1JfQlVGRkVSU19fXwogICAgICogQG1lbWJlcm9mIHJnbHdpZGdldENsYXNzCiAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICogQGluc3RhbmNlCiAgICAgKi8KICAgIC8qKgogICAgICogRGV0ZWN0IHJnbEJ1ZmZlcmVkIG9iamVjdAogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gb2JqIC0gdmVydGljZXMgb3Igc2ltaWxhciAKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmlzQnVmZmVyZWQgPSBmdW5jdGlvbihvYmopIHsKICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICJzdHJpbmciOwogICAgfTsKCiAgICAvKiBUaGUgbmV4dCB0d28gZnVuY3Rpb25zIGFyZSB0YWtlbiBmcm9tIAogICAgIAogICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvQmFzZTY0X2VuY29kaW5nX2FuZF9kZWNvZGluZwogICAgIAogICAgIFRoZXkgd2VyZSB3cml0dGVuIGJ5IE1vemlsbGEgQ29udHJpYnV0b3JzIGFuZCBkZWRpY2F0ZWQKICAgICB0byB0aGUgcHVibGljIGRvbWFpbiB1bmRlciBDQzAuICovCiAgICAgCiAgICAvKiBBcnJheSBvZiBieXRlcyB0byBCYXNlNjQgc3RyaW5nIGRlY29kaW5nICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuYjY0VG9VaW50NiA9IGZ1bmN0aW9uKG5DaHIpIHsKICAgICAgcmV0dXJuIG5DaHIgPiA2NCAmJiBuQ2hyIDwgOTEgPyBuQ2hyIC0gNjUgOiAKICAgICAgICAgICAgIG5DaHIgPiA5NiAmJiBuQ2hyIDwgMTIzID8gbkNociAtIDcxIDogCiAgICAgICAgICAgICBuQ2hyID4gNDcgJiYgbkNociA8IDU4ID8gbkNociArIDQgOiAKICAgICAgICAgICAgIG5DaHIgPT09IDQzID8gNjIgOiAKICAgICAgICAgICAgIG5DaHIgPT09IDQ3ID8gNjMgOiAKICAgICAgICAgICAgIDA7CiAgICB9OwoKICAgIC8qIGpzaGludCBiaXR3aXNlOmZhbHNlICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuYmFzZTY0RGVjVG9BcnIgPSBmdW5jdGlvbihzQmFzZTY0LCBuQmxvY2tzU2l6ZSkgewogICAgICB2YXIgc0I2NEVuYyA9IHNCYXNlNjQucmVwbGFjZSgvW15BLVphLXowLTlcK1wvXS9nLCAiIiksCiAgICAgICAgbkluTGVuID0gc0I2NEVuYy5sZW5ndGgsIAogICAgICAgIG5PdXRMZW4gPSBuQmxvY2tzU2l6ZSA/IE1hdGguY2VpbCgobkluTGVuICogMyArIDEgPj4gMikgLyBuQmxvY2tzU2l6ZSkgKiBuQmxvY2tzU2l6ZSA6IG5JbkxlbiAqIDMgKyAxID4+IDIsIAogICAgICAgIHRhQnl0ZXMgPSBuZXcgVWludDhBcnJheShuT3V0TGVuKTsKICAgICAgZm9yICh2YXIgbk1vZDMsIG5Nb2Q0LCBuVWludDI0ID0gMCwgbk91dElkeCA9IDAsIG5JbklkeCA9IDA7IG5JbklkeCA8IG5JbkxlbjsgbkluSWR4KyspIHsKICAgICAgICBuTW9kNCA9IG5JbklkeCAmIDM7CiAgICAgICAgblVpbnQyNCB8PSB0aGlzLmI2NFRvVWludDYoc0I2NEVuYy5jaGFyQ29kZUF0KG5JbklkeCkpIDw8IDYgKiAoMyAtIG5Nb2Q0KTsKICAgICAgICBpZiAobk1vZDQgPT09IDMgfHwgbkluTGVuIC0gbkluSWR4ID09PSAxKSB7CiAgICAgICAgICBmb3IgKG5Nb2QzID0gMDsgbk1vZDMgPCAzICYmIG5PdXRJZHggPCBuT3V0TGVuOyBuTW9kMysrLCBuT3V0SWR4KyspIHsKICAgICAgICAgICAgdGFCeXRlc1tuT3V0SWR4XSA9IG5VaW50MjQgPj4+ICgxNiA+Pj4gbk1vZDMgJiAyNCkgJiAyNTU7CiAgICAgICAgICB9CiAgICAgICAgICBuVWludDI0ID0gMDsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHRhQnl0ZXM7CiAgICB9OwogICAgLyoganNoaW50IGJpdHdpc2U6dHJ1ZSAqLwogICAgCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZ2V0QXJyYXlCdWZmZXIgPSBmdW5jdGlvbihiYXNlNjQpIHsKICAgICAgcmV0dXJuIHRoaXMuYmFzZTY0RGVjVG9BcnIoYmFzZTY0LCA0KS5idWZmZXI7CiAgICB9OwoKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5nZXRCdWZmZXJlZERhdGEgPSBmdW5jdGlvbih2KSB7CiAgICAgIHZhciB0eXBlU2lnbmVkQnl0ZSA9IDUxMjAsIAogICAgICAgICAgdHlwZVVuc2lnbmVkQnl0ZSA9IDUxMjEsIAogICAgICAgICAgdHlwZVNpZ25lZFNob3J0ID0gNTEyMiwgCiAgICAgICAgICB0eXBlVW5zaWduZWRTaG9ydCA9IDUxMjMsIAogICAgICAgICAgdHlwZVNpZ25lZEludCA9IDUxMjQsIAogICAgICAgICAgdHlwZVVuc2lnbmVkSW50ID0gNTEyNSwgCiAgICAgICAgICB0eXBlRmxvYXQgPSA1MTI2LCAKICAgICAgICAgIHR5cGVEb3VibGUgPSA1MTMwLCAKICAgICAgICAgIGJ1ZiA9IHRoaXMuc2NlbmUuYnVmZmVyLCAKICAgICAgICAgIGFjY2Vzc29yID0gYnVmLmFjY2Vzc29yc1twYXJzZUludCh2LCAxMCldLCAKICAgICAgICAgIGJ1ZmZlclZpZXcgPSBidWYuYnVmZmVyVmlld3NbYWNjZXNzb3IuYnVmZmVyVmlld10sIAogICAgICAgICAgYnVmZmVyID0gYnVmLmJ1ZmZlcnNbYnVmZmVyVmlldy5idWZmZXJdLCAKICAgICAgICAgIGJ5dGVzLCAKICAgICAgICAgIGxlbnMgPSB7CiAgICAgICAgICAgIFNDQUxBUjogMSwKICAgICAgICAgICAgVkVDMjogMiwKICAgICAgICAgICAgVkVDMzogMywKICAgICAgICAgICAgVkVDNDogNCwKICAgICAgICAgICAgTUFUMjogNCwKICAgICAgICAgICAgTUFUMzogOSwKICAgICAgICAgICAgTUFUNDogMTYKICAgICAgICAgIH0sIAogICAgICAgICAgcm93c2l6ZXMgPSB7CiAgICAgICAgICAgIFNDQUxBUjogMSwKICAgICAgICAgICAgVkVDMjogMiwKICAgICAgICAgICAgVkVDMzogMywKICAgICAgICAgICAgVkVDNDogNCwKICAgICAgICAgICAgTUFUMjogMiwKICAgICAgICAgICAgTUFUMzogMywKICAgICAgICAgICAgTUFUNDogNAogICAgICAgICAgfSwgCiAgICAgICAgICBvZmZzZXQgPSAwLCAKICAgICAgICAgIGxlbiA9IGxlbnNbYWNjZXNzb3IudHlwZV0sIAogICAgICAgICAgcm93c2l6ZSA9IHJvd3NpemVzW2FjY2Vzc29yLnR5cGVdLCAKICAgICAgICAgIGNvdW50ID0gbGVuICogYWNjZXNzb3IuY291bnQsIAogICAgICAgICAgbnJvd3MgPSBjb3VudCAvIHJvd3NpemUsIAogICAgICAgICAgdmFsdWVzLCBhcnIgPSBbXSwgcm93LCBpLCBqLCBrOwogICAgICAgICAgCiAgICAgIGlmICh0eXBlb2YgYnVmZmVyLmJ5dGVzID09PSAic3RyaW5nIikgCiAgICAgICAgYnVmZmVyLmJ5dGVzID0gdGhpcy5nZXRBcnJheUJ1ZmZlcihidWZmZXIuYnl0ZXMpOwogICAgICAgIAogICAgICBieXRlcyA9IGJ1ZmZlci5ieXRlczsKICAgICAgCiAgICAgIGlmICh0eXBlb2YgYWNjZXNzb3IuYnl0ZU9mZnNldCAhPT0gInVuZGVmaW5lZCIpIAogICAgICAgIG9mZnNldCArPSBhY2Nlc3Nvci5ieXRlT2Zmc2V0OwogICAgICAgIAogICAgICBpZiAodHlwZW9mIGJ1ZmZlclZpZXcuYnl0ZU9mZnNldCAhPT0gInVuZGVmaW5lZCIpIAogICAgICAgIG9mZnNldCArPSBidWZmZXJWaWV3LmJ5dGVPZmZzZXQ7CiAgICAgICAgCiAgICAgIHN3aXRjaCAoYWNjZXNzb3IuY29tcG9uZW50VHlwZSkgewogICAgICAgY2FzZSB0eXBlU2lnbmVkQnl0ZToKICAgICAgICB2YWx1ZXMgPSBuZXcgSW50OEFycmF5KGJ1ZmZlci5ieXRlcywgb2Zmc2V0LCBjb3VudCk7CiAgICAgICAgYnJlYWs7CgogICAgICAgY2FzZSB0eXBlVW5zaWduZWRCeXRlOgogICAgICAgIHZhbHVlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlci5ieXRlcywgb2Zmc2V0LCBjb3VudCk7CiAgICAgICAgYnJlYWs7CgogICAgICAgY2FzZSB0eXBlU2lnbmVkU2hvcnQ6CiAgICAgICAgdmFsdWVzID0gbmV3IEludDE2QXJyYXkoYnVmZmVyLmJ5dGVzLCBvZmZzZXQsIGNvdW50KTsKICAgICAgICBicmVhazsKCiAgICAgICBjYXNlIHR5cGVVbnNpZ25lZFNob3J0OgogICAgICAgIHZhbHVlcyA9IG5ldyBVaW50MTZBcnJheShidWZmZXIuYnl0ZXMsIG9mZnNldCwgY291bnQpOwogICAgICAgIGJyZWFrOwoKICAgICAgIGNhc2UgdHlwZVNpZ25lZEludDoKICAgICAgICB2YWx1ZXMgPSBuZXcgSW50MzJBcnJheShidWZmZXIuYnl0ZXMsIG9mZnNldCwgY291bnQpOwogICAgICAgIGJyZWFrOwoKICAgICAgIGNhc2UgdHlwZVVuc2lnbmVkSW50OgogICAgICAgIHZhbHVlcyA9IG5ldyBVaW50MzJBcnJheShidWZmZXIuYnl0ZXMsIG9mZnNldCwgY291bnQpOwogICAgICAgIGJyZWFrOwoKICAgICAgIGNhc2UgdHlwZUZsb2F0OgogICAgICAgIHZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyLmJ5dGVzLCBvZmZzZXQsIGNvdW50KTsKICAgICAgICBicmVhazsKCiAgICAgICBjYXNlIHR5cGVEb3VibGU6CiAgICAgICAgdmFsdWVzID0gbmV3IEZsb2F0NjRBcnJheShidWZmZXIuYnl0ZXMsIG9mZnNldCwgY291bnQpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIC8qIFRoaXMgaXMgYWxsIHZlcnkgaW5lZmZpY2llbnQsIGJ1dCBpcyBjb252ZW5pZW50CiAgICAgICAgICAgICB0byB3b3JrIHdpdGggdGhlIG9sZCBjb2RlLiAqLwogICAgICBrID0gMDsKICAgICAgZm9yIChpID0gMDsgaSA8IG5yb3dzOyBpKyspIHsKICAgICAgICByb3cgPSBbXTsKICAgICAgICBmb3IgKGogPSAwOyBqIDwgcm93c2l6ZTsgaisrKSByb3cucHVzaCh2YWx1ZXNbaysrXSk7CiAgICAgICAgYXJyLnB1c2gocm93KTsKICAgICAgfQogICAgICByZXR1cm4gYXJyOwogICAgfTsKICAgIAogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmV4cGFuZEJ1ZmZlcmVkRmllbGRzID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgIC8qIHRoaXMgbGlzdCBuZWVkcyB0byBtYXRjaCB0aGUgb25lIGluIGNvbnZlcnRTY2VuZS5SICovCiAgICAgIHZhciBmaWVsZHMgPSBbInZlcnRpY2VzIiwgIm5vcm1hbHMiLCAiaW5kaWNlcyIsIAogICAgICAgICAgICAgICAgICAgICJ0ZXhjb29yZHMiLCAiY29sb3JzIiwgImNlbnRlcnMiXSwgaSwgZmllbGQ7CiAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBmaWVsZCA9IG9ialtmaWVsZHNbaV1dOwogICAgICAgIGlmICh0aGlzLmlzQnVmZmVyZWQoZmllbGQpKQogICAgICAgICAgb2JqW2ZpZWxkc1tpXV0gPSB0aGlzLmdldEJ1ZmZlcmVkRGF0YShmaWVsZCk7CiAgICAgIH0KICAgIH07Cg=="></script>
<script src="data:application/javascript;base64,ICAgIC8qKgogICAgICogTWV0aG9kcyByZWxhdGVkIHRvIHN1YnNjZW5lcwogICAgICogQG5hbWUgX19fTUVUSE9EU19GT1JfU1VCU0NFTkVTX19fCiAgICAgKiBAbWVtYmVyb2Ygcmdsd2lkZ2V0Q2xhc3MKICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgKiBAaW5zdGFuY2UKICAgICAqLwoKICAgIC8qKgogICAgICogSXMgYSBwYXJ0aWN1bGFyIGlkIGluIGEgc3Vic2NlbmU/CiAgICAgKiBAcmV0dXJucyB7IGJvb2xlYW4gfQogICAgICogQHBhcmFtIHtudW1iZXJ9IGlkIFdoaWNoIGlkPwogICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnNjZW5lIFdoaWNoIHN1YnNjZW5lIGlkPwogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuaW5TdWJzY2VuZSA9IGZ1bmN0aW9uKGlkLCBzdWJzY2VuZSkgewogICAgICByZXR1cm4gdGhpcy5nZXRPYmooc3Vic2NlbmUpLm9iamVjdHMuaW5kZXhPZihpZCkgPiAtMTsKICAgIH07CgogICAgLyoqCiAgICAgKiBUcmFuc2xhdGUgZnJvbSB3aW5kb3cgY29vcmRpbmF0ZXMgdG8gdmlld3BvcnQgY29vcmRpbmF0ZXMKICAgICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gdHJhbnNsYXRlZCBjb29yZGluYXRlcwogICAgICogQHBhcmFtIHsgbnVtYmVyIH0gc3Vic2NlbmVpZCAtIHdoaWNoIHN1YnNjZW5lIHRvIHVzZT8KICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGNvb3JkcyAtIHBvaW50IHRvIHRyYW5zbGF0ZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUudHJhbnNsYXRlQ29vcmRzID0gZnVuY3Rpb24oc3Vic2NlbmVpZCwgY29vcmRzKSB7CiAgICAgIHZhciB2aWV3cG9ydCA9IHRoaXMuZ2V0T2JqKHN1YnNjZW5laWQpLnBhcjNkLnZpZXdwb3J0OwogICAgICByZXR1cm4ge3g6IGNvb3Jkcy54IC0gdmlld3BvcnQueCp0aGlzLmNhbnZhcy53aWR0aCwKICAgICAgICAgICAgICB5OiBjb29yZHMueSAtIHZpZXdwb3J0LnkqdGhpcy5jYW52YXMuaGVpZ2h0fTsKICAgIH07CgogICAgLyoqCiAgICAgKiBDaGVjayB3aGV0aGVyIHBvaW50IGlzIGluIHZpZXdwb3J0IG9mIHN1YnNjZW5lCiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0KICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGNvb3JkcyAtIHNjcmVlbiBjb29yZGluYXRlcyBvZiBwb2ludAogICAgICogQHBhcmFtIHsgbnVtYmVyIH0gc3Vic2NlbmVpZCAtIHN1YnNjZW5lIHRvIGNoZWNrCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5pblZpZXdwb3J0ID0gZnVuY3Rpb24oY29vcmRzLCBzdWJzY2VuZWlkKSB7CiAgICAgIHZhciB2aWV3cG9ydCA9IHRoaXMuZ2V0T2JqKHN1YnNjZW5laWQpLnBhcjNkLnZpZXdwb3J0LAogICAgICAgIHgwID0gY29vcmRzLnggLSB2aWV3cG9ydC54KnRoaXMuY2FudmFzLndpZHRoLAogICAgICAgIHkwID0gY29vcmRzLnkgLSB2aWV3cG9ydC55KnRoaXMuY2FudmFzLmhlaWdodDsKICAgICAgcmV0dXJuIDAgPD0geDAgJiYgeDAgPD0gdmlld3BvcnQud2lkdGgqdGhpcy5jYW52YXMud2lkdGggJiYKICAgICAgICAgICAgIDAgPD0geTAgJiYgeTAgPD0gdmlld3BvcnQuaGVpZ2h0KnRoaXMuY2FudmFzLmhlaWdodDsKICAgIH07CgogICAgLyoqCiAgICAgKiBGaW5kIHdoaWNoIHN1YnNjZW5lIGNvbnRhaW5zIGEgcG9pbnQKICAgICAqIEByZXR1cm5zIHsgbnVtYmVyIH0gc3Vic2NlbmUgaWQKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGNvb3JkcyAtIGNvb3JkaW5hdGVzIG9mIHBvaW50CiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS53aGljaFN1YnNjZW5lID0gZnVuY3Rpb24oY29vcmRzKSB7CiAgICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICAgIHJlY3Vyc2UgPSBmdW5jdGlvbihzdWJzY2VuZWlkKSB7CiAgICAgICAgICAgIHZhciBzdWJzY2VuZXMgPSBzZWxmLmdldENoaWxkU3Vic2NlbmVzKHN1YnNjZW5laWQpLCBpLCBpZDsKICAgICAgICAgICAgZm9yIChpPTA7IGkgPCBzdWJzY2VuZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZCA9IHJlY3Vyc2Uoc3Vic2NlbmVzW2ldKTsKICAgICAgICAgICAgICBpZiAodHlwZW9mKGlkKSAhPT0gInVuZGVmaW5lZCIpCiAgICAgICAgICAgICAgICByZXR1cm4oaWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzZWxmLmluVmlld3BvcnQoY29vcmRzLCBzdWJzY2VuZWlkKSkKICAgICAgICAgICAgICByZXR1cm4oc3Vic2NlbmVpZCk7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICAgICAgfSwKICAgICAgICAgIHJvb3RpZCA9IHRoaXMuc2NlbmUucm9vdFN1YnNjZW5lLAogICAgICAgICAgcmVzdWx0ID0gcmVjdXJzZShyb290aWQpOwogICAgICBpZiAodHlwZW9mKHJlc3VsdCkgPT09ICJ1bmRlZmluZWQiKQogICAgICAgIHJlc3VsdCA9IHJvb3RpZDsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgLyoqCiAgICAgKiBBZGQgYW4gaWQgdG8gYSBzdWJzY2VuZS4KICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZCBXaGljaCBpZD8KICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdWJzY2VuZSBXaGljaCBzdWJzY2VuZSBpZD8KICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmFkZFRvU3Vic2NlbmUgPSBmdW5jdGlvbihpZCwgc3Vic2NlbmUpIHsKICAgICAgdmFyIHRoZWxpc3QsCiAgICAgICAgICB0aGVzdWIgPSB0aGlzLmdldE9iaihzdWJzY2VuZSksCiAgICAgICAgICBpZHMgPSBbaWRdLAogICAgICAgICAgb2JqID0gdGhpcy5nZXRPYmooaWQpLCBpOwogICAgICBpZiAodHlwZW9mIG9iaiAhPT0gInVuZGVmaW5lZCIgJiYgdHlwZW9mIChvYmoubmV3SWRzKSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBpZHMgPSBpZHMuY29uY2F0KG9iai5uZXdJZHMpOwogICAgICB9CiAgICAgIHRoZXN1Yi5vYmplY3RzID0gW10uY29uY2F0KHRoZXN1Yi5vYmplY3RzKTsKICAgICAgZm9yIChpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlkID0gaWRzW2ldOwogICAgICAgIGlmICh0aGVzdWIub2JqZWN0cy5pbmRleE9mKGlkKSA9PT0gLTEpIHsKICAgICAgICAgIHRoZWxpc3QgPSB0aGlzLndoaWNoTGlzdChpZCk7CiAgICAgICAgICB0aGVzdWIub2JqZWN0cy5wdXNoKGlkKTsKICAgICAgICAgIHRoZXN1Ylt0aGVsaXN0XS5wdXNoKGlkKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBEZWxldGUgYW4gaWQgZnJvbSBhIHN1YnNjZW5lCiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBpZCAtIHRoZSBpZCB0byBhZGQKICAgICAqIEBwYXJhbSB7IG51bWJlciB9IHN1YnNjZW5lIC0gdGhlIGlkIG9mIHRoZSBzdWJzY2VuZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZGVsRnJvbVN1YnNjZW5lID0gZnVuY3Rpb24oaWQsIHN1YnNjZW5lKSB7CiAgICAgIHZhciB0aGVsaXN0LAogICAgICAgICAgdGhlc3ViID0gdGhpcy5nZXRPYmooc3Vic2NlbmUpLAogICAgICAgICAgb2JqID0gdGhpcy5nZXRPYmooaWQpLAogICAgICAgICAgaWRzID0gW2lkXSwgaSwgajsKICAgICAgaWYgKHR5cGVvZiBvYmogIT09ICJ1bmRlZmluZWQiICYmIHR5cGVvZiAob2JqLm5ld0lkcykgIT09ICJ1bmRlZmluZWQiKQogICAgICAgIGlkcyA9IGlkcy5jb25jYXQob2JqLm5ld0lkcyk7CiAgICAgIHRoZXN1Yi5vYmplY3RzID0gW10uY29uY2F0KHRoZXN1Yi5vYmplY3RzKTsgLy8gSXQgbWlnaHQgYmUgYSBzY2FsYXIKICAgICAgZm9yIChqPTA7IGo8aWRzLmxlbmd0aDtqKyspIHsKICAgICAgICBpZCA9IGlkc1tqXTsKICAgICAgICBpID0gdGhlc3ViLm9iamVjdHMuaW5kZXhPZihpZCk7CiAgICAgICAgaWYgKGkgPiAtMSkgewogICAgICAgICAgdGhlc3ViLm9iamVjdHMuc3BsaWNlKGksIDEpOwogICAgICAgICAgdGhlbGlzdCA9IHRoaXMud2hpY2hMaXN0KGlkKTsKICAgICAgICAgIGkgPSB0aGVzdWJbdGhlbGlzdF0uaW5kZXhPZihpZCk7CiAgICAgICAgICB0aGVzdWJbdGhlbGlzdF0uc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIFNldCB0aGUgaWRzIGluIGEgc3Vic2NlbmUKICAgICAqIEBwYXJhbSB7IG51bWJlcltdIH0gaWRzIC0gdGhlIGlkcyB0byBzZXQKICAgICAqIEBwYXJhbSB7IG51bWJlciB9IHN1YnNjZW5laWQgLSB0aGUgaWQgb2YgdGhlIHN1YnNjZW5lCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5zZXRTdWJzY2VuZUVudHJpZXMgPSBmdW5jdGlvbihpZHMsIHN1YnNjZW5laWQpIHsKICAgICAgdmFyIHN1YiA9IHRoaXMuZ2V0T2JqKHN1YnNjZW5laWQpOwogICAgICBzdWIub2JqZWN0cyA9IGlkczsKICAgICAgdGhpcy5pbml0U3Vic2NlbmUoc3Vic2NlbmVpZCk7CiAgICB9OwoKICAgIC8qKgogICAgICogR2V0IHRoZSBpZHMgaW4gYSBzdWJzY2VuZQogICAgICogQHJldHVybnMge251bWJlcltdfQogICAgICogQHBhcmFtIHsgbnVtYmVyIH0gc3Vic2NlbmUgLSB0aGUgaWQgb2YgdGhlIHN1YnNjZW5lCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5nZXRTdWJzY2VuZUVudHJpZXMgPSBmdW5jdGlvbihzdWJzY2VuZSkgewogICAgICByZXR1cm4gdGhpcy5nZXRPYmooc3Vic2NlbmUpLm9iamVjdHM7CiAgICB9OwoKICAgIC8qKgogICAgICogR2V0IHRoZSBpZHMgb2YgdGhlIHN1YnNjZW5lcyB3aXRoaW4gYSBzdWJzY2VuZQogICAgICogQHJldHVybnMgeyBudW1iZXJbXSB9CiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBzdWJzY2VuZSAtIHRoZSBpZCBvZiB0aGUgc3Vic2NlbmUKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmdldENoaWxkU3Vic2NlbmVzID0gZnVuY3Rpb24oc3Vic2NlbmUpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqKHN1YnNjZW5lKS5zdWJzY2VuZXM7CiAgICB9OwoKICAgIC8qKgogICAgICogRmluZCBhIHBhcnRpY3VsYXIgc3Vic2NlbmUgYnkgaW5oZXJpdGFuY2UKICAgICAqIEByZXR1cm5zIHsgbnVtYmVyIH0gaWQgb2Ygc3Vic2NlbmUgdG8gdXNlCiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBzdWJzY2VuZWlkIC0gY2hpbGQgc3Vic2NlbmUKICAgICAqIEBwYXJhbSB7IHN0cmluZyB9IHR5cGUgLSB0eXBlIG9mIGluaGVyaXRhbmNlOiAgInByb2plY3Rpb24iIG9yICJtb2RlbCIKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnVzZWlkID0gZnVuY3Rpb24oc3Vic2NlbmVpZCwgdHlwZSkgewogICAgICB2YXIgc3ViID0gdGhpcy5nZXRPYmooc3Vic2NlbmVpZCk7CiAgICAgIGlmIChzdWIuZW1iZWRkaW5nc1t0eXBlXSA9PT0gImluaGVyaXQiKQogICAgICAgIHJldHVybih0aGlzLnVzZWlkKHN1Yi5wYXJlbnQsIHR5cGUpKTsKICAgICAgZWxzZQogICAgICAgIHJldHVybiBzdWJzY2VuZWlkOwogICAgfTsKCiAgICAvKioKICAgICAqIEZpbmQgYmJveGRlY28gZm9yIGEgc3Vic2NlbmUKICAgICAqIEByZXR1cm5zIHsgbnVtYmVyIH0gaWQgb2YgYmJveGRlY28sIG9yIHVuZGVmaW5lZCBpZiBub25lCiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBzdWItIHN1YnNjZW5lCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5nZXRCQm94RGVjbyA9IGZ1bmN0aW9uKHN1YikgewogICAgICB2YXIgb2JqZWN0cyA9IHN1Yi5vYmplY3RzLCBpLCBvYmo7CiAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmplY3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb2JqID0gdGhpcy5nZXRPYmoob2JqZWN0c1tpXSk7CiAgICAgICAgaWYgKG9iai50eXBlID09PSAiYmJveGRlY28iKQogICAgICAgICAgcmV0dXJuIG9iajsKICAgICAgfQogICAgICBpZiAoc3ViLnBhcmVudCkgCiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QkJveERlY28oc3ViLnBhcmVudCk7CiAgICAgIGVsc2UKICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfTsK"></script>
<script src="data:application/javascript;base64,ICAgIC8qKgogICAgICogTWV0aG9kcyByZWxhdGVkIHRvIHNoYWRlcnMKICAgICAqIEBuYW1lIF9fX01FVEhPRFNfRk9SX1NIQURFUlNfX18KICAgICAqIEBtZW1iZXJvZiByZ2x3aWRnZXRDbGFzcwogICAgICogQGtpbmQgZnVuY3Rpb24KICAgICAqIEBpbnN0YW5jZQogICAgICovCiAgICAgCiAgICAvKioKICAgICAqIEdlbmVyYXRlIHRoZSB2ZXJ0ZXggc2hhZGVyIGZvciBhbiBvYmplY3QKICAgICAqIEByZXR1cm5zIHtzdHJpbmd9CiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBpZCAtIElkIG9mIG9iamVjdAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZ2V0VmVydGV4U2hhZGVyID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgIHZhciB1c2VyU2hhZGVyID0gb2JqLnVzZXJWZXJ0ZXhTaGFkZXIsCiAgICAgICAgICBmbGFncyA9IG9iai5mbGFncywKICAgICAgICAgIHR5cGUgPSBvYmoudHlwZSwKICAgICAgICAgIGlzX2xpdCA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9pc19saXQpLAogICAgICAgICAgaGFzX3RleHR1cmUgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaGFzX3RleHR1cmUpLAogICAgICAgICAgZml4ZWRfcXVhZHMgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfZml4ZWRfcXVhZHMpLAogICAgICAgICAgc3ByaXRlc18zZCA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9zcHJpdGVzXzNkKSwKICAgICAgICAgIG5jbGlwcGxhbmVzID0gdGhpcy5jb3VudENsaXBwbGFuZXMoKSwKICAgICAgICAgIGZpeGVkX3NpemUgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfZml4ZWRfc2l6ZSksCiAgICAgICAgICBpc19wb2ludHMgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaXNfcG9pbnRzKSwKICAgICAgICAgIGlzX3R3b3NpZGVkID0gdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2lzX3R3b3NpZGVkKSwKICAgICAgICAgIGZhdF9saW5lcyA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9mYXRfbGluZXMpLAogICAgICAgICAgaXNfYnJ1c2ggPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaXNfYnJ1c2gpLAogICAgICAgICAgaGFzX2ZvZyA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9oYXNfZm9nKSwKICAgICAgICAgIGhhc19ub3JtYWxzID0gKHR5cGVvZiBvYmoubm9ybWFscyAhPT0gInVuZGVmaW5lZCIpIHx8CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai50eXBlID09PSAic3BoZXJlcyIsCiAgICAgICAgICBuZWVkc192bm9ybWFsID0gKGlzX2xpdCAmJiAhZml4ZWRfcXVhZHMgJiYgIWlzX2JydXNoKSB8fCAoaXNfdHdvc2lkZWQgJiYgaGFzX25vcm1hbHMpLAogICAgICAgICAgcmVzdWx0OwoKICAgICAgaWYgKHR5cGUgPT09ICJjbGlwcGxhbmVzIiB8fCBzcHJpdGVzXzNkKSByZXR1cm47CgogICAgICBpZiAodHlwZW9mIHVzZXJTaGFkZXIgIT09ICJ1bmRlZmluZWQiKSByZXR1cm4gdXNlclNoYWRlcjsKCiAgICAgIHJlc3VsdCA9ICIgIC8qICoqKioqKiAiK3R5cGUrIiBvYmplY3QgIitvYmouaWQrIiB2ZXJ0ZXggc2hhZGVyICoqKioqKiAqL1xuIisKICAgICAgIiNpZmRlZiBHTF9FU1xuIisKICAgICAgIiNpZmRlZiBHTF9GUkFHTUVOVF9QUkVDSVNJT05fSElHSFxuIisKICAgICAgIiAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuIisKICAgICAgIiNlbHNlXG4iKwogICAgICAiICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbiIrCiAgICAgICIjZW5kaWZcbiIrCiAgICAgICIjZW5kaWZcbiIrCiAgICAgICIgIGF0dHJpYnV0ZSB2ZWMzIGFQb3M7XG4iKwogICAgICAiICBhdHRyaWJ1dGUgdmVjNCBhQ29sO1xuIisKICAgICAgIiAgdW5pZm9ybSBtYXQ0IG12TWF0cml4O1xuIisKICAgICAgIiAgdW5pZm9ybSBtYXQ0IHByTWF0cml4O1xuIisKICAgICAgIiAgdmFyeWluZyB2ZWM0IHZDb2w7XG4iKwogICAgICAiICB2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uO1xuIjsKCiAgICAgIGlmIChuZWVkc192bm9ybWFsKQogICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICIgIGF0dHJpYnV0ZSB2ZWMzIGFOb3JtO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICB1bmlmb3JtIG1hdDQgbm9ybU1hdHJpeDtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgdmFyeWluZyB2ZWM0IHZOb3JtYWw7XG4iOwoKICAgICAgaWYgKGhhc190ZXh0dXJlIHx8IHR5cGUgPT09ICJ0ZXh0IikKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICBhdHRyaWJ1dGUgdmVjMiBhVGV4Y29vcmQ7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgIHZhcnlpbmcgdmVjMiB2VGV4Y29vcmQ7XG4iOwoKICAgICAgaWYgKGZpeGVkX3NpemUpCiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgdW5pZm9ybSB2ZWMzIHRleHRTY2FsZTtcbiI7CgogICAgICBpZiAoZml4ZWRfcXVhZHMpCiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgYXR0cmlidXRlIHZlYzMgYU9mcztcbiI7CgogICAgICBpZiAoaXNfdHdvc2lkZWQpCiAgICAgICAgaWYgKGhhc19ub3JtYWxzKQogICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgdmFyeWluZyBmbG9hdCBub3JtejtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICB1bmlmb3JtIG1hdDQgaW52UHJNYXRyaXg7XG4iOwogICAgICAgIGVsc2UKICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICIgIGF0dHJpYnV0ZSB2ZWMzIGFQb3MxO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgIGF0dHJpYnV0ZSB2ZWMzIGFQb3MyO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgIHZhcnlpbmcgZmxvYXQgbm9ybXo7XG4iOwoKICAgICAgaWYgKGZhdF9saW5lcykgewogICAgICAJcmVzdWx0ID0gcmVzdWx0ICsgICAiICBhdHRyaWJ1dGUgdmVjMyBhTmV4dDtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICBhdHRyaWJ1dGUgdmVjMiBhUG9pbnQ7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgdmFyeWluZyB2ZWMyIHZQb2ludDtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICB2YXJ5aW5nIGZsb2F0IHZMZW5ndGg7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgdW5pZm9ybSBmbG9hdCB1QXNwZWN0O1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgIHVuaWZvcm0gZmxvYXQgdUx3ZDtcbiI7CiAgICAgIH0KICAgICAgCiAgICAgIHJlc3VsdCA9IHJlc3VsdCArICIgIHZvaWQgbWFpbih2b2lkKSB7XG4iOwoKICAgICAgaWYgKChuY2xpcHBsYW5lcyB8fCAhZml4ZWRfcXVhZHMgfHwgaGFzX2ZvZykgJiYgIWlzX2JydXNoKQogICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICIgICAgdlBvc2l0aW9uID0gbXZNYXRyaXggKiB2ZWM0KGFQb3MsIDEuKTtcbiI7CgogICAgICBpZiAoIWZpeGVkX3F1YWRzICYmICFpc19icnVzaCkKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICAgIGdsX1Bvc2l0aW9uID0gcHJNYXRyaXggKiB2UG9zaXRpb247XG4iOwoKICAgICAgaWYgKGlzX3BvaW50cykgewogICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRNYXRlcmlhbChvYmosICJzaXplIik7CiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgICBnbF9Qb2ludFNpemUgPSAiK3NpemUudG9GaXhlZCgxKSsiO1xuIjsKICAgICAgfQoKICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgICB2Q29sID0gYUNvbDtcbiI7CgogICAgICBpZiAobmVlZHNfdm5vcm1hbCkgLyogTmVlZCB0byBub3JtYWxpemUgdGhlIHh5eiBwYXJ0ICovCiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgICB2Tm9ybWFsID0gbm9ybU1hdHJpeCAqIHZlYzQoLWFOb3JtLCBkb3QoYU5vcm0sIGFQb3MpKTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICB2Tm9ybWFsID0gdmVjNChub3JtYWxpemUodk5vcm1hbC54eXopLCAxKTtcbiI7CgogICAgICBpZiAoaGFzX3RleHR1cmUgfHwgdHlwZSA9PT0gInRleHQiKQogICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICIgICAgdlRleGNvb3JkID0gYVRleGNvb3JkO1xuIjsKCiAgICAgIGlmIChmaXhlZF9zaXplKQogICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICIgICAgdmVjNCBwb3MgPSBwck1hdHJpeCAqIG12TWF0cml4ICogdmVjNChhUG9zLCAxLik7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgcG9zID0gcG9zL3Bvcy53O1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgIGdsX1Bvc2l0aW9uID0gcG9zICsgdmVjNChhT2ZzKnRleHRTY2FsZSwgMC4pO1xuIjsKCiAgICAgIGlmICh0eXBlID09PSAic3ByaXRlcyIgJiYgIWZpeGVkX3NpemUpCiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgICB2ZWM0IHBvcyA9IG12TWF0cml4ICogdmVjNChhUG9zLCAxLik7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgcG9zID0gcG9zL3Bvcy53ICsgdmVjNChhT2ZzLCAgMC4pO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgIGdsX1Bvc2l0aW9uID0gcHJNYXRyaXgqcG9zO1xuIjsKCiAgICAgIGlmIChpc190d29zaWRlZCkKICAgICAgICBpZiAoaGFzX25vcm1hbHMpCiAgICAgICAgICAvKiBub3JteiBzaG91bGQgYmUgY2FsY3VsYXRlZCAqYWZ0ZXIqIHByb2plY3Rpb24gKi8KICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICIgICAgbm9ybXogPSAoaW52UHJNYXRyaXgqdk5vcm1hbCkuejtcbiI7CiAgICAgICAgZWxzZQogICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgIHZlYzQgcG9zMSA9IHByTWF0cml4Kihtdk1hdHJpeCp2ZWM0KGFQb3MxLCAxLikpO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICBwb3MxID0gcG9zMS9wb3MxLncgLSBnbF9Qb3NpdGlvbi9nbF9Qb3NpdGlvbi53O1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICB2ZWM0IHBvczIgPSBwck1hdHJpeCoobXZNYXRyaXgqdmVjNChhUG9zMiwgMS4pKTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgcG9zMiA9IHBvczIvcG9zMi53IC0gZ2xfUG9zaXRpb24vZ2xfUG9zaXRpb24udztcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgbm9ybXogPSBwb3MxLngqcG9zMi55IC0gcG9zMS55KnBvczIueDtcbiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgIGlmIChmYXRfbGluZXMpIAogICAgICAgIC8qIFRoaXMgY29kZSB3YXMgaW5zcGlyZWQgYnkgTWF0dCBEZXNsYXVyaWVycycgY29kZSBpbiBodHRwczovL21hdHRkZXNsLnN2YnRsZS5jb20vZHJhd2luZy1saW5lcy1pcy1oYXJkICovCiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgIHZlYzIgYXNwZWN0VmVjID0gdmVjMih1QXNwZWN0LCAxLjApO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgbWF0NCBwcm9qVmlld01vZGVsID0gcHJNYXRyaXggKiBtdk1hdHJpeDtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIHZlYzQgY3VycmVudFByb2plY3RlZCA9IHByb2pWaWV3TW9kZWwgKiB2ZWM0KGFQb3MsIDEuMCk7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICBjdXJyZW50UHJvamVjdGVkID0gY3VycmVudFByb2plY3RlZC9jdXJyZW50UHJvamVjdGVkLnc7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICB2ZWM0IG5leHRQcm9qZWN0ZWQgPSBwcm9qVmlld01vZGVsICogdmVjNChhTmV4dCwgMS4wKTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIHZlYzIgY3VycmVudFNjcmVlbiA9IGN1cnJlbnRQcm9qZWN0ZWQueHkgKiBhc3BlY3RWZWM7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICB2ZWMyIG5leHRTY3JlZW4gPSAobmV4dFByb2plY3RlZC54eSAvIG5leHRQcm9qZWN0ZWQudykgKiBhc3BlY3RWZWM7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICBmbG9hdCBsZW4gPSB1THdkO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgdmVjMiBkaXIgPSB2ZWMyKDEuMCwgMC4wKTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIHZQb2ludCA9IGFQb2ludDtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIHZMZW5ndGggPSBsZW5ndGgobmV4dFNjcmVlbiAtIGN1cnJlbnRTY3JlZW4pLzIuMDtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIHZMZW5ndGggPSB2TGVuZ3RoLyh2TGVuZ3RoICsgbGVuKTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIGlmICh2TGVuZ3RoID4gMC4wKSB7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgIGRpciA9IG5vcm1hbGl6ZShuZXh0U2NyZWVuIC0gY3VycmVudFNjcmVlbik7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICB9XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICB2ZWMyIG5vcm1hbCA9IHZlYzIoLWRpci55LCBkaXIueCk7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICBkaXIueCAvPSB1QXNwZWN0O1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgbm9ybWFsLnggLz0gdUFzcGVjdDtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIHZlYzQgb2Zmc2V0ID0gdmVjNChsZW4qKG5vcm1hbCphUG9pbnQueCphUG9pbnQueSAtIGRpciksIDAuMCwgMC4wKTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIGdsX1Bvc2l0aW9uID0gY3VycmVudFByb2plY3RlZCArIG9mZnNldDtcbiI7CgogICAgICBpZiAoaXNfYnJ1c2gpCiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgIGdsX1Bvc2l0aW9uID0gdmVjNChhUG9zLCAxLik7XG4iOwogICAgICAgIAogICAgICByZXN1bHQgPSByZXN1bHQgKyAiICB9XG4iOwoKICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgLyoqCiAgICAgKiBHZW5lcmF0ZSB0aGUgZnJhZ21lbnQgc2hhZGVyIGZvciBhbiBvYmplY3QKICAgICAqIEByZXR1cm5zIHtzdHJpbmd9CiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBpZCAtIElkIG9mIG9iamVjdAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZ2V0RnJhZ21lbnRTaGFkZXIgPSBmdW5jdGlvbihvYmopIHsKICAgICAgdmFyIHVzZXJTaGFkZXIgPSBvYmoudXNlckZyYWdtZW50U2hhZGVyLAogICAgICAgICAgZmxhZ3MgPSBvYmouZmxhZ3MsCiAgICAgICAgICB0eXBlID0gb2JqLnR5cGUsCiAgICAgICAgICBpc19saXQgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaXNfbGl0KSwKICAgICAgICAgIGhhc190ZXh0dXJlID0gdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2hhc190ZXh0dXJlKSwKICAgICAgICAgIGZpeGVkX3F1YWRzID0gdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2ZpeGVkX3F1YWRzKSwKICAgICAgICAgIHNwcml0ZXNfM2QgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfc3ByaXRlc18zZCksCiAgICAgICAgICBpc190d29zaWRlZCA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9pc190d29zaWRlZCksCiAgICAgICAgICBmYXRfbGluZXMgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfZmF0X2xpbmVzKSwKICAgICAgICAgIGlzX3RyYW5zcGFyZW50ID0gdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2lzX3RyYW5zcGFyZW50KSwKICAgICAgICAgIGlzX3BvaW50cyA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9pc19wb2ludHMpLAogICAgICAgICAgaGFzX2ZvZyA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9oYXNfZm9nKSwKICAgICAgICAgIG5jbGlwcGxhbmVzID0gdGhpcy5jb3VudENsaXBwbGFuZXMoKSwgaSwKICAgICAgICAgIHRleHR1cmVfZm9ybWF0LCBubGlnaHRzLAogICAgICAgICAgcmVzdWx0OwoKICAgICAgaWYgKHR5cGUgPT09ICJjbGlwcGxhbmVzIiB8fCBzcHJpdGVzXzNkKSByZXR1cm47CgogICAgICBpZiAodHlwZW9mIHVzZXJTaGFkZXIgIT09ICJ1bmRlZmluZWQiKSByZXR1cm4gdXNlclNoYWRlcjsKCiAgICAgIGlmIChoYXNfdGV4dHVyZSkKICAgICAgICB0ZXh0dXJlX2Zvcm1hdCA9IHRoaXMuZ2V0TWF0ZXJpYWwob2JqLCAidGV4dHlwZSIpOwoKICAgICAgcmVzdWx0ID0gIi8qICoqKioqKiAiK3R5cGUrIiBvYmplY3QgIitvYmouaWQrIiBmcmFnbWVudCBzaGFkZXIgKioqKioqICovXG4iKwogICAgICAgICAgICAgICAiI2lmZGVmIEdMX0VTXG4iKwogICAgICAgICAgICAgICAiI2lmZGVmIEdMX0ZSQUdNRU5UX1BSRUNJU0lPTl9ISUdIXG4iKwogICAgICAgICAgICAgICAiICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4iKwogICAgICAgICAgICAgICAiI2Vsc2VcbiIrCiAgICAgICAgICAgICAgICIgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuIisKICAgICAgICAgICAgICAgIiNlbmRpZlxuIisKICAgICAgICAgICAgICAgIiNlbmRpZlxuIisKICAgICAgICAgICAgICAgIiAgdmFyeWluZyB2ZWM0IHZDb2w7IC8vIGNhcnJpZXMgYWxwaGFcbiIrCiAgICAgICAgICAgICAgICIgIHZhcnlpbmcgdmVjNCB2UG9zaXRpb247XG4iOwoKICAgICAgaWYgKGhhc190ZXh0dXJlIHx8IHR5cGUgPT09ICJ0ZXh0IikKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICB2YXJ5aW5nIHZlYzIgdlRleGNvb3JkO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcbiI7CgogICAgICBpZiAoaGFzX2ZvZykKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICB1bmlmb3JtIGludCB1Rm9nTW9kZTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgdW5pZm9ybSB2ZWMzIHVGb2dDb2xvcjtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgdW5pZm9ybSB2ZWM0IHVGb2dQYXJtcztcbiI7CgogICAgICBpZiAoaXNfbGl0ICYmICFmaXhlZF9xdWFkcykKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICB2YXJ5aW5nIHZlYzQgdk5vcm1hbDtcbiI7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgbmNsaXBwbGFuZXM7IGkrKykKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICB1bmlmb3JtIHZlYzQgdkNsaXBwbGFuZSIraSsiO1xuIjsKCiAgICAgIGlmIChpc19saXQpIHsKICAgICAgICBubGlnaHRzID0gdGhpcy5jb3VudExpZ2h0cygpOwogICAgICAgIGlmIChubGlnaHRzKQogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICB1bmlmb3JtIG1hdDQgbXZNYXRyaXg7XG4iOwogICAgICAgIGVsc2UKICAgICAgICAgICAgaXNfbGl0ID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmIChpc19saXQpIHsKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICB1bmlmb3JtIHZlYzMgZW1pc3Npb247XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgIHVuaWZvcm0gZmxvYXQgc2hpbmluZXNzO1xuIjsKCiAgICAgICAgZm9yIChpPTA7IGkgPCBubGlnaHRzOyBpKyspIHsKICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICIgIHVuaWZvcm0gdmVjMyBhbWJpZW50IiArIGkgKyAiO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgIHVuaWZvcm0gdmVjMyBzcGVjdWxhciIgKyBpICsiOyAvLyBsaWdodCptYXRlcmlhbFxuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgIHVuaWZvcm0gdmVjMyBkaWZmdXNlIiArIGkgKyAiO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgIHVuaWZvcm0gdmVjMyBsaWdodERpciIgKyBpICsgIjtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICB1bmlmb3JtIGJvb2wgdmlld3BvaW50IiArIGkgKyAiO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgIHVuaWZvcm0gYm9vbCBmaW5pdGUiICsgaSArICI7XG4iOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGlzX3R3b3NpZGVkKQogICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICIgIHVuaWZvcm0gYm9vbCBmcm9udDtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgdmFyeWluZyBmbG9hdCBub3JtejtcbiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgIGlmIChmYXRfbGluZXMpCiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgdmFyeWluZyB2ZWMyIHZQb2ludDtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgdmFyeWluZyBmbG9hdCB2TGVuZ3RoO1xuIjsKCiAgICAgIHJlc3VsdCA9IHJlc3VsdCArICIgIHZvaWQgbWFpbih2b2lkKSB7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAiICAgIHZlYzQgZnJhZ0NvbG9yO1xuIjsKICAgICAgCiAgICAgIGlmIChmYXRfbGluZXMpIHsKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICAgIHZlYzIgcG9pbnQgPSB2UG9pbnQ7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgYm9vbCBuZWcgPSBwb2ludC55IDwgMC4wO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgIHBvaW50LnkgPSBuZWcgPyAiKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAocG9pbnQueSArIHZMZW5ndGgpLygxLjAgLSB2TGVuZ3RoKSA6XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgIC0ocG9pbnQueSAtIHZMZW5ndGgpLygxLjAgLSB2TGVuZ3RoKTtcbiI7CiAgICAgICAgaWYgKGlzX3RyYW5zcGFyZW50ICYmIHR5cGUgPT09ICJsaW5lc3RyaXAiKQogICAgICAgICAgcmVzdWx0ID0gcmVzdWx0KyIgICAgaWYgKG5lZyAmJiBsZW5ndGgocG9pbnQpIDw9IDEuMCkgZGlzY2FyZDtcbiI7CiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgICBwb2ludC55ID0gbWluKHBvaW50LnksIDAuMCk7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgaWYgKGxlbmd0aChwb2ludCkgPiAxLjApIGRpc2NhcmQ7XG4iOwogICAgICB9CiAgICAgIAogICAgICBpZiAoaXNfcG9pbnRzKSB7CiAgICAgICAgdmFyIHJvdW5kID0gdGhpcy5nZXRNYXRlcmlhbChvYmosICJwb2ludF9hbnRpYWxpYXMiKTsKICAgICAgICBpZiAocm91bmQpCiAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICAgIHZlYzIgY29vcmQgPSBnbF9Qb2ludENvb3JkIC0gdmVjMigwLjUpO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgaWYgKGxlbmd0aChjb29yZCkgPiAwLjUpIGRpc2NhcmQ7XG4iOwogICAgICB9CgogICAgICBmb3IgKGk9MDsgaSA8IG5jbGlwcGxhbmVzO2krKykKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICAgIGlmIChkb3QodlBvc2l0aW9uLCB2Q2xpcHBsYW5lIitpKyIpIDwgMC4wKSBkaXNjYXJkO1xuIjsKCiAgICAgIGlmIChmaXhlZF9xdWFkcykgewogICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICAgIiAgICB2ZWMzIG4gPSB2ZWMzKDAuLCAwLiwgMS4pO1xuIjsKICAgICAgfSBlbHNlIGlmIChpc19saXQpIHsKICAgICAgCXJlc3VsdCA9IHJlc3VsdCArICAgIiAgICB2ZWMzIG4gPSBub3JtYWxpemUodk5vcm1hbC54eXopO1xuIjsKICAgICAgfQoKICAgICAgaWYgKGlzX3R3b3NpZGVkKSB7CiAgICAgIAlyZXN1bHQgPSByZXN1bHQgKyAgICIgICAgaWYgKChub3JteiA8PSAwLikgIT0gZnJvbnQpIGRpc2NhcmQ7XG4iOwogICAgICB9CgogICAgICBpZiAoaXNfbGl0KSB7CiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIiAgICB2ZWMzIGV5ZSA9IG5vcm1hbGl6ZSgtdlBvc2l0aW9uLnh5eik7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgICB2ZWMzIGxpZ2h0ZGlyO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgdmVjNCBjb2xEaWZmO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgdmVjMyBoYWxmVmVjO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgdmVjNCBsaWdodGVmZmVjdCA9IHZlYzQoZW1pc3Npb24sIDAuKTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIHZlYzMgY29sO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgZmxvYXQgbkRvdEw7XG4iOwogICAgICAgIGlmICghZml4ZWRfcXVhZHMpIHsKICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICAgIiAgIG4gPSAtZmFjZWZvcndhcmQobiwgbiwgZXllKTtcbiI7CiAgICAgICAgfQogICAgICAgIGZvciAoaT0wOyBpIDwgbmxpZ2h0czsgaSsrKSB7CiAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAiICAgY29sRGlmZiA9IHZlYzQodkNvbC5yZ2IgKiBkaWZmdXNlIiArIGkgKyAiLCB2Q29sLmEpO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICBsaWdodGRpciA9IGxpZ2h0RGlyIiArIGkgKyAiO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICBpZiAoIXZpZXdwb2ludCIgKyBpICsiKVxuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgIGxpZ2h0ZGlyID0gKG12TWF0cml4ICogdmVjNChsaWdodGRpciwgMS4pKS54eXo7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIGlmICghZmluaXRlIiArIGkgKyAiKSB7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgaGFsZlZlYyA9IG5vcm1hbGl6ZShsaWdodGRpciArIGV5ZSk7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIH0gZWxzZSB7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgbGlnaHRkaXIgPSBub3JtYWxpemUobGlnaHRkaXIgLSB2UG9zaXRpb24ueHl6KTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICBoYWxmVmVjID0gbm9ybWFsaXplKGxpZ2h0ZGlyICsgZXllKTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgfVxuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgY29sID0gYW1iaWVudCIgKyBpICsgIjtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgbkRvdEwgPSBkb3QobiwgbGlnaHRkaXIpO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICBjb2wgPSBjb2wgKyBtYXgobkRvdEwsIDAuKSAqIGNvbERpZmYucmdiO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICBjb2wgPSBjb2wgKyBwb3cobWF4KGRvdChoYWxmVmVjLCBuKSwgMC4pLCBzaGluaW5lc3MpICogc3BlY3VsYXIiICsgaSArICI7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIGxpZ2h0ZWZmZWN0ID0gbGlnaHRlZmZlY3QgKyB2ZWM0KGNvbCwgY29sRGlmZi5hKTtcbiI7CiAgICAgICAgfQoKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAgICIgICAgdmVjNCBjb2xEaWZmID0gdkNvbDtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgIHZlYzQgbGlnaHRlZmZlY3QgPSBjb2xEaWZmO1xuIjsKICAgICAgfQoKICAgICAgaWYgKHR5cGUgPT09ICJ0ZXh0IikKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAgICIgICAgdmVjNCB0ZXh0dXJlQ29sb3IgPSBsaWdodGVmZmVjdCp0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXhjb29yZCk7XG4iOwoKICAgICAgaWYgKGhhc190ZXh0dXJlKSB7CiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgewogICAgICAgICAgICByZ2I6ICAgICAgICAgICAgIiAgIHZlYzQgdGV4dHVyZUNvbG9yID0gbGlnaHRlZmZlY3QqdmVjNCh0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXhjb29yZCkucmdiLCAxLik7XG4iLAogICAgICAgICAgICByZ2JhOiAgICAgICAgICAgIiAgIHZlYzQgdGV4dHVyZUNvbG9yID0gbGlnaHRlZmZlY3QqdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4Y29vcmQpO1xuIiwKICAgICAgICAgICAgYWxwaGE6ICAgICAgICAgICIgICB2ZWM0IHRleHR1cmVDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleGNvb3JkKTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgZmxvYXQgbHVtaW5hbmNlID0gZG90KHZlYzMoMS4sMS4sMS4pLCB0ZXh0dXJlQ29sb3IucmdiKS8zLjtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgdGV4dHVyZUNvbG9yID0gIHZlYzQobGlnaHRlZmZlY3QucmdiLCBsaWdodGVmZmVjdC5hKmx1bWluYW5jZSk7XG4iLAogICAgICAgICAgICBsdW1pbmFuY2U6ICAgICAgIiAgIHZlYzQgdGV4dHVyZUNvbG9yID0gdmVjNChsaWdodGVmZmVjdC5yZ2IqZG90KHRleHR1cmUyRCh1U2FtcGxlciwgdlRleGNvb3JkKS5yZ2IsIHZlYzMoMS4sMS4sMS4pKS8zLiwgbGlnaHRlZmZlY3QuYSk7XG4iLAogICAgICAgICAgImx1bWluYW5jZS5hbHBoYSI6IiAgICB2ZWM0IHRleHR1cmVDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleGNvb3JkKTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgIGZsb2F0IGx1bWluYW5jZSA9IGRvdCh2ZWMzKDEuLDEuLDEuKSx0ZXh0dXJlQ29sb3IucmdiKS8zLjtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgIHRleHR1cmVDb2xvciA9IHZlYzQobGlnaHRlZmZlY3QucmdiKmx1bWluYW5jZSwgbGlnaHRlZmZlY3QuYSp0ZXh0dXJlQ29sb3IuYSk7XG4iCiAgICAgICAgICB9W3RleHR1cmVfZm9ybWF0XSsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgZnJhZ0NvbG9yID0gdGV4dHVyZUNvbG9yO1xuIjsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAidGV4dCIpIHsKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAgICIgICAgaWYgKHRleHR1cmVDb2xvci5hIDwgMC4xKVxuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICBkaXNjYXJkO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgZWxzZVxuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICBmcmFnQ29sb3IgPSB0ZXh0dXJlQ29sb3I7XG4iOwogICAgICB9IGVsc2UKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAgICIgICAgZnJhZ0NvbG9yID0gbGlnaHRlZmZlY3Q7XG4iOwoKICAgICAgaWYgKGhhc19mb2cpIHsKICAgICAgICAvLyB1Rm9nUGFybXMgZWxlbWVudHM6IHggPSBuZWFyLCB5ID0gZmFyLCB6ID0gZm9nc2NhbGUsIHcgPSAoMS1zaW4oRk9WLzIpKS8oMStzaW4oRk9WLzIpKQogICAgICAgIC8vIEluIEV4cCBhbmQgRXhwMjogdXNlIGRlbnNpdHkgPSBkZW5zaXR5L2ZhcgogICAgICAgIC8vIGZvZ0Ygd2lsbCBiZSB0aGUgcHJvcG9ydGlvbiBvZiBmb2cKICAgICAgICAvLyBJbml0aWFsaXplIGl0IHRvIHRoZSBsaW5lYXIgdmFsdWUKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAgICIgICAgZmxvYXQgZm9nRjtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgIGlmICh1Rm9nTW9kZSA+IDApIHtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgZm9nRiA9ICh1Rm9nUGFybXMueSAtIHZQb3NpdGlvbi56L3ZQb3NpdGlvbi53KS8odUZvZ1Bhcm1zLnkgLSB1Rm9nUGFybXMueCk7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgIGlmICh1Rm9nTW9kZSA+IDEpXG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgZm9nRiA9IG1peCh1Rm9nUGFybXMudywgMS4wLCBmb2dGKTtcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgZm9nRiA9IGZvZ0YqdUZvZ1Bhcm1zLno7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgIGlmICh1Rm9nTW9kZSA9PSAyKVxuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgIGZvZ0YgPSAxLjAgLSBleHAoLWZvZ0YpO1xuIisKICAvLyBEb2NzIGFyZSB3cm9uZzogdXNlIChkZW5zaXR5KmMpXjIsIG5vdCBkZW5zaXR5KmNeMgogIC8vIGh0dHBzOi8vZ2l0bGFiLmZyZWVkZXNrdG9wLm9yZy9tZXNhL21lc2EvLS9ibG9iL21hc3Rlci9zcmMvbWVzYS9zd3Jhc3Qvc19mb2cuYyNMNTgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICBlbHNlIGlmICh1Rm9nTW9kZSA9PSAzKVxuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgIGZvZ0YgPSAxLjAgLSBleHAoLWZvZ0YqZm9nRik7XG4iKyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICBmb2dGID0gY2xhbXAoZm9nRiwgMC4wLCAxLjApO1xuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KG1peChmcmFnQ29sb3IucmdiLCB1Rm9nQ29sb3IsIGZvZ0YpLCBmcmFnQ29sb3IuYSk7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAiICAgICAgaWYgKGZvZ0YgPCAwLikgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjAsMC4wLDAuMCwxLjApOyBlbHNlIGlmIChmb2dGIDwgMS4wKSBnbF9GcmFnQ29sb3IgPSB2ZWM0KG1peChmcmFnQ29sb3IucmdiLCB1Rm9nQ29sb3IsIGZvZ0YpLCBmcmFnQ29sb3IuYSk7ZWxzZSBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCwxLjAsMC4wLDEuMCk7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICB9IGVsc2UgZ2xfRnJhZ0NvbG9yID0gZnJhZ0NvbG9yO1xuIjsKICAgICAgfSBlbHNlCiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgICAiICAgIGdsX0ZyYWdDb2xvciA9IGZyYWdDb2xvcjtcbiI7CiAKICAgICAgLy9pZiAoZmF0X2xpbmVzKQogICAgICAvLyAgcmVzdWx0ID0gcmVzdWx0ICsgICAiICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjAsIGFicyhwb2ludC54KSwgYWJzKHBvaW50LnkpLCAxLjApOyIKICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgICAgICIgIH1cbiI7CgogICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfTsKCiAgICAvKioKICAgICAqIENhbGwgZ2wgZnVuY3Rpb25zIHRvIGNyZWF0ZSBhbmQgY29tcGlsZSBzaGFkZXIKICAgICAqIEByZXR1cm5zIHtPYmplY3R9CiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBzaGFkZXJUeXBlIC0gZ2wgY29kZSBmb3Igc2hhZGVyIHR5cGUKICAgICAqIEBwYXJhbSB7IHN0cmluZyB9IGNvZGUgLSBjb2RlIGZvciB0aGUgc2hhZGVyCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5nZXRTaGFkZXIgPSBmdW5jdGlvbihzaGFkZXJUeXBlLCBjb2RlKSB7CiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCwgc2hhZGVyOwogICAgICAgIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTsKICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBjb2RlKTsKICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7CiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykgJiYgIWdsLmlzQ29udGV4dExvc3QoKSkKICAgICAgICAgICAgYWxlcnQoZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTsKICAgICAgICByZXR1cm4gc2hhZGVyOwogICAgfTsKCg=="></script>
<script src="data:application/javascript;base64,ICAgIC8qKgogICAgICogTWV0aG9kcyByZWxhdGVkIHRvIHRleHR1cmVzCiAgICAgKiBAbmFtZSBfX19NRVRIT0RTX0ZPUl9URVhUVVJFU19fXwogICAgICogQG1lbWJlcm9mIHJnbHdpZGdldENsYXNzCiAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICogQGluc3RhbmNlCiAgICAgKi8KICAgICAKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5nZXRUZXhGaWx0ZXIgPSBmdW5jdGlvbihmaWx0ZXIpIHsKICAgICAgdmFyIGdsID0gdGhpcy5nbCB8fCB0aGlzLmluaXRHTCgpOwogICAgICBzd2l0Y2goZmlsdGVyKSB7CiAgICAgICAgY2FzZSAibmVhcmVzdCI6IHJldHVybiBnbC5ORUFSRVNUOwogICAgICAgIGNhc2UgImxpbmVhciI6IHJldHVybiBnbC5MSU5FQVI7CiAgICAgICAgY2FzZSAibmVhcmVzdC5taXBtYXAubmVhcmVzdCI6IHJldHVybiBnbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOwogICAgICAgIGNhc2UgImxpbmVhci5taXBtYXAubmVhcmVzdCI6IHJldHVybiBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1Q7CiAgICAgICAgY2FzZSAibmVhcmVzdC5taXBtYXAubGluZWFyIjogcmV0dXJuIGdsLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjsKICAgICAgICBjYXNlICJsaW5lYXIubWlwbWFwLmxpbmVhciI6IHJldHVybiBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUjsKICAgICAgICBkZWZhdWx0OiBjb25zb2xlLmVycm9yKCJVbmtub3duIGZpbHRlcjogIitmaWx0ZXIpOwogICAgICB9CiAgICB9OwogICAgIAogICAgLyoqCiAgICAgKiBIYW5kbGUgYSB0ZXh0dXJlIGFmdGVyIGl0cyBpbWFnZSBoYXMgYmVlbiBsb2FkZWQKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IHRleHR1cmUgLSB0aGUgZ2wgdGV4dHVyZSBvYmplY3QKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IHRleHR1cmVDYW52YXMgLSB0aGUgY2FudmFzIGhvbGRpbmcgdGhlIGltYWdlCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5oYW5kbGVMb2FkZWRUZXh0dXJlID0gZnVuY3Rpb24odGV4dHVyZSwgdGV4dHVyZUNhbnZhcykgewogICAgICB2YXIgZ2wgPSB0aGlzLmdsIHx8IHRoaXMuaW5pdEdMKCk7CiAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsIHRydWUpOwoKICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7CiAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdGV4dHVyZUNhbnZhcyk7CiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpOwogICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSX01JUE1BUF9ORUFSRVNUKTsKICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV8yRCk7CgogICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBHZXQgbWF4aW11bSBkaW1lbnNpb24gb2YgdGV4dHVyZSBpbiBjdXJyZW50IGJyb3dzZXIuCiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZ2V0TWF4VGV4U2l6ZSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgZ2wgPSB0aGlzLmdsIHx8IHRoaXMuaW5pdEdMKCk7CQogICAgICByZXR1cm4gTWF0aC5taW4oNDA5NiwgZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX1NJWkUpKTsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogTG9hZCBhbiBpbWFnZSB0byBhIHRleHR1cmUKICAgICAqIEBwYXJhbSB7IHN0cmluZyB9IHVyaSAtIFRoZSBpbWFnZSBsb2NhdGlvbgogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gdGV4dHVyZSAtIHRoZSBnbCB0ZXh0dXJlIG9iamVjdAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUubG9hZEltYWdlVG9UZXh0dXJlID0gZnVuY3Rpb24odXJpLCB0ZXh0dXJlKSB7CiAgICAgIHZhciBjYW52YXMgPSB0aGlzLnRleHR1cmVDYW52YXMsCiAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKSwKICAgICAgICAgIGltYWdlID0gbmV3IEltYWdlKCksCiAgICAgICAgICBzZWxmID0gdGhpczsKCiAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHsKCiAgICAgICAgIHZhciB3ID0gaW1hZ2Uud2lkdGgsCiAgICAgICAgICAgICBoID0gaW1hZ2UuaGVpZ2h0LAogICAgICAgICAgICAgY2FudmFzWCA9IHNlbGYuZ2V0UG93ZXJPZlR3byh3KSwKICAgICAgICAgICAgIGNhbnZhc1kgPSBzZWxmLmdldFBvd2VyT2ZUd28oaCksCiAgICAgICAgICAgICBtYXhUZXhTaXplID0gc2VsZi5nZXRNYXhUZXhTaXplKCk7CiAgICAgICAgIHdoaWxlIChjYW52YXNYID4gMSAmJiBjYW52YXNZID4gMSAmJiAoY2FudmFzWCA+IG1heFRleFNpemUgfHwgY2FudmFzWSA+IG1heFRleFNpemUpKSB7CiAgICAgICAgICAgY2FudmFzWCAvPSAyOwogICAgICAgICAgIGNhbnZhc1kgLz0gMjsKICAgICAgICAgfQogICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXNYOwogICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzWTsKICAgICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7CiAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGNhbnZhc1gsIGNhbnZhc1kpOwogICAgICAgICBzZWxmLmhhbmRsZUxvYWRlZFRleHR1cmUodGV4dHVyZSwgY2FudmFzKTsKICAgICAgICAgc2VsZi5kcmF3U2NlbmUoKTsKICAgICAgIH07CiAgICAgICBpbWFnZS5zcmMgPSB1cmk7CiAgICAgfTsKCiAgICAvKioKICAgICAqIERyYXcgdGV4dCB0byB0aGUgdGV4dHVyZSBjYW52YXMKICAgICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gb2JqZWN0IHdpdGggdGV4dCBtZWFzdXJlbWVudHMKICAgICAqIEBwYXJhbSB7IHN0cmluZyB9IHRleHQgLSB0aGUgdGV4dAogICAgICogQHBhcmFtIHsgbnVtYmVyIH0gY2V4IC0gZXhwYW5zaW9uCiAgICAgKiBAcGFyYW0geyBzdHJpbmcgfSBmYW1pbHkgLSBmb250IGZhbWlseQogICAgICogQHBhcmFtIHsgbnVtYmVyIH0gZm9udCAtIGZvbnQgbnVtYmVyCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5kcmF3VGV4dFRvQ2FudmFzID0gZnVuY3Rpb24odGV4dCwgY2V4LCBmYW1pbHksIGZvbnQpIHsKICAgICAgIHZhciBjYW52YXNYLCBjYW52YXNZLAogICAgICAgICAgIHNjYWxpbmcgPSAyMCwKICAgICAgICAgICB0ZXh0Q29sb3VyID0gIndoaXRlIiwKCiAgICAgICAgICAgYmFja2dyb3VuZENvbG91ciA9ICJyZ2JhKDAsMCwwLDApIiwKICAgICAgICAgICBjYW52YXMgPSB0aGlzLnRleHR1cmVDYW52YXMsCiAgICAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIiksCiAgICAgICAgICAgaSwgdGV4dEhlaWdodCA9IDAsIHRleHRIZWlnaHRzID0gW10sIHdpZHRoLCB3aWR0aHMgPSBbXSwgCiAgICAgICAgICAgb2Zmc2V0eCwgb2Zmc2V0eSA9IDAsIGxpbmUsIGxpbmVzID0gW10sIG9mZnNldHN4ID0gW10sCiAgICAgICAgICAgb2Zmc2V0c3kgPSBbXSwgbGluZW9mZnNldHN5ID0gW10sIGZvbnRTdHJpbmdzID0gW10sCiAgICAgICAgICAgbWF4VGV4U2l6ZSA9IHRoaXMuZ2V0TWF4VGV4U2l6ZSgpLAogICAgICAgICAgIGdldEZvbnRTdHJpbmcgPSBmdW5jdGlvbihpKSB7CiAgICAgICAgICAgICB0ZXh0SGVpZ2h0c1tpXSA9IHNjYWxpbmcqY2V4W2ldOwogICAgICAgICAgICAgdmFyIGZvbnRTdHJpbmcgPSB0ZXh0SGVpZ2h0c1tpXSArICJweCIsCiAgICAgICAgICAgICAgICAgZmFtaWx5MCA9IGZhbWlseVtpXSwKICAgICAgICAgICAgICAgICBmb250MCA9IGZvbnRbaV07CiAgICAgICAgICAgICBpZiAoZmFtaWx5MCA9PT0gInNhbnMiKQogICAgICAgICAgICAgICBmYW1pbHkwID0gInNhbnMtc2VyaWYiOwogICAgICAgICAgICAgZWxzZSBpZiAoZmFtaWx5MCA9PT0gIm1vbm8iKQogICAgICAgICAgICAgICBmYW1pbHkwID0gIm1vbm9zcGFjZSI7CiAgICAgICAgICAgICBmb250U3RyaW5nID0gZm9udFN0cmluZyArICIgIiArIGZhbWlseTA7CiAgICAgICAgICAgICBpZiAoZm9udDAgPT09IDIgfHwgZm9udDAgPT09IDQpCiAgICAgICAgICAgICAgIGZvbnRTdHJpbmcgPSAiYm9sZCAiICsgZm9udFN0cmluZzsKICAgICAgICAgICAgIGlmIChmb250MCA9PT0gMyB8fCBmb250MCA9PT0gNCkKICAgICAgICAgICAgICAgZm9udFN0cmluZyA9ICJpdGFsaWMgIiArIGZvbnRTdHJpbmc7CiAgICAgICAgICAgICByZXR1cm4gZm9udFN0cmluZzsKICAgICAgICAgICB9OwogICAgICAgY2V4ID0gdGhpcy5yZXBlYXRUb0xlbihjZXgsIHRleHQubGVuZ3RoKTsKICAgICAgIGZhbWlseSA9IHRoaXMucmVwZWF0VG9MZW4oZmFtaWx5LCB0ZXh0Lmxlbmd0aCk7CiAgICAgICBmb250ID0gdGhpcy5yZXBlYXRUb0xlbihmb250LCB0ZXh0Lmxlbmd0aCk7CgogICAgICAgY2FudmFzWCA9IDE7CiAgICAgICBsaW5lID0gLTE7CiAgICAgICBvZmZzZXR4ID0gbWF4VGV4U2l6ZTsKICAgICAgIGZvciAoaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSAgewogICAgICAgICBjdHguZm9udCA9IGZvbnRTdHJpbmdzW2ldID0gZ2V0Rm9udFN0cmluZyhpKTsKICAgICAgICAgd2lkdGggPSB3aWR0aHNbaV0gPSBjdHgubWVhc3VyZVRleHQodGV4dFtpXSkud2lkdGg7CiAgICAgICAgIGlmIChvZmZzZXR4ICsgd2lkdGggPiBtYXhUZXhTaXplKSB7CiAgICAgICAgICAgb2Zmc2V0eSA9IG9mZnNldHkgKyAyKnRleHRIZWlnaHQ7CiAgICAgICAgICAgaWYgKGxpbmUgPj0gMCkKICAgICAgICAgICAgIGxpbmVvZmZzZXRzeVtsaW5lXSA9IG9mZnNldHk7CiAgICAgICAgICAgbGluZSArPSAxOwogICAgICAgICAgIGlmIChvZmZzZXR5ID4gbWF4VGV4U2l6ZSkKICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlRvbyBtYW55IHN0cmluZ3MgZm9yIHRleHR1cmUuIik7CiAgICAgICAgICAgdGV4dEhlaWdodCA9IDA7CiAgICAgICAgICAgb2Zmc2V0eCA9IDA7CiAgICAgICAgIH0KICAgICAgICAgdGV4dEhlaWdodCA9IE1hdGgubWF4KHRleHRIZWlnaHQsIHRleHRIZWlnaHRzW2ldKTsKICAgICAgICAgb2Zmc2V0c3hbaV0gPSBvZmZzZXR4OwogICAgICAgICBvZmZzZXR4ICs9IHdpZHRoOwogICAgICAgICBjYW52YXNYID0gTWF0aC5tYXgoY2FudmFzWCwgb2Zmc2V0eCk7CiAgICAgICAgIGxpbmVzW2ldID0gbGluZTsKICAgICAgIH0KICAgICAgIG9mZnNldHkgPSBsaW5lb2Zmc2V0c3lbbGluZV0gPSBvZmZzZXR5ICsgMip0ZXh0SGVpZ2h0OwogICAgICAgZm9yIChpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHsKICAgICAgIAkgb2Zmc2V0c3lbaV0gPSBsaW5lb2Zmc2V0c3lbbGluZXNbaV1dOwogICAgICAgfQogICAgICAgCiAgICAgICBjYW52YXNYID0gdGhpcy5nZXRQb3dlck9mVHdvKGNhbnZhc1gpOwogICAgICAgY2FudmFzWSA9IHRoaXMuZ2V0UG93ZXJPZlR3byhvZmZzZXR5KTsKCiAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXNYOwogICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc1k7CgogICAgICAgY3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvdXI7CiAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY3R4LmNhbnZhcy53aWR0aCwgY3R4LmNhbnZhcy5oZWlnaHQpOwoKICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAiYWxwaGFiZXRpYyI7CiAgICAgICBmb3IoaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgIGN0eC5mb250ID0gZm9udFN0cmluZ3NbaV07CiAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0ZXh0Q29sb3VyOwogICAgICAgICBjdHgudGV4dEFsaWduID0gImxlZnQiOwogICAgICAgICBjdHguZmlsbFRleHQodGV4dFtpXSwgb2Zmc2V0c3hbaV0sICBvZmZzZXRzeVtpXSk7CiAgICAgICB9CiAgICAgICByZXR1cm4ge2NhbnZhc1g6Y2FudmFzWCwgY2FudmFzWTpjYW52YXNZLAogICAgICAgICAgICAgICB3aWR0aHM6d2lkdGhzLCB0ZXh0SGVpZ2h0czp0ZXh0SGVpZ2h0cywKICAgICAgICAgICAgICAgb2Zmc2V0c3g6b2Zmc2V0c3gsIG9mZnNldHN5Om9mZnNldHN5fTsKICAgICB9OwoK"></script>
<script src="data:application/javascript;base64,ICAgIC8qKgogICAgICogTWV0aG9kcyByZWxhdGVkIHRvIHByb2plY3Rpb25zCiAgICAgKiBAbmFtZSBfX19NRVRIT0RTX0ZPUl9QUk9KRUNUSU9OU19fXwogICAgICogQG1lbWJlcm9mIHJnbHdpZGdldENsYXNzCiAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICogQGluc3RhbmNlCiAgICAgKi8KICAgICAKICAgIC8qKgogICAgICogR2V0IHRoZSB2aWV3cG9ydAogICAgICovCiAgICAgCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZ2V0Vmlld3BvcnQgPSBmdW5jdGlvbihpZCkgewogICAgICB2YXIgdnAgPSB0aGlzLmdldE9iaihpZCkucGFyM2Qudmlld3BvcnQsCiAgICAgICAgIHggPSB2cC54KnRoaXMuY2FudmFzLndpZHRoLAogICAgICAgICB5ID0gdnAueSp0aGlzLmNhbnZhcy5oZWlnaHQsCiAgICAgICAgIHdpZHRoID0gdnAud2lkdGgqdGhpcy5jYW52YXMud2lkdGgsCiAgICAgICAgIGhlaWdodCA9IHZwLmhlaWdodCp0aGlzLmNhbnZhcy5oZWlnaHQ7CiAgICAgICB0aGlzLnZwID0ge3g6eCwgeTp5LCB3aWR0aDp3aWR0aCwgaGVpZ2h0OmhlaWdodH07CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIFNldCB0aGUgZ2wgdmlld3BvcnQgYW5kIHNjaXNzb3IgdGVzdAogICAgICogQHBhcmFtIHsgbnVtYmVyIH0gaWQgLSBpZCBvZiBzdWJzY2VuZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuc2V0Vmlld3BvcnQgPSBmdW5jdGlvbihpZCkgewogICAgICAgdmFyIGdsID0gdGhpcy5nbCB8fCB0aGlzLmluaXRHTCgpOwogICAgICAgdGhpcy5nZXRWaWV3cG9ydChpZCk7CiAgICAgICBnbC52aWV3cG9ydCh0aGlzLnZwLngsIHRoaXMudnAueSwgdGhpcy52cC53aWR0aCwgdGhpcy52cC5oZWlnaHQpOwogICAgICAgZ2wuc2Npc3Nvcih0aGlzLnZwLngsIHRoaXMudnAueSwgdGhpcy52cC53aWR0aCwgdGhpcy52cC5oZWlnaHQpOwogICAgICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7CiAgICAgfTsKCiAgICAvKioKICAgICAqIFNldCB0aGUgcHJvamVjdGlvbiBtYXRyaXggZm9yIGEgc3Vic2NlbmUKICAgICAqIEBwYXJhbSB7IG51bWJlciB9IGlkIC0gaWQgb2Ygc3Vic2NlbmUKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnNldHByTWF0cml4ID0gZnVuY3Rpb24oaWQpIHsKICAgICAgIHZhciBzdWJzY2VuZSA9IHRoaXMuZ2V0T2JqKGlkKSwKICAgICAgICAgIGVtYmVkZGluZyA9IHN1YnNjZW5lLmVtYmVkZGluZ3MucHJvamVjdGlvbjsKICAgICAgIGlmIChlbWJlZGRpbmcgPT09ICJyZXBsYWNlIikKICAgICAgICAgdGhpcy5wck1hdHJpeC5tYWtlSWRlbnRpdHkoKTsKICAgICAgIGVsc2UKICAgICAgICAgdGhpcy5zZXRwck1hdHJpeChzdWJzY2VuZS5wYXJlbnQpOwogICAgICAgaWYgKGVtYmVkZGluZyA9PT0gImluaGVyaXQiKQogICAgICAgICByZXR1cm47CiAgICAgICAvLyBUaGlzIGlzIGJhc2VkIG9uIHRoZSBGcnVzdHVtOjplbmNsb3NlIGNvZGUgZnJvbSBnZW9tLmNwcAogICAgICAgdmFyIGJib3ggPSBzdWJzY2VuZS5wYXIzZC5iYm94LAogICAgICAgICAgIHNjYWxlID0gc3Vic2NlbmUucGFyM2Quc2NhbGUsCiAgICAgICAgICAgcmFuZ2VzID0gWyhiYm94WzFdLWJib3hbMF0pKnNjYWxlWzBdLzIsCiAgICAgICAgICAgICAgICAgICAgIChiYm94WzNdLWJib3hbMl0pKnNjYWxlWzFdLzIsCiAgICAgICAgICAgICAgICAgICAgIChiYm94WzVdLWJib3hbNF0pKnNjYWxlWzJdLzJdLAogICAgICAgICAgIHJhZGl1cyA9IE1hdGguc3FydCh0aGlzLnN1bXNxKHJhbmdlcykpKjEuMTsgLy8gQSBiaXQgYmlnZ2VyIHRvIGhhbmRsZSBsYWJlbHMKICAgICAgIGlmIChyYWRpdXMgPD0gMCkgcmFkaXVzID0gMTsKICAgICAgIHZhciBvYnNlcnZlciA9IHN1YnNjZW5lLnBhcjNkLm9ic2VydmVyLAogICAgICAgICAgIGRpc3RhbmNlID0gb2JzZXJ2ZXJbMl0sCiAgICAgICAgICAgRk9WID0gc3Vic2NlbmUucGFyM2QuRk9WLCBvcnRobyA9IEZPViA9PT0gMCwKICAgICAgICAgICB0ID0gb3J0aG8gPyAxIDogTWF0aC50YW4oRk9WKk1hdGguUEkvMzYwKSwKICAgICAgICAgICBuZWFyID0gZGlzdGFuY2UgLSByYWRpdXMsCiAgICAgICAgICAgZmFyID0gZGlzdGFuY2UgKyByYWRpdXMsCiAgICAgICAgICAgaGxlbiwKICAgICAgICAgICBhc3BlY3QgPSB0aGlzLnZwLndpZHRoL3RoaXMudnAuaGVpZ2h0LAogICAgICAgICAgIHogPSBzdWJzY2VuZS5wYXIzZC56b29tLAogICAgICAgICAgIHVzZXJQcm9qZWN0aW9uID0gc3Vic2NlbmUucGFyM2QudXNlclByb2plY3Rpb247CiAgICAgICBpZiAoZmFyIDwgMC4wKQogICAgICAgICBmYXIgPSAxLjA7CiAgICAgICBpZiAobmVhciA8IGZhci8xMDAuMCkKICAgICAgICAgbmVhciA9IGZhci8xMDAuMDsKICAgICAgIHRoaXMuZnJ1c3R1bSA9IHtuZWFyOm5lYXIsIGZhcjpmYXJ9OwogICAgICAgaGxlbiA9IHQqbmVhcjsKICAgICAgIGlmIChvcnRobykgewogICAgICAgICBpZiAoYXNwZWN0ID4gMSkKICAgICAgICAgICB0aGlzLnByTWF0cml4Lm9ydGhvKC1obGVuKmFzcGVjdCp6LCBobGVuKmFzcGVjdCp6LAogICAgICAgICAgICAgICAgICAgICAgICAgIC1obGVuKnosIGhsZW4qeiwgbmVhciwgZmFyKTsKICAgICAgICAgZWxzZQogICAgICAgICAgIHRoaXMucHJNYXRyaXgub3J0aG8oLWhsZW4qeiwgaGxlbip6LAogICAgICAgICAgICAgICAgICAgICAgICAgIC1obGVuKnovYXNwZWN0LCBobGVuKnovYXNwZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgIG5lYXIsIGZhcik7CiAgICAgICB9IGVsc2UgewogICAgICAgICBpZiAoYXNwZWN0ID4gMSkKICAgICAgICAgICB0aGlzLnByTWF0cml4LmZydXN0dW0oLWhsZW4qYXNwZWN0KnosIGhsZW4qYXNwZWN0KnosCiAgICAgICAgICAgICAgICAgICAgICAgICAgLWhsZW4qeiwgaGxlbip6LCBuZWFyLCBmYXIpOwogICAgICAgICBlbHNlCiAgICAgICAgICAgdGhpcy5wck1hdHJpeC5mcnVzdHVtKC1obGVuKnosIGhsZW4qeiwKICAgICAgICAgICAgICAgICAgICAgICAgICAtaGxlbip6L2FzcGVjdCwgaGxlbip6L2FzcGVjdCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuZWFyLCBmYXIpOwogICAgICAgfQogICAgICAgdGhpcy5wck1hdHJpeC5tdWx0UmlnaHQodXNlclByb2plY3Rpb24pOwogICAgIH07CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIG1vZGVsLXZpZXcgbWF0cml4IGZvciBhIHN1YnNjZW5lCiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBpZCAtIGlkIG9mIHRoZSBzdWJzY2VuZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuc2V0bXZNYXRyaXggPSBmdW5jdGlvbihpZCkgewogICAgICAgdmFyIG9ic2VydmVyID0gdGhpcy5nZXRPYmooaWQpLnBhcjNkLm9ic2VydmVyOwogICAgICAgdGhpcy5tdk1hdHJpeC5tYWtlSWRlbnRpdHkoKTsKICAgICAgIHRoaXMuc2V0bW9kZWxNYXRyaXgoaWQpOwogICAgICAgdGhpcy5tdk1hdHJpeC50cmFuc2xhdGUoLW9ic2VydmVyWzBdLCAtb2JzZXJ2ZXJbMV0sIC1vYnNlcnZlclsyXSk7CgogICAgIH07CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIG1vZGVsIG1hdHJpeCBmb3IgYSBzdWJzY2VuZQogICAgICogQHBhcmFtIHsgbnVtYmVyIH0gaWQgLSBpZCBvZiB0aGUgc3Vic2NlbmUKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnNldG1vZGVsTWF0cml4ID0gZnVuY3Rpb24oaWQpIHsKICAgICAgdmFyIHN1YnNjZW5lID0gdGhpcy5nZXRPYmooaWQpLAogICAgICAgICAgZW1iZWRkaW5nID0gc3Vic2NlbmUuZW1iZWRkaW5ncy5tb2RlbDsKICAgICAgaWYgKGVtYmVkZGluZyAhPT0gImluaGVyaXQiKSB7CiAgICAgICAgdmFyIHNjYWxlID0gc3Vic2NlbmUucGFyM2Quc2NhbGUsCiAgICAgICAgICAgIGJib3ggPSBzdWJzY2VuZS5wYXIzZC5iYm94LAogICAgICAgICAgICBjZW50ZXIgPSBbKGJib3hbMF0rYmJveFsxXSkvMiwKICAgICAgICAgICAgICAgICAgICAgIChiYm94WzJdK2Jib3hbM10pLzIsCiAgICAgICAgICAgICAgICAgICAgICAoYmJveFs0XStiYm94WzVdKS8yXTsKICAgICAgICAgdGhpcy5tdk1hdHJpeC50cmFuc2xhdGUoLWNlbnRlclswXSwgLWNlbnRlclsxXSwgLWNlbnRlclsyXSk7CiAgICAgICAgIHRoaXMubXZNYXRyaXguc2NhbGUoc2NhbGVbMF0sIHNjYWxlWzFdLCBzY2FsZVsyXSk7CiAgICAgICAgIHRoaXMubXZNYXRyaXgubXVsdFJpZ2h0KCBzdWJzY2VuZS5wYXIzZC51c2VyTWF0cml4ICk7CiAgICAgICB9CiAgICAgICBpZiAoZW1iZWRkaW5nICE9PSAicmVwbGFjZSIpCiAgICAgICAgIHRoaXMuc2V0bW9kZWxNYXRyaXgoc3Vic2NlbmUucGFyZW50KTsKICAgICB9OwoKICAgIC8qKgogICAgICogU2V0IHRoZSBub3JtYWxzIG1hdHJpeCBmb3IgYSBzdWJzY2VuZQogICAgICogQHBhcmFtIHsgbnVtYmVyIH0gc3Vic2NlbmVpZCAtIGlkIG9mIHRoZSBzdWJzY2VuZQogICAgICovCiAgICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnNldG5vcm1NYXRyaXgyID0gZnVuY3Rpb24oKSB7CiAgICAgICB0aGlzLm5vcm1NYXRyaXggPSBuZXcgQ2FudmFzTWF0cml4NCh0aGlzLm12TWF0cml4KTsKICAgICAgIHRoaXMubm9ybU1hdHJpeC5pbnZlcnQoKTsKICAgICAgIHRoaXMubm9ybU1hdHJpeC50cmFuc3Bvc2UoKTsKICAgICB9OwoKICAgIC8qKgogICAgICogU2V0IHRoZSBjb21iaW5lZCBwcm9qZWN0aW9uLW1vZGVsLXZpZXcgbWF0cml4CiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5zZXRwcm12TWF0cml4ID0gZnVuY3Rpb24oKSB7CiAgICAgICB0aGlzLnBybXZNYXRyaXggPSBuZXcgQ2FudmFzTWF0cml4NCggdGhpcy5tdk1hdHJpeCApOwogICAgICAgdGhpcy5wcm12TWF0cml4Lm11bHRSaWdodCggdGhpcy5wck1hdHJpeCApOwogICAgIH07CgogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnNldEludlByTWF0cml4ID0gZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuaW52UHJNYXRyaXggPSBuZXcgQ2FudmFzTWF0cml4NCggdGhpcy5wck1hdHJpeCApOwogICAgICB0aGlzLmludlByTWF0cml4LmludmVydCgpOwogICAgICB0aGlzLmludlByTWF0cml4LnRyYW5zcG9zZSgpOwogICAgfTsK"></script>
<script src="data:application/javascript;base64,ICAgIC8qKgogICAgICogTWV0aG9kcyByZWxhdGVkIHRvIG1vdXNlIGhhbmRsaW5nCiAgICAgKiBAbmFtZSBfX19NRVRIT0RTX0ZPUl9NT1VTRV9IQU5ETElOR19fXwogICAgICogQG1lbWJlcm9mIHJnbHdpZGdldENsYXNzCiAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICogQGluc3RhbmNlCiAgICAgKi8KICAgICAKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5nZXRDdXJzb3IgPSBmdW5jdGlvbihtb2RlKSB7CiAgICAgIHN3aXRjaChtb2RlKSB7CiAgICAgICAgY2FzZSAibm9uZSI6IAogICAgICAgICAgcmV0dXJuICJub25lIjsKICAgICAgICBjYXNlICJ0cmFja2JhbGwiOgogICAgICAgIGNhc2UgInhBeGlzIjoKICAgICAgICBjYXNlICJ5QXhpcyI6CiAgICAgICAgY2FzZSAiekF4aXMiOgogICAgICAgIGNhc2UgInBvbGFyIjoKICAgICAgICAgIHJldHVybiAiZ3JhYiI7CiAgICAgICAgY2FzZSAic2VsZWN0aW5nIjoKICAgICAgICAgIHJldHVybiAiY3Jvc3NoYWlyIjsKICAgICAgICBjYXNlICJmb3YiOgogICAgICAgIGNhc2UgInpvb20iOgogICAgICAgICAgcmV0dXJuICJ6b29tLWluIjsKICAgICAgICBjYXNlICJ1c2VyIjoKICAgICAgICAgIHJldHVybiAiZGVmYXVsdCI7CiAgICAgIH0KICAgICAgcmV0dXJuICJkcmFnZ2luZyI7CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIFNldCBtb3VzZSBtb2RlIGZvciBhIHN1YnNjZW5lCiAgICAgKiBAcGFyYW0geyBzdHJpbmcgfSBtb2RlIC0gbmFtZSBvZiBtb2RlCiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBidXR0b24gLSBidXR0b24gbnVtYmVyICgwIHRvIDQpCiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBzdWJzY2VuZSAtIHN1YnNjZW5lIGlkIG51bWJlcgogICAgICogQHBhcmFtIHsgbnVtYmVyIH0gc3RheUFjdGl2ZSAtIGlmIHRydXRoeSwgZG9uJ3QgY2xlYXIgYnJ1c2gKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnNldE1vdXNlTW9kZSA9IGZ1bmN0aW9uKG1vZGUsIGJ1dHRvbiwgc3Vic2NlbmUsIHN0YXlBY3RpdmUpIHsKICAgICAgdmFyIHN1YiA9IHRoaXMuZ2V0T2JqKHN1YnNjZW5lKSwKICAgICAgICAgIHdoaWNoID0gWyJub25lIiwgImxlZnQiLCAicmlnaHQiLCAibWlkZGxlIiwgIndoZWVsIl1bYnV0dG9uXTsKICAgICAgaWYgKCFzdGF5QWN0aXZlICYmIHN1Yi5wYXIzZC5tb3VzZU1vZGVbd2hpY2hdID09PSAic2VsZWN0aW5nIikKICAgICAgICB0aGlzLmNsZWFyQnJ1c2gobnVsbCk7CiAgICAgIHN1Yi5wYXIzZC5tb3VzZU1vZGVbd2hpY2hdID0gbW9kZTsKICAgICAgaWYgKGJ1dHRvbiA9PT0gMSB8fCAoYnV0dG9uID09PSAwICYmIG1vZGUgIT09ICJub25lIikpCiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yID0gdGhpcy5nZXRDdXJzb3IobW9kZSk7CiAgICAgIGlmIChidXR0b24gPT09IDAgJiYgbW9kZSAhPT0gIm5vbmUiKQogICAgICAgIHN1Yi5uZWVkc0JlZ2luID0gbW9kZTsKICAgIH07CgogICAgLyoqCiAgICAgKiBDb21wdXRlIG1vdXNlIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIGN1cnJlbnQgY2FudmFzCiAgICAgKiBAcmV0dXJucyB7IE9iamVjdCB9CiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBldmVudCAtIGV2ZW50IG9iamVjdCBmcm9tIG1vdXNlIGNsaWNrCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5yZWxNb3VzZUNvb3JkcyA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIHZhciByZWN0ID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHJldHVybiB7eDpldmVudC5jbGllbnRYLXJlY3QubGVmdCwgeTpldmVudC5jbGllbnRZLXJlY3QudG9wfTsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogU2VuZCBtb3VzZSBzZWxlY3Rpb24gdG8gU2hpbnkKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnJlY29yZFNlbGVjdGlvbiA9IGZ1bmN0aW9uKHN1YmlkKSB7CiAgICAgIHZhciByZXN1bHQgPSB7fTsKICAgICAgaWYgKHR5cGVvZiB0aGlzLnNlbGVjdCAhPT0gInVuZGVmaW5lZCIgJiYgCiAgICAgICAgICB0eXBlb2YgdGhpcy5zZWxlY3Quc3RhdGUgIT09ICJ1bmRlZmluZWQiICYmCiAgICAgICAgICB0aGlzLnNlbGVjdC5zdGF0ZSAhPT0gImluYWN0aXZlIikgewogICAgICAgIHJlc3VsdCA9IHsgc3Vic2NlbmU6IHN1YmlkLAogICAgICAgICAgICAgICAgICAgc3RhdGU6IHRoaXMuc2VsZWN0LnN0YXRlLAogICAgICAgICAgICAgICAgICAgcmVnaW9uOiB0aGlzLnNlbGVjdC5yZWdpb24KICAgICAgICAgICAgICAgICB9OwogICAgICAgIHRoaXMuc2V0bXZNYXRyaXgoc3ViaWQpOwogICAgICAgIHJlc3VsdC5tb2RlbCA9IHRoaXMubXZNYXRyaXg7CiAgICAgICAgdGhpcy5zZXRwck1hdHJpeChzdWJpZCk7CiAgICAgICAgcmVzdWx0LnByb2ogPSB0aGlzLnByTWF0cml4OwogICAgICAgIHRoaXMuZ2V0Vmlld3BvcnQoc3ViaWQpOwogICAgICAgIHJlc3VsdC52aWV3ID0gdGhpcy52cDsKICAgICAgfSBlbHNlCiAgICAgICAgcmVzdWx0LnN0YXRlID0gImluYWN0aXZlIjsKICAgICAgU2hpbnkuc2V0SW5wdXRWYWx1ZSh0aGlzLnNjZW5lLnNlbGVjdGlvbklucHV0ICsgIjpzaGlueU1vdXNlM2QiLCByZXN1bHQpOwogICAgfTsgCgogICAgLyoqCiAgICAgKiBTZXQgbW91c2UgaGFuZGxlcnMgZm9yIHRoZSBzY2VuZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuc2V0TW91c2VIYW5kbGVycyA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXMsIGFjdGl2ZVN1YnNjZW5lLCBoYW5kbGVyLAogICAgICAgICAgaGFuZGxlcnMgPSB7fSwgZHJhZyA9IDA7CgogICAgICBoYW5kbGVycy5yb3RCYXNlID0gMDsKCiAgICAgIHNlbGYuc2NyZWVuVG9WZWN0b3IgPSBmdW5jdGlvbih4LCB5KSB7CiAgICAgICAgdmFyIHZpZXdwb3J0ID0gc2VsZi5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLnBhcjNkLnZpZXdwb3J0LAogICAgICAgICAgd2lkdGggPSB2aWV3cG9ydC53aWR0aCpzZWxmLmNhbnZhcy53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IHZpZXdwb3J0LmhlaWdodCpzZWxmLmNhbnZhcy5oZWlnaHQsCiAgICAgICAgICByYWRpdXMgPSBNYXRoLm1heCh3aWR0aCwgaGVpZ2h0KS8yLjAsCiAgICAgICAgICBjeCA9IHdpZHRoLzIuMCwKICAgICAgICAgIGN5ID0gaGVpZ2h0LzIuMCwKICAgICAgICAgIHB4ID0gKHgtY3gpL3JhZGl1cywKICAgICAgICAgIHB5ID0gKHktY3kpL3JhZGl1cywKICAgICAgICAgIHBsZW4gPSBNYXRoLnNxcnQocHgqcHgrcHkqcHkpOwogICAgICAgIGlmIChwbGVuID4gMS5lLTYpIHsKICAgICAgICAgIHB4ID0gcHgvcGxlbjsKICAgICAgICAgIHB5ID0gcHkvcGxlbjsKICAgICAgICB9CiAgICAgICAgdmFyIGFuZ2xlID0gKE1hdGguU1FSVDIgLSBwbGVuKS9NYXRoLlNRUlQyKk1hdGguUEkvMiwKICAgICAgICAgIHogPSBNYXRoLnNpbihhbmdsZSksCiAgICAgICAgICB6bGVuID0gTWF0aC5zcXJ0KDEuMCAtIHoqeik7CiAgICAgICAgcHggPSBweCAqIHpsZW47CiAgICAgICAgcHkgPSBweSAqIHpsZW47CiAgICAgICAgcmV0dXJuIFtweCwgcHksIHpdOwogICAgICB9OwoKICAgICAgaGFuZGxlcnMudHJhY2tiYWxsZG93biA9IGZ1bmN0aW9uKHgseSkgewogICAgICAgIHZhciBhY3RpdmVTdWIgPSBzZWxmLmdldE9iaihhY3RpdmVTdWJzY2VuZSksCiAgICAgICAgICAgIGFjdGl2ZU1vZGVsID0gc2VsZi5nZXRPYmooc2VsZi51c2VpZChhY3RpdmVTdWIuaWQsICJtb2RlbCIpKSwKICAgICAgICAgICAgaSwgbCA9IGFjdGl2ZU1vZGVsLnBhcjNkLmxpc3RlbmVyczsKICAgICAgICBoYW5kbGVycy5yb3RCYXNlID0gc2VsZi5zY3JlZW5Ub1ZlY3Rvcih4LCB5KTsKICAgICAgICBzZWxmLnNhdmVNYXQgPSBbXTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgYWN0aXZlU3ViID0gc2VsZi5nZXRPYmoobFtpXSk7CiAgICAgICAgICBhY3RpdmVTdWIuc2F2ZU1hdCA9IG5ldyBDYW52YXNNYXRyaXg0KGFjdGl2ZVN1Yi5wYXIzZC51c2VyTWF0cml4KTsKICAgICAgICB9CiAgICAgICAgc2VsZi5jYW52YXMuc3R5bGUuY3Vyc29yID0gImdyYWJiaW5nIjsKICAgICAgfTsKCiAgICAgIGhhbmRsZXJzLnRyYWNrYmFsbG1vdmUgPSBmdW5jdGlvbih4LHkpIHsKICAgICAgICB2YXIgcm90Q3VycmVudCA9IHNlbGYuc2NyZWVuVG9WZWN0b3IoeCx5KSwKICAgICAgICAgICAgcm90QmFzZSA9IGhhbmRsZXJzLnJvdEJhc2UsCiAgICAgICAgICAgIGRvdCA9IHJvdEJhc2VbMF0qcm90Q3VycmVudFswXSArCiAgICAgICAgICAgICAgICAgIHJvdEJhc2VbMV0qcm90Q3VycmVudFsxXSArCiAgICAgICAgICAgICAgICAgIHJvdEJhc2VbMl0qcm90Q3VycmVudFsyXSwKICAgICAgICAgICAgYW5nbGUgPSBNYXRoLmFjb3MoIGRvdC9zZWxmLnZsZW4ocm90QmFzZSkvc2VsZi52bGVuKHJvdEN1cnJlbnQpICkqMTgwLjAvTWF0aC5QSSwKICAgICAgICAgICAgYXhpcyA9IHNlbGYueHByb2Qocm90QmFzZSwgcm90Q3VycmVudCksCiAgICAgICAgICAgIG9iamVjdHMgPSBzZWxmLnNjZW5lLm9iamVjdHMsCiAgICAgICAgICAgIGFjdGl2ZVN1YiA9IHNlbGYuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKICAgICAgICAgICAgYWN0aXZlTW9kZWwgPSBzZWxmLmdldE9iaihzZWxmLnVzZWlkKGFjdGl2ZVN1Yi5pZCwgIm1vZGVsIikpLAogICAgICAgICAgICBsID0gYWN0aXZlTW9kZWwucGFyM2QubGlzdGVuZXJzLAogICAgICAgICAgICBpOwogICAgICAgIGlmIChhbmdsZSA9PT0gMC4wKQogICAgICAgICAgcmV0dXJuOyAgICAKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgYWN0aXZlU3ViID0gc2VsZi5nZXRPYmoobFtpXSk7CiAgICAgICAgICBhY3RpdmVTdWIucGFyM2QudXNlck1hdHJpeC5sb2FkKG9iamVjdHNbbFtpXV0uc2F2ZU1hdCk7CiAgICAgICAgICBhY3RpdmVTdWIucGFyM2QudXNlck1hdHJpeC5yb3RhdGUoYW5nbGUsIGF4aXNbMF0sIGF4aXNbMV0sIGF4aXNbMl0pOwogICAgICAgIH0KICAgICAgICBzZWxmLmRyYXdTY2VuZSgpOwogICAgICB9OwogICAgICBoYW5kbGVycy50cmFja2JhbGxlbmQgPSAwOwoKICAgICAgc2VsZi5jbGFtcCA9IGZ1bmN0aW9uKHgsIGxvLCBoaSkgewogICAgICAJcmV0dXJuIE1hdGgubWF4KGxvLCBNYXRoLm1pbih4LCBoaSkpOwogICAgICB9OwoKICAgICAgc2VsZi5zY3JlZW5Ub1BvbGFyID0gZnVuY3Rpb24oeCx5KSB7CiAgICAgICAgdmFyIHZpZXdwb3J0ID0gc2VsZi5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLnBhcjNkLnZpZXdwb3J0LAogICAgICAgICAgd2lkdGggPSB2aWV3cG9ydC53aWR0aCpzZWxmLmNhbnZhcy53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IHZpZXdwb3J0LmhlaWdodCpzZWxmLmNhbnZhcy5oZWlnaHQsCiAgICAJICByID0gTWF0aC5taW4od2lkdGgsIGhlaWdodCkvMiwKICAgIAkgIGR4ID0gc2VsZi5jbGFtcCh4IC0gd2lkdGgvMiwgLXIsIHIpLAogICAgCSAgZHkgPSBzZWxmLmNsYW1wKHkgLSBoZWlnaHQvMiwgLXIsIHIpOwogICAgCSAgcmV0dXJuIFtNYXRoLmFzaW4oZHgvciksIE1hdGguYXNpbigtZHkvcildOwogICAgICB9OwoKICAgICAgaGFuZGxlcnMucG9sYXJkb3duID0gZnVuY3Rpb24oeCx5KSB7CiAgICAgICAgdmFyIGFjdGl2ZVN1YiA9IHNlbGYuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKICAgICAgICAgICAgYWN0aXZlTW9kZWwgPSBzZWxmLmdldE9iaihzZWxmLnVzZWlkKGFjdGl2ZVN1Yi5pZCwgIm1vZGVsIikpLAogICAgICAgICAgICBpLCBsID0gYWN0aXZlTW9kZWwucGFyM2QubGlzdGVuZXJzOwogICAgICAgIGhhbmRsZXJzLmRyYWdCYXNlID0gc2VsZi5zY3JlZW5Ub1BvbGFyKHgsIHkpOwogICAgICAgIHNlbGYuc2F2ZU1hdCA9IFtdOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBhY3RpdmVTdWIgPSBzZWxmLmdldE9iaihsW2ldKTsKICAgICAgICAgIGFjdGl2ZVN1Yi5zYXZlTWF0ID0gbmV3IENhbnZhc01hdHJpeDQoYWN0aXZlU3ViLnBhcjNkLnVzZXJNYXRyaXgpOwogICAgICAgICAgYWN0aXZlU3ViLmNhbUJhc2UgPSBbLU1hdGguYXRhbjIoYWN0aXZlU3ViLnNhdmVNYXQubTEzLCBhY3RpdmVTdWIuc2F2ZU1hdC5tMTEpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hdGFuMihhY3RpdmVTdWIuc2F2ZU1hdC5tMzIsIGFjdGl2ZVN1Yi5zYXZlTWF0Lm0yMildOwogICAgICAgIH0KICAgICAgICBzZWxmLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAiZ3JhYmJpbmciOwogICAgICB9OwoKICAgICAgaGFuZGxlcnMucG9sYXJtb3ZlID0gZnVuY3Rpb24oeCx5KSB7CiAgICAgICAgdmFyIGRyYWdDdXJyZW50ID0gc2VsZi5zY3JlZW5Ub1BvbGFyKHgseSksCiAgICAgICAgICAgIGFjdGl2ZVN1YiA9IHNlbGYuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKICAgICAgICAgICAgYWN0aXZlTW9kZWwgPSBzZWxmLmdldE9iaihzZWxmLnVzZWlkKGFjdGl2ZVN1Yi5pZCwgIm1vZGVsIikpLAogICAgICAgICAgICBvYmplY3RzID0gc2VsZi5zY2VuZS5vYmplY3RzLAogICAgICAgICAgICBsID0gYWN0aXZlTW9kZWwucGFyM2QubGlzdGVuZXJzLAogICAgICAgICAgICBpLCBqLCBjaGFuZ2Vwb3MgPSBbXTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgYWN0aXZlU3ViID0gc2VsZi5nZXRPYmoobFtpXSk7CiAgICAgICAgICBmb3IgKGo9MDsgajwyOyBqKyspCiAgICAgICAgICAgIGNoYW5nZXBvc1tqXSA9IC0oZHJhZ0N1cnJlbnRbal0gLSBoYW5kbGVycy5kcmFnQmFzZVtqXSk7CiAgICAgICAgICBhY3RpdmVTdWIucGFyM2QudXNlck1hdHJpeC5tYWtlSWRlbnRpdHkoKTsKICAgICAgICAgIGFjdGl2ZVN1Yi5wYXIzZC51c2VyTWF0cml4LnJvdGF0ZShjaGFuZ2Vwb3NbMF0qMTgwL01hdGguUEksIDAsLTEsMCk7CiAgICAgICAgICBhY3RpdmVTdWIucGFyM2QudXNlck1hdHJpeC5tdWx0UmlnaHQob2JqZWN0c1tsW2ldXS5zYXZlTWF0KTsKICAgICAgICAgIGFjdGl2ZVN1Yi5wYXIzZC51c2VyTWF0cml4LnJvdGF0ZShjaGFuZ2Vwb3NbMV0qMTgwL01hdGguUEksIC0xLDAsMCk7CiAgICAgICAgfQogICAgICAgIHNlbGYuZHJhd1NjZW5lKCk7CiAgICAgIH07CiAgICAgIGhhbmRsZXJzLnBvbGFyZW5kID0gMDsKCiAgICAgIGhhbmRsZXJzLmF4aXNkb3duID0gZnVuY3Rpb24oeCkgewogICAgICAgIGhhbmRsZXJzLnJvdEJhc2UgPSBzZWxmLnNjcmVlblRvVmVjdG9yKHgsIHNlbGYuY2FudmFzLmhlaWdodC8yKTsKICAgICAgICB2YXIgYWN0aXZlU3ViID0gc2VsZi5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLAogICAgICAgICAgICBhY3RpdmVNb2RlbCA9IHNlbGYuZ2V0T2JqKHNlbGYudXNlaWQoYWN0aXZlU3ViLmlkLCAibW9kZWwiKSksCiAgICAgICAgICAgIGksIGwgPSBhY3RpdmVNb2RlbC5wYXIzZC5saXN0ZW5lcnM7CiAgICAgICAgZm9yIChpID0gMDsgaSA8IGwubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGFjdGl2ZVN1YiA9IHNlbGYuZ2V0T2JqKGxbaV0pOwogICAgICAgICAgYWN0aXZlU3ViLnNhdmVNYXQgPSBuZXcgQ2FudmFzTWF0cml4NChhY3RpdmVTdWIucGFyM2QudXNlck1hdHJpeCk7CiAgICAgICAgfQogICAgICAgIHNlbGYuY2FudmFzLnN0eWxlLmN1cnNvciA9ICJncmFiYmluZyI7CiAgICAgIH07CgogICAgICBoYW5kbGVycy5heGlzbW92ZSA9IGZ1bmN0aW9uKHgpIHsKICAgICAgICB2YXIgcm90Q3VycmVudCA9IHNlbGYuc2NyZWVuVG9WZWN0b3IoeCwgc2VsZi5jYW52YXMuaGVpZ2h0LzIpLAogICAgICAgICAgICByb3RCYXNlID0gaGFuZGxlcnMucm90QmFzZSwKICAgICAgICAgICAgYW5nbGUgPSAocm90Q3VycmVudFswXSAtIHJvdEJhc2VbMF0pKjE4MC9NYXRoLlBJLAogICAgICAgICAgICByb3RNYXQgPSBuZXcgQ2FudmFzTWF0cml4NCgpOwogICAgICAgIHJvdE1hdC5yb3RhdGUoYW5nbGUsIGhhbmRsZXJzLmF4aXNbMF0sIGhhbmRsZXJzLmF4aXNbMV0sIGhhbmRsZXJzLmF4aXNbMl0pOwogICAgICAgIHZhciBhY3RpdmVTdWIgPSBzZWxmLmdldE9iaihhY3RpdmVTdWJzY2VuZSksCiAgICAgICAgICAgIGFjdGl2ZU1vZGVsID0gc2VsZi5nZXRPYmooc2VsZi51c2VpZChhY3RpdmVTdWIuaWQsICJtb2RlbCIpKSwKICAgICAgICAgICAgaSwgbCA9IGFjdGl2ZU1vZGVsLnBhcjNkLmxpc3RlbmVyczsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgYWN0aXZlU3ViID0gc2VsZi5nZXRPYmoobFtpXSk7CiAgICAgICAgICBhY3RpdmVTdWIucGFyM2QudXNlck1hdHJpeC5sb2FkKGFjdGl2ZVN1Yi5zYXZlTWF0KTsKICAgICAgICAgIGFjdGl2ZVN1Yi5wYXIzZC51c2VyTWF0cml4Lm11bHRMZWZ0KHJvdE1hdCk7CiAgICAgICAgfQogICAgICAgIHNlbGYuZHJhd1NjZW5lKCk7CiAgICAgIH07CiAgICAgIGhhbmRsZXJzLmF4aXNlbmQgPSAwOwoKICAgICAgaGFuZGxlcnMueTB6b29tID0gMDsKICAgICAgaGFuZGxlcnMuem9vbWRvd24gPSBmdW5jdGlvbih4LCB5KSB7CiAgICAgICAgdmFyIGFjdGl2ZVN1YiA9IHNlbGYuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKICAgICAgICAgIGFjdGl2ZVByb2plY3Rpb24gPSBzZWxmLmdldE9iaihzZWxmLnVzZWlkKGFjdGl2ZVN1Yi5pZCwgInByb2plY3Rpb24iKSksCiAgICAgICAgICBpLCBsID0gYWN0aXZlUHJvamVjdGlvbi5wYXIzZC5saXN0ZW5lcnM7CiAgICAgICAgaGFuZGxlcnMueTB6b29tID0geTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgYWN0aXZlU3ViID0gc2VsZi5nZXRPYmoobFtpXSk7CiAgICAgICAgICBhY3RpdmVTdWIuem9vbTAgPSBNYXRoLmxvZyhhY3RpdmVTdWIucGFyM2Quem9vbSk7CiAgICAgICAgfQogICAgICAgIHNlbGYuY2FudmFzLnN0eWxlLmN1cnNvciA9ICJ6b29tLWluIjsKICAgICAgfTsKICAgICAgaGFuZGxlcnMuem9vbW1vdmUgPSBmdW5jdGlvbih4LCB5KSB7CiAgICAgICAgdmFyIGFjdGl2ZVN1YiA9IHNlbGYuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKICAgICAgICAgICAgYWN0aXZlUHJvamVjdGlvbiA9IHNlbGYuZ2V0T2JqKHNlbGYudXNlaWQoYWN0aXZlU3ViLmlkLCAicHJvamVjdGlvbiIpKSwKICAgICAgICAgICAgaSwgbCA9IGFjdGl2ZVByb2plY3Rpb24ucGFyM2QubGlzdGVuZXJzOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBhY3RpdmVTdWIgPSBzZWxmLmdldE9iaihsW2ldKTsKICAgICAgICAgIGFjdGl2ZVN1Yi5wYXIzZC56b29tID0gTWF0aC5leHAoYWN0aXZlU3ViLnpvb20wICsgKHktaGFuZGxlcnMueTB6b29tKS9zZWxmLmNhbnZhcy5oZWlnaHQpOwogICAgICAgIH0KICAgICAgICBzZWxmLmRyYXdTY2VuZSgpOwogICAgICB9OwogICAgICBoYW5kbGVycy56b29tZW5kID0gMDsKCiAgICAgIGhhbmRsZXJzLnkwZm92ID0gMDsKICAgICAgaGFuZGxlcnMuZm92ZG93biA9IGZ1bmN0aW9uKHgsIHkpIHsKICAgICAgICBoYW5kbGVycy55MGZvdiA9IHk7CiAgICAgICAgdmFyIGFjdGl2ZVN1YiA9IHNlbGYuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKICAgICAgICAgIGFjdGl2ZVByb2plY3Rpb24gPSBzZWxmLmdldE9iaihzZWxmLnVzZWlkKGFjdGl2ZVN1Yi5pZCwgInByb2plY3Rpb24iKSksCiAgICAgICAgICBpLCBsID0gYWN0aXZlUHJvamVjdGlvbi5wYXIzZC5saXN0ZW5lcnM7CiAgICAgICAgZm9yIChpID0gMDsgaSA8IGwubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGFjdGl2ZVN1YiA9IHNlbGYuZ2V0T2JqKGxbaV0pOwogICAgICAgICAgYWN0aXZlU3ViLmZvdjAgPSBhY3RpdmVTdWIucGFyM2QuRk9WOwogICAgICAgIH0KICAgICAgICBzZWxmLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAiem9vbS1pbiI7CiAgICAgIH07CiAgICAgIGhhbmRsZXJzLmZvdm1vdmUgPSBmdW5jdGlvbih4LCB5KSB7CiAgICAgICAgdmFyIGFjdGl2ZVN1YiA9IHNlbGYuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKICAgICAgICAgICAgYWN0aXZlUHJvamVjdGlvbiA9IHNlbGYuZ2V0T2JqKHNlbGYudXNlaWQoYWN0aXZlU3ViLmlkLCAicHJvamVjdGlvbiIpKSwKICAgICAgICAgICAgaSwgbCA9IGFjdGl2ZVByb2plY3Rpb24ucGFyM2QubGlzdGVuZXJzOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBhY3RpdmVTdWIgPSBzZWxmLmdldE9iaihsW2ldKTsKICAgICAgICAgIGFjdGl2ZVN1Yi5wYXIzZC5GT1YgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigxNzksIGFjdGl2ZVN1Yi5mb3YwICsKICAgICAgICAgICAgIDE4MCooeS1oYW5kbGVycy55MGZvdikvc2VsZi5jYW52YXMuaGVpZ2h0KSk7CiAgICAgICAgfQogICAgICAgIHNlbGYuZHJhd1NjZW5lKCk7CiAgICAgIH07CiAgICAgIGhhbmRsZXJzLmZvdmVuZCA9IDA7CiAgICAgIAogICAgICBoYW5kbGVycy5zZWxlY3Rpbmdkb3duID0gZnVuY3Rpb24oeCwgeSkgewogICAgICAJdmFyIHZpZXdwb3J0ID0gc2VsZi5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLnBhcjNkLnZpZXdwb3J0LAogICAgICAJICB3aWR0aCA9IHZpZXdwb3J0LndpZHRoKnNlbGYuY2FudmFzLndpZHRoLAogICAgICAJICBoZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQqc2VsZi5jYW52YXMuaGVpZ2h0LCAKICAgICAgICAgIHAgPSB7eDogMi4wKngvd2lkdGggLSAxLjAsIHk6IDIuMCp5L2hlaWdodCAtIDEuMH07CiAgICAgIAlzZWxmLnNlbGVjdC5yZWdpb24gPSB7cDE6IHAsIHAyOiBwfTsKICAgICAgCWlmIChzZWxmLnNlbGVjdC5zdWJzY2VuZSAmJiBzZWxmLnNlbGVjdC5zdWJzY2VuZSAhPT0gYWN0aXZlU3Vic2NlbmUpCiAgICAgIAkgIHNlbGYuZGVsRnJvbVN1YnNjZW5lKHNlbGYuc2NlbmUuYnJ1c2hJZCwgc2VsZi5zZWxlY3Quc3Vic2NlbmUpOwogICAgICAJc2VsZi5zZWxlY3Quc3Vic2NlbmUgPSBhY3RpdmVTdWJzY2VuZTsKICAgICAgCXNlbGYuYWRkVG9TdWJzY2VuZShzZWxmLnNjZW5lLmJydXNoSWQsIGFjdGl2ZVN1YnNjZW5lKTsKICAgICAgCXNlbGYuc2VsZWN0LnN0YXRlID0gImNoYW5naW5nIjsKICAgICAgCWlmICh0eXBlb2Ygc2VsZi5zY2VuZS5icnVzaElkICE9PSAidW5kZWZpbmVkIikKICAgICAgCSAgc2VsZi5nZXRPYmooc2VsZi5zY2VuZS5icnVzaElkKS5pbml0aWFsaXplZCA9IGZhbHNlOwogICAgICAJaWYgKHR5cGVvZiBzZWxmLnNjZW5lLnNlbGVjdGlvbklucHV0ICE9PSAidW5kZWZpbmVkIikKICAgICAgCSAgc2VsZi5yZWNvcmRTZWxlY3Rpb24oYWN0aXZlU3Vic2NlbmUpOyAKICAgICAgCXNlbGYuZHJhd1NjZW5lKCk7CiAgICAgIAlzZWxmLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAiY3Jvc3NoYWlyIjsKICAgICAgfTsKICAgICAgCiAgICAgIGhhbmRsZXJzLnNlbGVjdGluZ21vdmUgPSBmdW5jdGlvbih4LCB5KSB7CiAgICAgIAl2YXIgdmlld3BvcnQgPSBzZWxmLmdldE9iaihhY3RpdmVTdWJzY2VuZSkucGFyM2Qudmlld3BvcnQsCiAgICAgIAkgIHdpZHRoID0gdmlld3BvcnQud2lkdGgqc2VsZi5jYW52YXMud2lkdGgsCiAgICAgIAkgIGhlaWdodCA9IHZpZXdwb3J0LmhlaWdodCpzZWxmLmNhbnZhcy5oZWlnaHQ7CiAgICAgIAlpZiAoc2VsZi5zZWxlY3Quc3RhdGUgPT09ICJpbmFjdGl2ZSIpIAogICAgICAJICByZXR1cm47CiAgICAgIAlzZWxmLnNlbGVjdC5yZWdpb24ucDIgPSB7eDogMi4wKngvd2lkdGggLSAxLjAsIHk6IDIuMCp5L2hlaWdodCAtIDEuMH07CiAgICAgIAlpZiAodHlwZW9mIHNlbGYuc2NlbmUuYnJ1c2hJZCAhPT0gInVuZGVmaW5lZCIpCiAgICAgIAkgIHNlbGYuZ2V0T2JqKHNlbGYuc2NlbmUuYnJ1c2hJZCkuaW5pdGlhbGl6ZWQgPSBmYWxzZTsKICAgICAgCWlmICh0eXBlb2Ygc2VsZi5zY2VuZS5zZWxlY3Rpb25JbnB1dCAhPT0gInVuZGVmaW5lZCIpCiAgICAgIAkgIHNlbGYucmVjb3JkU2VsZWN0aW9uKGFjdGl2ZVN1YnNjZW5lKTsKICAgICAgCXNlbGYuZHJhd1NjZW5lKCk7CiAgICAgIH07CiAgICAgIAogICAgICBoYW5kbGVycy5zZWxlY3RpbmdlbmQgPSAwOwogICAgICAvKiBqc2hpbnQgZXZpbDp0cnVlICovCiAgICAgIGhhbmRsZXJzLnVzZXJkb3duID0gZnVuY3Rpb24oeCwgeSkgewogICAgICAgIHZhciBzdWIgPSBzZWxmLmdldE9iaihhY3RpdmVTdWJzY2VuZSksCiAgICAgICAgICAgIGNvZGUgPSBzdWIuY2FsbGJhY2tzW2RyYWddLmJlZ2luOwogICAgICAgIGlmIChjb2RlKSB7CiAgICAgICAgICB2YXIgZm4gPSBGdW5jdGlvbignInVzZSBzdHJpY3QiO3JldHVybiAoJyArIGNvZGUgKyAnKScpKCk7CiAgICAgICAgICBmbi5jYWxsKHNlbGYsIHgsIHkpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgCiAgICAgIGhhbmRsZXJzLnVzZXJtb3ZlID0gZnVuY3Rpb24oeCwgeSkgewogICAgICAgIHZhciBzdWIgPSBzZWxmLmdldE9iaihhY3RpdmVTdWJzY2VuZSksCiAgICAgICAgICAgIGNvZGUgPSBzdWIuY2FsbGJhY2tzW2RyYWddLnVwZGF0ZTsKICAgICAgICBpZiAoY29kZSkgewogICAgICAgICAgdmFyIGZuID0gRnVuY3Rpb24oJyJ1c2Ugc3RyaWN0IjtyZXR1cm4gKCcgKyBjb2RlICsgJyknKSgpOwogICAgICAgICAgZm4uY2FsbChzZWxmLCB4LCB5KTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIAogICAgICBoYW5kbGVycy51c2VyZW5kID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIHN1YiA9IHNlbGYuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKICAgICAgICAgICAgY29kZSA9IHN1Yi5jYWxsYmFja3NbZHJhZ10uZW5kOwogICAgICAgIGlmIChjb2RlKSB7CiAgICAgICAgICB2YXIgZm4gPSBGdW5jdGlvbignInVzZSBzdHJpY3QiO3JldHVybiAoJyArIGNvZGUgKyAnKScpKCk7CiAgICAgICAgICBmbi5jYWxsKHNlbGYpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHNlbGYuY2FudmFzLm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKCBldiApewogICAgICAgIGlmICghZXYud2hpY2gpIC8vIFVzZSB3M2MgZGVmbnMgaW4gcHJlZmVyZW5jZSB0byBNUwogICAgICAgIHN3aXRjaCAoZXYuYnV0dG9uKSB7CiAgICAgICAgICBjYXNlIDA6IGV2LndoaWNoID0gMTsgYnJlYWs7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYXNlIDQ6IGV2LndoaWNoID0gMjsgYnJlYWs7CiAgICAgICAgICBjYXNlIDI6IGV2LndoaWNoID0gMzsKICAgICAgICB9CiAgICAgICAgZHJhZyA9IFsibm9uZSIsICJsZWZ0IiwgIm1pZGRsZSIsICJyaWdodCIsICJ3aGVlbCJdW2V2LndoaWNoXTsKICAgICAgICB2YXIgY29vcmRzID0gc2VsZi5yZWxNb3VzZUNvb3Jkcyhldik7CiAgICAgICAgY29vcmRzLnkgPSBzZWxmLmNhbnZhcy5oZWlnaHQtY29vcmRzLnk7CiAgICAgICAgYWN0aXZlU3Vic2NlbmUgPSBzZWxmLndoaWNoU3Vic2NlbmUoY29vcmRzKTsKICAgICAgICB2YXIgc3ViID0gc2VsZi5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLCBmOwogICAgICAgIGhhbmRsZXIgPSBzdWIucGFyM2QubW91c2VNb2RlW2RyYWddOwogICAgICAgIHN3aXRjaCAoaGFuZGxlcikgewogICAgICAgIGNhc2UgInhBeGlzIjoKICAgICAgICAgIGhhbmRsZXIgPSAiYXhpcyI7CiAgICAgICAgICBoYW5kbGVycy5heGlzID0gWzEuMCwgMC4wLCAwLjBdOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAieUF4aXMiOgogICAgICAgICAgaGFuZGxlciA9ICJheGlzIjsKICAgICAgICAgIGhhbmRsZXJzLmF4aXMgPSBbMC4wLCAxLjAsIDAuMF07CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJ6QXhpcyI6CiAgICAgICAgICBoYW5kbGVyID0gImF4aXMiOwogICAgICAgICAgaGFuZGxlcnMuYXhpcyA9IFswLjAsIDAuMCwgMS4wXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBmID0gaGFuZGxlcnNbaGFuZGxlciArICJkb3duIl07CiAgICAgICAgaWYgKGYpIHsKICAgICAgICAgIGNvb3JkcyA9IHNlbGYudHJhbnNsYXRlQ29vcmRzKGFjdGl2ZVN1YnNjZW5lLCBjb29yZHMpOwogICAgICAgICAgZi5jYWxsKHNlbGYsIGNvb3Jkcy54LCBjb29yZHMueSk7CiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0gZWxzZQogICAgICAgICAgY29uc29sZS53YXJuKCJNb3VzZSBoYW5kbGVyICciICsgaGFuZGxlciArICInIGlzIG5vdCBpbXBsZW1lbnRlZC4iKTsKCiAgICAgIH07CgogICAgICBzZWxmLmNhbnZhcy5vbm1vdXNldXAgPSBmdW5jdGlvbiAoIGV2ICl7CiAgICAgICAgaWYgKCAhZHJhZyApIHJldHVybjsKICAgICAgICB2YXIgZiA9IGhhbmRsZXJzW2hhbmRsZXIgKyAiZW5kIl07CiAgICAgICAgaWYgKGYpIHsKICAgICAgICAgIGYuY2FsbChzZWxmKTsKICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfQogICAgICAgIGRyYWcgPSAwOwogICAgICAgIGhhbmRsZXJzLm9ubW91c2Vtb3ZlKCBldiApOwogICAgICB9OwoKICAgICAgc2VsZi5jYW52YXMub25tb3VzZW91dCA9IHNlbGYuY2FudmFzLm9ubW91c2V1cDsKCiAgICAgIGhhbmRsZXJzLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24gKCBldiApIHsKICAgICAgICB2YXIgY29vcmRzID0gc2VsZi5yZWxNb3VzZUNvb3JkcyhldiksIHN1YiwgZjsKICAgICAgICBjb29yZHMueSA9IHNlbGYuY2FudmFzLmhlaWdodCAtIGNvb3Jkcy55OwogICAgICAgIGlmIChldi5idXR0b25zID09PSAwKSB7CiAgICAgICAgICBhY3RpdmVTdWJzY2VuZSA9IHNlbGYud2hpY2hTdWJzY2VuZShjb29yZHMpOwogICAgICAgICAgZHJhZyA9ICJub25lIjsKICAgICAgICAgIHN1YiA9IHNlbGYuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKTsKICAgICAgICAgIGhhbmRsZXIgPSBzdWIucGFyM2QubW91c2VNb2RlLm5vbmU7CiAgICAgICAgICBpZiAoaGFuZGxlciAhPT0gIm5vbmUiKSB7CiAgICAgICAgICAgIGlmIChzdWIubmVlZHNCZWdpbikgewogICAgICAgICAgICAgIGYgPSBoYW5kbGVyc1toYW5kbGVyICsgImRvd24iXTsKICAgICAgICAgICAgICBpZiAoZikgewogICAgICAgICAgICAgICAgY29vcmRzID0gc2VsZi50cmFuc2xhdGVDb29yZHMoYWN0aXZlU3Vic2NlbmUsIGNvb3Jkcyk7CiAgICAgICAgICAgICAgICBmLmNhbGwoc2VsZiwgY29vcmRzLngsIGNvb3Jkcy55KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgc3ViLm5lZWRzQmVnaW4gPSAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNlbGYuY2FudmFzLnN0eWxlLmN1cnNvciA9IHNlbGYuZ2V0Q3Vyc29yKHN1Yi5wYXIzZC5tb3VzZU1vZGUubm9uZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxmLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSBzZWxmLmdldEN1cnNvcihzdWIucGFyM2QubW91c2VNb2RlLmxlZnQpOyAgCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZiA9IGhhbmRsZXJzW2hhbmRsZXIgKyAibW92ZSJdOwogICAgICAgIGlmIChmKSB7CiAgICAgICAgICBjb29yZHMgPSBzZWxmLnRyYW5zbGF0ZUNvb3JkcyhhY3RpdmVTdWJzY2VuZSwgY29vcmRzKTsKICAgICAgICAgIGYuY2FsbChzZWxmLCBjb29yZHMueCwgY29vcmRzLnkpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgCgogICAgICBzZWxmLmNhbnZhcy5vbm1vdXNlZW50ZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICBzZWxmLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCAgICAgICAgICAgICAgIGhhbmRsZXJzLm9ubW91c2Vtb3ZlKTsKICAgICAgfTsKICAgICAgCiAgICAgIHNlbGYuY2FudmFzLm9ubW91c2VsZWF2ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHNlbGYuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsCiAgICAgICAgICBoYW5kbGVycy5vbm1vdXNlbW92ZSk7CiAgICAgIH07CgogICAgICBoYW5kbGVycy5zZXRab29tID0gZnVuY3Rpb24oZHMpIHsKICAgICAgICB2YXIgaTsKICAgICAgICBpZiAodHlwZW9mIGFjdGl2ZVN1YnNjZW5lID09PSAidW5kZWZpbmVkIikKICAgICAgICAgIGFjdGl2ZVN1YnNjZW5lID0gc2VsZi5zY2VuZS5yb290U3Vic2NlbmU7CiAgICAgICAgdmFyIGFjdGl2ZVN1YiA9IHNlbGYuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKICAgICAgICAgICAgYWN0aXZlUHJvamVjdGlvbiA9IHNlbGYuZ2V0T2JqKHNlbGYudXNlaWQoYWN0aXZlU3ViLmlkLCAicHJvamVjdGlvbiIpKSwKICAgICAgICAgICAgbCA9IGFjdGl2ZVByb2plY3Rpb24ucGFyM2QubGlzdGVuZXJzOwoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgYWN0aXZlU3ViID0gc2VsZi5nZXRPYmoobFtpXSk7CiAgICAgICAgICBhY3RpdmVTdWIucGFyM2Quem9vbSAqPSBkczsKICAgICAgICB9CiAgICAgICAgc2VsZi5kcmF3U2NlbmUoKTsKICAgICAgfTsKICAgICAgCiAgICAgIGhhbmRsZXJzLnB1c2h3aGVlbCA9IGZ1bmN0aW9uKGV2KSB7CiAgICAgICAgZXYuZGVsdGFZID0gLWV2LmRlbHRhWTsKICAgICAgICBoYW5kbGVycy5wdWxsd2hlZWwoZXYpOwogICAgICB9OwogICAgICAKICAgICAgaGFuZGxlcnMucHVsbHdoZWVsID0gZnVuY3Rpb24oZXYpIHsKICAgICAgICB2YXIgZGVsID0gMS4wNTsKICAgICAgICBpZiAoZXYuc2hpZnRLZXkpIGRlbCA9IDEuMDA1OwogICAgICAgIHZhciBkcyA9IGV2LmRlbHRhWSA8IDAgPyBkZWwgOiAoMSAvIGRlbCk7CiAgICAgICAgaGFuZGxlcnMuc2V0Wm9vbShkcyk7CiAgICAgIH07CiAgICAgIAogICAgICBoYW5kbGVycy51c2VyMndoZWVsID0gZnVuY3Rpb24oZXYpIHsKICAgICAgICB2YXIgc3ViID0gc2VsZi5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLAogICAgICAgICAgICBjb2RlID0gc3ViLmNhbGxiYWNrcy53aGVlbC5yb3RhdGU7CiAgICAgICAgaWYgKGNvZGUpIHsKICAgICAgICAgIHZhciBmbiA9IEZ1bmN0aW9uKCcidXNlIHN0cmljdCI7cmV0dXJuICgnICsgY29kZSArICcpJykoKTsKICAgICAgICAgIC8qIGpzaGludCBldmlsOmZhbHNlICovCiAgICAgICAgICBmbi5jYWxsKHNlbGYsIGV2LmRlbHRhWSA8IDAgPyAxIDogMik7CiAgICAgICAgfSAgICAgICAgCiAgICAgIH07CiAgICAgICAgCiAgICAgIGhhbmRsZXJzLndoZWVsSGFuZGxlciA9IGZ1bmN0aW9uKGV2KSB7CiAgICAgICAgdmFyIGNvb3JkcyA9IHNlbGYucmVsTW91c2VDb29yZHMoZXYpOwogICAgICAgIGNvb3Jkcy55ID0gc2VsZi5jYW52YXMuaGVpZ2h0IC0gY29vcmRzLnk7CiAgICAgICAgYWN0aXZlU3Vic2NlbmUgPSBzZWxmLndoaWNoU3Vic2NlbmUoY29vcmRzKTsKICAgICAgICB2YXIgc3ViID0gc2VsZi5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLCBmLAogICAgICAgICAgICBoYW5kbGVyID0gc3ViLnBhcjNkLm1vdXNlTW9kZS53aGVlbCwKICAgICAgICAgICAgZXZsb2NhbDsKICAgICAgICAgICAgCiAgICAgICAgZXYuZGVsdGFZID0gZXYuZGVsdGFZIHx8IGV2LmRldGFpbCB8fCBldi5kZWx0YVggfHwgZXYud2hlZWxEZWx0YTsKICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIHN3aXRjaChoYW5kbGVyKSB7CiAgICAgICAgICBjYXNlICJub25lIjogYnJlYWs7CiAgICAgICAgICBjYXNlICJwdXNoIjoKICAgICAgICAgIGNhc2UgInB1bGwiOgogICAgICAgICAgY2FzZSAidXNlcjIiOgogICAgICAgICAgICBmID0gaGFuZGxlcnNbaGFuZGxlciArICJ3aGVlbCJdOwogICAgICAgICAgICBpZiAoZikgewogICAgICAgICAgICAgIGV2bG9jYWwgPSB7fTsKICAgICAgICAgICAgICBldmxvY2FsLmRlbHRhWSA9IGV2LmRlbHRhWTsKICAgICAgICAgICAgICBldmxvY2FsLnNoaWZ0S2V5ID0gZXYuc2hpZnRLZXk7CiAgICAgICAgICAgICAgZXZsb2NhbC5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkgeyBldi5wcmV2ZW50RGVmYXVsdCgpOyB9OwogICAgICAgICAgICAgIGYuY2FsbChzZWxmLCBldmxvY2FsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6IAogICAgICAgICAgICBldmxvY2FsID0ge307CiAgICAgICAgICAgIGV2bG9jYWwucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHsgZXYucHJldmVudERlZmF1bHQoKTsgfTsKICAgICAgICAgICAgZXZsb2NhbC53aGljaCA9IDQ7CiAgICAgICAgICAgIGV2bG9jYWwuY2xpZW50WCA9IHNlbGYuY2FudmFzLndpZHRoLzI7CiAgICAgICAgICAgIGV2bG9jYWwuY2xpZW50WSA9IHNlbGYuY2FudmFzLmhlaWdodC8yOwogICAgICAgICAgICBzZWxmLmNhbnZhcy5vbm1vdXNlZG93bihldmxvY2FsKTsKICAgICAgICAgICAgZXZsb2NhbC5jbGllbnRYICs9IGV2LmRlbHRhWDsKICAgICAgICAgICAgZXZsb2NhbC5jbGllbnRZICs9IGV2LmRlbHRhWTsKICAgICAgICAgICAgaGFuZGxlcnMub25tb3VzZW1vdmUoZXZsb2NhbCk7CiAgICAgICAgICAgIHNlbGYuY2FudmFzLm9ubW91c2V1cChldmxvY2FsKTsKICAgICAgICB9CiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgfTsKICAgICAgCiAgICAgIGhhbmRsZXJzLmdldF9maW5nZXJfZGlzdCA9IGZ1bmN0aW9uKGV2KSB7CiAgICAgICAgdmFyIGRpZmZYID0gZXYudG91Y2hlc1swXS5jbGllbnRYIC0gZXYudG91Y2hlc1sxXS5jbGllbnRYLAogICAgICAgICAgICBkaWZmWSA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WSAtIGV2LnRvdWNoZXNbMV0uY2xpZW50WTsKICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGRpZmZYICogZGlmZlggKyBkaWZmWSAqIGRpZmZZKTsgCiAgICAgIH07CiAgICAgIAogICAgICBoYW5kbGVycy50b3VjaHN0YXJ0ID0gZnVuY3Rpb24oZXYpIHsKICAgICAgICB2YXIgdG91Y2ggPSBldi50b3VjaGVzWzBdLAogICAgICAgICAgbW91c2VFdmVudCA9IG5ldyBNb3VzZUV2ZW50KCJtb3VzZWRvd24iLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgY2xpZW50WDogdG91Y2guY2xpZW50WCwKICAgICAgICAgICAgICBjbGllbnRZOiB0b3VjaC5jbGllbnRZCiAgICAgICAgICAgIH0pOwogICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaWYgKGV2LnRvdWNoZXMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICB2YXIgY29vcmRzID0gc2VsZi5yZWxNb3VzZUNvb3Jkcyh0b3VjaCk7CiAgICAgICAgICBjb29yZHMueSA9IHNlbGYuY2FudmFzLmhlaWdodC1jb29yZHMueTsKICAgICAgICAgIGFjdGl2ZVN1YnNjZW5lID0gc2VsZi53aGljaFN1YnNjZW5lKGNvb3Jkcyk7CiAgICAgICAgICBoYW5kbGVycy5maW5nZXJfZGlzdDAgPSBoYW5kbGVycy5nZXRfZmluZ2VyX2Rpc3QoZXYpOwogICAgICAgICAgaGFuZGxlcnMuem9vbWRvd24oY29vcmRzLngsIGNvb3Jkcy55KTsKICAgICAgICB9CiAgICAgICAgc2VsZi5kaXNwYXRjaEV2ZW50KG1vdXNlRXZlbnQpOwogICAgICB9OwogICAgICAKICAgICAgaGFuZGxlcnMudG91Y2hlbmQgPSBmdW5jdGlvbihldikgewogICAgICAgIHZhciBtb3VzZUV2ZW50OwogICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaWYgKGV2LnRvdWNoZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICBtb3VzZUV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoIm1vdXNldXAiLCB7fSk7CiAgICAgICAgICBzZWxmLmRpc3BhdGNoRXZlbnQobW91c2VFdmVudCk7CiAgICAgICAgfQogICAgICB9OwogICAgICAKICAgICAgaGFuZGxlcnMudG91Y2htb3ZlID0gZnVuY3Rpb24oZXYpIHsKICAgICAgICB2YXIgdG91Y2ggPSBldi50b3VjaGVzWzBdLAogICAgICAgICAgbW91c2VFdmVudDsKICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGlmIChldi50b3VjaGVzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIHZhciBjb29yZHMgPSBzZWxmLnJlbE1vdXNlQ29vcmRzKHRvdWNoKSwKICAgICAgICAgICAgICBuZXdfZGlzdCA9IGhhbmRsZXJzLmdldF9maW5nZXJfZGlzdChldik7CiAgICAgICAgICBjb29yZHMueSA9IHNlbGYuY2FudmFzLmhlaWdodCpNYXRoLmxvZyhoYW5kbGVycy5maW5nZXJfZGlzdDAvbmV3X2Rpc3QpICsgaGFuZGxlcnMueTB6b29tOwogICAgICAgICAgaGFuZGxlcnMuem9vbW1vdmUoY29vcmRzLngsIGNvb3Jkcy55KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbW91c2VFdmVudCA9IG5ldyBNb3VzZUV2ZW50KCJtb3VzZW1vdmUiLAogICAgICAgICAgewogICAgICAgICAgICBjbGllbnRYOiB0b3VjaC5jbGllbnRYLAogICAgICAgICAgICBjbGllbnRZOiB0b3VjaC5jbGllbnRZCiAgICAgICAgICB9KTsKICAgICAgICAgIHNlbGYuZGlzcGF0Y2hFdmVudChtb3VzZUV2ZW50KTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBzZWxmLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJET01Nb3VzZVNjcm9sbCIsIGhhbmRsZXJzLndoZWVsSGFuZGxlciwgZmFsc2UpOwogICAgICBzZWxmLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXdoZWVsIiwgaGFuZGxlcnMud2hlZWxIYW5kbGVyLCBmYWxzZSk7CiAgICAgIHNlbGYuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLCBoYW5kbGVycy50b3VjaHN0YXJ0LCB7cGFzc2l2ZTogZmFsc2V9KTsKICAgICAgc2VsZi5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLCBoYW5kbGVycy50b3VjaGVuZCwge3Bhc3NpdmU6IGZhbHNlfSk7CiAgICAgIHNlbGYuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsIGhhbmRsZXJzLnRvdWNobW92ZSwge3Bhc3NpdmU6IGZhbHNlfSk7CiAgICB9Owo="></script>
<script src="data:application/javascript;base64,ICAgIC8qKgogICAgICogTWV0aG9kcyByZWxhdGVkIHRvIGluaXRpYWxpemF0aW9uCiAgICAgKiBAbmFtZSBfX19NRVRIT0RTX0ZPUl9JTklUSUFMSVpBVElPTl9fXwogICAgICogQG1lbWJlcm9mIHJnbHdpZGdldENsYXNzCiAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICogQGluc3RhbmNlCiAgICAgKi8KICAgICAKICAgIC8qKgogICAgICogSW5pdGlhbCB0ZXN0IGZvciBXZWJHTAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuaW5pdEdMMCA9IGZ1bmN0aW9uKCkgewogICAgICBpZiAoIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQpewogICAgICAgIHRoaXMuYWxlcnRPbmNlKCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTC4gU2VlIGh0dHA6Ly9nZXQud2ViZ2wub3JnIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogSW5pdGlhbGl6ZSBXZWJHTAogICAgICogQHJldHVybnMgeyBPYmplY3QgfSB0aGUgV2ViR0wgY29udGV4dAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuaW5pdEdMID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpcywgc3VjY2VzcyA9IGZhbHNlOwogICAgICBpZiAodGhpcy5nbCkgewogICAgICAJaWYgKCF0aGlzLmRyYXdpbmcgJiYgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpCiAgICAgICAgICB0aGlzLnJlc3RhcnRDYW52YXMoKTsKICAgICAgICBlbHNlCiAgICAgICAgICByZXR1cm4gdGhpcy5nbDsKICAgICAgfQogICAgICAvLyBpZiAoIXRoaXMuaXNJbkJyb3dzZXJWaWV3cG9ydCgpKSByZXR1cm47IFJldHVybiB3aGF0Pz8/IEF0IHRoaXMgcG9pbnQgd2Uga25vdyB0aGlzLmdsIGlzIG51bGwuCiAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIiwKICAgICAgICB0aGlzLm9uQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7CiAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLAogICAgICAgIHRoaXMub25Db250ZXh0TG9zdCwgZmFsc2UpOwogICAgICB0aGlzLmdsID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgid2ViZ2wiLCB0aGlzLndlYkdMb3B0aW9ucykgfHwKICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIiwgdGhpcy53ZWJHTG9wdGlvbnMpOwogICAgICBzdWNjZXNzID0gISEodGhpcy5nbCAmJiB0aGlzLmdsIGluc3RhbmNlb2YgV2ViR0xSZW5kZXJpbmdDb250ZXh0KTsKICAgICAgaWYgKCFzdWNjZXNzKQogICAgICAgIHRoaXMuYWxlcnRPbmNlKCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTC4gU2VlIGh0dHA6Ly9nZXQud2ViZ2wub3JnIik7IAogICAgICB0aGlzLmluZGV4X3VpbnQgPSB0aGlzLmdsLmdldEV4dGVuc2lvbigiT0VTX2VsZW1lbnRfaW5kZXhfdWludCIpOwogICAgICB2YXIgc2F2ZSA9IHRoaXMuc3RhcnREcmF3aW5nKCk7CiAgICAgIE9iamVjdC5rZXlzKHRoaXMuc2NlbmUub2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihrZXkpewogICAgICAgIHNlbGYuaW5pdE9iaklkKHBhcnNlSW50KGtleSwgMTApKTsKICAgICAgICB9KTsKICAgICAgdGhpcy5zdG9wRHJhd2luZyhzYXZlKTsKICAgICAgcmV0dXJuIHRoaXMuZ2w7CiAgICB9OwoKICAgIC8qKgogICAgICogUmVzaXplIHRoZSBkaXNwbGF5IHRvIG1hdGNoIGVsZW1lbnQKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGVsIC0gRE9NIGVsZW1lbnQgdG8gbWF0Y2gKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKGVsKSB7CiAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gZWwud2lkdGg7CiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGVsLmhlaWdodDsKICAgIH07CgogICAgLyoqCiAgICAgKiBJbml0aWFsaXplIHRoZSBzcGhlcmUgb2JqZWN0CiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5pbml0U3BoZXJlID0gZnVuY3Rpb24oc2VjdGlvbnMsIHNlZ21lbnRzKSB7CiAgICAgIHZhciB2ID0gW10sIHBoaSA9IFtdLCB0aGV0YSA9IFtdLCBpdCA9IFtdLCBjZW50ZXJzID0gW10sCiAgICAgICAgICAgaSwgaiwgaywgaW5kLCBtb2QxLCBwb2xlLCByZXN1bHQgPSB7fTsKICAgICAgIAogICAgICBmb3IgKGkgPSAwOyBpIDwgc2VjdGlvbnMgLSAxOyBpKyspIHsKICAgICAgICBwaGkucHVzaCgoaSArIDEpL3NlY3Rpb25zIC0gMC41KTsKICAgICAgfQoKICAgICAgZm9yIChqID0gMDsgaiA8IHNlZ21lbnRzOyBqKyspIHsKICAgICAgICB0aGV0YS5wdXNoKDIqai9zZWdtZW50cyk7CiAgICAgICAgZm9yIChpID0gMDsgaSA8IHNlY3Rpb25zIC0gMTsgaSsrKSB7CiAgICAgICAgICAvKiBUaGVzZSBhcmUgW3gseSx6LHMsdF06ICovCiAgICAgICAgICB2LnB1c2goW01hdGguc2luKE1hdGguUEkqdGhldGFbal0pICogTWF0aC5jb3MoTWF0aC5QSSpwaGlbaV0pLAogICAgICAgICAgICAgICAgICBNYXRoLnNpbihNYXRoLlBJKnBoaVtpXSksCiAgICAgICAgICAgICAgICAgIE1hdGguY29zKE1hdGguUEkqdGhldGFbal0pICogTWF0aC5jb3MoTWF0aC5QSSpwaGlbaV0pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgdGhldGFbal0vMiwKICAgICAgICAgICAgICAgICAgcGhpW2ldICsgMC41XSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHBvbGUgPSB2Lmxlbmd0aDsKICAgICAgdi5wdXNoKFswLCAtMSwgMCwgMCwgMF0pOyAKICAgICAgdi5wdXNoKFswLCAgMSwgMCwgMCwgMV0pOwogICAgICByZXN1bHQudmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLmZsYXR0ZW4odikpOwogICAgICByZXN1bHQudmVydGV4Q291bnQgPSB2Lmxlbmd0aDsKICAgICAgCiAgICAgIG1vZDEgPSBzZWdtZW50cyooc2VjdGlvbnMgLSAxKTsKICAgICAgZm9yIChqID0gMDsgaiA8IHNlZ21lbnRzOyBqKyspIHsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2VjdGlvbnMgLSAyOyBpKyspIHsKICAgICAgICAgIGluZCA9IGkgKyAoc2VjdGlvbnMgLSAxKSpqOwogICAgICAgICAgaXQucHVzaChbaW5kICUgbW9kMSwgCiAgICAgICAgICAgICAgICAgICAoaW5kICsgc2VjdGlvbnMgLSAxKSAlIG1vZDEsCiAgICAgICAgICAgICAgICAgICAoaW5kICsgc2VjdGlvbnMpICUgbW9kMV0pOwogICAgICAgICAgaXQucHVzaChbaW5kICUgbW9kMSwgCiAgICAgICAgICAgICAgICAgICAoaW5kICsgc2VjdGlvbnMpICUgbW9kMSwKICAgICAgICAgICAgICAgICAgIChpbmQgKyAxKSAlIG1vZDFdKTsKICAgICAgICB9CiAgICAgICAgaXQucHVzaChbcG9sZSwgCiAgICAgICAgICAgICAgICAgKChqICsgMSkqKHNlY3Rpb25zIC0gMSkpICUgbW9kMSwKICAgICAgICAgICAgICAgICAoKGogKyAxKSooc2VjdGlvbnMgLSAxKSAtIHNlY3Rpb25zICsgMSkgJSBtb2QxXSk7CiAgICAgICAgaXQucHVzaChbcG9sZSArIDEsIAogICAgICAgICAgICAgICAgICgoaiArIDEpKihzZWN0aW9ucyAtIDEpIC0gMSkgJSBtb2QxLAogICAgICAgICAgICAgICAgICgoaiArIDEpKihzZWN0aW9ucyAtIDEpICsgc2VjdGlvbnMgLSAyKSAlIG1vZDFdKTsKICAgICAgfQogICAgICByZXN1bHQuaXQgPSBuZXcgVWludDE2QXJyYXkodGhpcy5mbGF0dGVuKGl0KSk7CiAgICAgIAogICAgICBmb3IgKGkgPSAwOyBpIDwgaXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBjZW50ZXJzLnB1c2goWzAsMCwwXSk7CiAgICAgICAgZm9yIChqID0gMDsgaiA8IDM7IGorKykgeyAvLyB4LHksegogICAgICAgICAgZm9yIChrID0gMDsgayA8IDM7IGsrKykgey8vIHZlcnRpY2VzCiAgICAgICAgICAgIGNlbnRlcnNbaV1bal0gKz0gdltpdFtpXVtrXV1bal0vMzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmVzdWx0LmNlbnRlcnMgPSBjZW50ZXJzOwogICAgICAKICAgICAgcmVzdWx0LnZPZmZzZXRzID0ge3ZvZnM6MCwgY29mczotMSwgbm9mczowLCByYWRvZnM6LTEsIG9vZnM6LTEsCiAgICAgICAgICAgICAgICAgICAgICAgICB0b2ZzOjMsIG5leHRvZnM6LTEsIHBvaW50b2ZzOi0xLCBzdHJpZGU6NX07CgogICAgICByZXN1bHQuZiA9IFtdOwogICAgICByZXN1bHQuaW5kaWNlcyA9IHt9OwoKICAgICAgcmVzdWx0LmNvbG9yQ291bnQgPSAxOwogICAgICByZXN1bHQudHlwZSA9ICJzcGhlcmUiOwogICAgICB0aGlzLnNwaGVyZSA9IHJlc3VsdDsKICAgICAgdGhpcy5pbml0U2hhcGVHTCh0aGlzLnNwaGVyZSk7CiAgICB9OwoKICAgIC8qKgogICAgICogSW5pdGlhbGl6ZSB0aGUgY3ViZSBvYmplY3QKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmluaXRDdWJlID0gZnVuY3Rpb24oKSB7CiAgIHZhciB2ID0gW1swLCAwLCAwXSwgWzEsIDAsIDBdLCAKICAgICAgICAgICAgWzAsIDEsIDBdLCBbMSwgMSwgMF0sIAogICAgICAgICAgICBbMCwgMCwgMV0sIFsxLCAwLCAxXSwKICAgICAgICAgICAgWzAsIDEsIDFdLCBbMSwgMSwgMV1dLAogICAgICAgICAgaWIgPSBbWzAsIDIsIDMsIDFdLCAKICAgICAgICAgICAgICAgIFsyLCA2LCA3LCAzXSwgCiAgICAgICAgICAgICAgICBbMSwgMywgNywgNV0sIAogICAgICAgICAgICAgICAgWzAsIDQsIDYsIDJdLCAKICAgICAgICAgICAgICAgIFswLCAxLCA1LCA0XSwgCiAgICAgICAgICAgICAgICBbNCwgNSwgNywgNl1dLCAKICAgICAgICAgIGNlbnRlcnMgPSBbXSwgaSwgaiwgaywgCiAgICAgICAgICBpMCwgaTEsIGkyLAogICAgICAgICAgbm9ybWFsLCByZXN1bHQgPSB7fTsKICAgICAgIAogICAgICBmb3IgKGkgPSAwOyBpIDwgaWIubGVuZ3RoOyBpKyspIHsKICAgICAgICBjZW50ZXJzLnB1c2goWzAsMCwwXSk7CiAgICAgICAgZm9yIChqID0gMDsgaiA8IDM7IGorKykgeyAvLyB4LHksegogICAgICAgICAgZm9yIChrID0gMDsgayA8IDQ7IGsrKykgey8vIHZlcnRpY2VzCiAgICAgICAgICAgIGNlbnRlcnNbaV1bal0gKz0gdltpYltpXVtrXV1bal0vNDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmVzdWx0LmNlbnRlcnMgPSBjZW50ZXJzOyAKICAgICAgcmVzdWx0LnZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoNio0KjMqMik7CiAgICAgIHJlc3VsdC52ZXJ0ZXhDb3VudCA9IDI0OwogICAgICByZXN1bHQudmVydGljZXMgPSBuZXcgQXJyYXkoMjQpOwogICAgICByZXN1bHQubm9ybWFscyA9IG5ldyBBcnJheSgyNCk7CiAgICAgIGZvciAoaT0wOyBpIDwgNjsgaSsrKSB7CiAgICAgICAgZm9yIChqPTA7IGogPCA0OyBqKyspIHsKICAgICAgICAgIGkwID0gaWJbaV1bal07CiAgICAgICAgICByZXN1bHQudmVydGljZXNbNCppICsgal0gPSB2W2kwXTsKICAgICAgICAgIGkxID0gaWJbaV1bKGogKyAxKSAlIDRdOwogICAgICAgICAgaTIgPSBpYltpXVsoaiArIDIpICUgNF07CiAgICAgICAgICBpZiAoaiA9PT0gMCkKICAgICAgICAgICAgbm9ybWFsID0gdGhpcy5ub3JtYWxpemUodGhpcy54cHJvZCh0aGlzLnZkaWZmKHZbaTFdLCB2W2kwXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZkaWZmKHZbaTJdLCB2W2kwXSkpKTsKICAgICAgICAgIHJlc3VsdC5ub3JtYWxzWzQqaSArIGpdID0gbm9ybWFsOwogICAgICAgICAgZm9yIChrPTA7IGsgPCAzOyBrKyspIHsKICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1tpKjI0ICsgaio2ICsga10gPSB2W2kwXVtrXTsKICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1tpKjI0ICsgaio2ICsgMyArIGtdID0gbm9ybWFsW2tdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKGo9MDsgajw0OyBqKyspCiAgICAgICAgICBpYltpXVtqXSA9IDQqaSArIGo7CiAgICAgIH0KICAgICAgcmVzdWx0LmliID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuZmxhdHRlbihpYikpOwogICAgICAKICAgICAgcmVzdWx0LnZPZmZzZXRzID0ge3ZvZnM6MCwgY29mczotMSwgbm9mczozLCByYWRvZnM6LTEsIG9vZnM6LTEsCiAgICAgICAgICAgICAgICAgICAgICAgICB0b2ZzOi0xLCBuZXh0b2ZzOi0xLCBwb2ludG9mczotMSwgc3RyaWRlOjZ9OwoKICAgICAgcmVzdWx0LmYgPSBbXTsKICAgICAgcmVzdWx0LmluZGljZXMgPSB7fTsKCiAgICAgIHJlc3VsdC5jb2xvckNvdW50ID0gMTsKICAgICAgcmVzdWx0LnR5cGUgPSAicXVhZHMiOwogICAgICB0aGlzLmN1YmUgPSByZXN1bHQ7CiAgICAgIHRoaXMuaW5pdFNoYXBlR0wodGhpcy5jdWJlKTsKICAgIH07CiAgICAKCiAgICAvKioKICAgICAqIERvIHRoZSBnbCBwYXJ0IG9mIGluaXRpYWxpemluZyB0aGUgc3BoZXJlIGFuZCBjdWJlCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5pbml0U2hhcGVHTCA9IGZ1bmN0aW9uKHNoYXBlKSB7CiAgICAgIHZhciBnbCA9IHRoaXMuZ2wgfHwgdGhpcy5pbml0R0woKTsKICAgICAgaWYgKGdsLmlzQ29udGV4dExvc3QoKSkgcmV0dXJuOwogICAgICBzaGFwZS5idWYgPSBnbC5jcmVhdGVCdWZmZXIoKTsKICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHNoYXBlLmJ1Zik7CiAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBzaGFwZS52YWx1ZXMsIGdsLlNUQVRJQ19EUkFXKTsKICAgICAgc2hhcGUuaWJ1ZiA9IFtnbC5jcmVhdGVCdWZmZXIoKSwgZ2wuY3JlYXRlQnVmZmVyKCldOwogICAgICByZXR1cm47CiAgICB9OwoKICAgIC8qIEluaXRpYWxpemUgY29tbW9uIHNwaGVyZSBvYmplY3QgZnJvbSBzcGhlcmVzIG9iamVjdAogICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5pbml0U2hhcGVGcm9tT2JqID0gZnVuY3Rpb24oc2hhcGUsIG9iaikgewogICAgICB2YXIgaSwgcGFzcywgZiwgbW9kZSwgc2VsZiA9IHRoaXMsCiAgICAgICAgaXNfYmFjayA9IGZ1bmN0aW9uKGkpIHsKICAgICAgICAgICAgICAgIHZhciBub3JtYWwgPSBzaGFwZS5ub3JtYWxzW2ldLAogICAgICAgICAgICAgICAgICBwdCA9IHNoYXBlLnZlcnRpY2VzW2ldOwogICAgICAgICAgICAgICAgbm9ybWFsLnB1c2goLXNlbGYuZG90cHJvZChub3JtYWwsIHB0KSk7CiAgICAgICAgICAgICAgICBub3JtYWwgPSBzZWxmLm11bHRWTShub3JtYWwsIHNlbGYubm9ybU1hdHJpeCk7CiAgICAgICAgICAgICAgICByZXR1cm4gbm9ybWFsWzJdIDwgMDsKICAgICAgICAgICAgICB9OyAKICAgICAgc2hhcGUub2ZzTG9jID0gb2JqLm9mc0xvYzsKICAgICAgc2hhcGUudGV4TG9jID0gb2JqLnRleExvYzsKICAgICAgc2hhcGUuc2FtcGxlciA9IG9iai5zYW1wbGVyOwogICAgICBzaGFwZS51Rm9nTW9kZSA9IG9iai51Rm9nTW9kZTsKICAgICAgc2hhcGUudUZvZ0NvbG9yID0gb2JqLnVGb2dDb2xvcjsKICAgICAgc2hhcGUudUZvZ1Bhcm1zID0gb2JqLnVGb2dQYXJtczsKICAgICAgc2hhcGUudXNlckF0dHJpYkxvY2F0aW9ucyA9IG9iai51c2VyQXR0cmliTG9jYXRpb25zOwogICAgICBzaGFwZS51c2VyVW5pZm9ybUxvY2F0aW9ucyA9IG9iai51c2VyVW5pZm9ybUxvY2F0aW9uczsKICAgICAgc2hhcGUubm9ybUxvYyA9IG9iai5ub3JtTG9jOwogICAgICBzaGFwZS5pbnZQck1hdExvYyA9IG9iai5pbnZQck1hdExvYzsKICAgICAgc2hhcGUuY2xpcExvYyA9IG9iai5jbGlwTG9jOwogICAgICBzaGFwZS5uZXh0TG9jID0gb2JqLm5leHRMb2M7CiAgICAgIHNoYXBlLnBvaW50TG9jID0gb2JqLnBvaW50TG9jOwogICAgICBzaGFwZS5hc3BlY3RMb2MgPSBvYmouYXNwZWN0TG9jOwogICAgICBzaGFwZS5sd2RMb2MgPSBvYmoubHdkTG9jOwogICAgICBzaGFwZS5wcm9nID0gb2JqLnByb2c7CiAgICAgIHNoYXBlLm1hdGVyaWFsID0gb2JqLm1hdGVyaWFsOwogICAgICBzaGFwZS5mbGFncyA9IG9iai5mbGFnczsKICAgICAgc2hhcGUuc29tZUhpZGRlbiA9IG9iai5zb21lSGlkZGVuOwogICAgICBzaGFwZS5mYXN0VHJhbnNwYXJlbmN5ID0gb2JqLmZhc3RUcmFuc3BhcmVuY3k7CiAgICAgIHNoYXBlLm5saWdodHMgPSBvYmoubmxpZ2h0czsKICAgICAgc2hhcGUuZW1pc3Npb24gPSBvYmouZW1pc3Npb247CiAgICAgIHNoYXBlLmVtaXNzaW9uTG9jID0gb2JqLmVtaXNzaW9uTG9jOwogICAgICBzaGFwZS5zaGluaW5lc3MgPSBvYmouc2hpbmluZXNzOwogICAgICBzaGFwZS5zaGluaW5lc3NMb2MgPSBvYmouc2hpbmluZXNzTG9jOwogICAgICBzaGFwZS5hbWJpZW50ID0gb2JqLmFtYmllbnQ7CiAgICAgIHNoYXBlLmFtYmllbnRMb2MgPSBvYmouYW1iaWVudExvYzsKICAgICAgc2hhcGUuc3BlY3VsYXIgPSBvYmouc3BlY3VsYXI7CiAgICAgIHNoYXBlLnNwZWN1bGFyTG9jID0gb2JqLnNwZWN1bGFyTG9jOwogICAgICBzaGFwZS5kaWZmdXNlID0gb2JqLmRpZmZ1c2U7CiAgICAgIHNoYXBlLmRpZmZ1c2VMb2MgPSBvYmouZGlmZnVzZUxvYzsKICAgICAgc2hhcGUubGlnaHREaXIgPSBvYmoubGlnaHREaXI7CiAgICAgIHNoYXBlLmxpZ2h0RGlyTG9jID0gb2JqLmxpZ2h0RGlyTG9jOwogICAgICBzaGFwZS52aWV3cG9pbnQgPSBvYmoudmlld3BvaW50OwogICAgICBzaGFwZS52aWV3cG9pbnRMb2MgPSBvYmoudmlld3BvaW50TG9jOwogICAgICBzaGFwZS5maW5pdGUgPSBvYmouZmluaXRlOwogICAgICBzaGFwZS5maW5pdGVMb2MgPSBvYmouZmluaXRlTG9jOwogICAgICBzaGFwZS5wck1hdExvYyA9IG9iai5wck1hdExvYzsKICAgICAgc2hhcGUubXZNYXRMb2MgPSBvYmoubXZNYXRMb2M7CiAgICAgIHNoYXBlLm5vcm1NYXRMb2MgPSBvYmoubm9ybU1hdExvYzsKICAgICAgc2hhcGUuZnJvbnRMb2MgPSBvYmouZnJvbnRMb2M7CiAgICAgIHNoYXBlLmluZGV4X3VpbnQgPSBmYWxzZTsKICAgICAgc2hhcGUuaXNfdHJhbnNwYXJlbnQgPSBvYmouaXNfdHJhbnNwYXJlbnQ7CiAgICAgIHNoYXBlLmlnbm9yZUV4dGVudCA9IG9iai5pZ25vcmVFeHRlbnQ7CiAgICAgIGlmIChzaGFwZS5wYXNzZXMgIT09IG9iai5wYXNzZXMgfHwKICAgICAgICAgIEpTT04uc3RyaW5naWZ5KCBzaGFwZS5wbW9kZSkgIT09IEpTT04uc3RyaW5naWZ5KG9iai5wbW9kZSkpIHsKICAgICAgICBzaGFwZS5wYXNzZXMgPSBvYmoucGFzc2VzOwogICAgICAgIHNoYXBlLnBtb2RlID0gb2JqLnBtb2RlOwogICAgICAgIGZvciAocGFzcyA9IDA7IHBhc3MgPCBvYmoucGFzc2VzOyBwYXNzKyspIHsKICAgICAgICAgIG1vZGUgPSAgc2hhcGUucG1vZGVbcGFzc107CiAgICAgICAgICBpZiAodHlwZW9mICBzaGFwZS5pbmRpY2VzW21vZGVdID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICBmID0gW107CiAgICAgICAgICAgIHN3aXRjaCAobW9kZSkgewogICAgICAgICAgICBjYXNlICJjdWxsZWQiOiBicmVhazsKICAgICAgICAgICAgY2FzZSAicG9pbnRzIjoKICAgICAgICAgICAgICBmLmxlbmd0aCA9ICBzaGFwZS52ZXJ0ZXhDb3VudDsKICAgICAgICAgICAgICBmb3IgKGk9MDsgaSA8IGYubGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICBmW2ldID0gaTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAibGluZXMiOgogICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2hhcGUuaXQgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICBmLmxlbmd0aCA9IDIqIHNoYXBlLml0Lmxlbmd0aDsKICAgICAgCSAgICAgICAgZm9yIChpPTA7IGkgPCAgc2hhcGUuaXQubGVuZ3RoLzM7IGkrKykgewogICAgICAJICAgICAgICAgIGZbNippXSA9ICBzaGFwZS5pdFszKmldOwogICAgICAJICAgICAgICAgIGZbNippICsgMV0gPSAgc2hhcGUuaXRbMyppICsgMV07CiAgICAgIAkgICAgICAgICAgZls2KmkgKyAyXSA9ICBzaGFwZS5pdFszKmkgKyAxXTsKICAgICAgCSAgICAgICAgICBmWzYqaSArIDNdID0gIHNoYXBlLml0WzMqaSArIDJdOwogICAgICAJICAgICAgICAgIGZbNippICsgNF0gPSAgc2hhcGUuaXRbMyppICsgMl07CiAgICAgIAkgICAgICAgICAgZls2KmkgKyA1XSA9ICBzaGFwZS5pdFszKmldOwogICAgICAJICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGYubGVuZ3RoID0gMipzaGFwZS5pYi5sZW5ndGg7CiAgICAgICAgICAgICAgICBmb3IgKGk9MDsgaSA8IHNoYXBlLmliLmxlbmd0aC80OyBpKyspIHsKICAgICAgICAgICAgICAgICAgZls4KmldID0gc2hhcGUuaWJbNCppXTsKICAgICAgICAgICAgICAgICAgZls4KmkgKyAxXSA9IHNoYXBlLmliWzQqaSArIDFdOwogICAgICAgICAgICAgICAgICBmWzgqaSArIDJdID0gc2hhcGUuaWJbNCppICsgMV07CiAgICAgICAgICAgICAgICAgIGZbOCppICsgM10gPSBzaGFwZS5pYls0KmkgKyAyXTsKICAgICAgICAgICAgICAgICAgZls4KmkgKyA0XSA9IHNoYXBlLmliWzQqaSArIDJdOwogICAgICAgICAgICAgICAgICBmWzgqaSArIDVdID0gc2hhcGUuaWJbNCppICsgM107CiAgICAgICAgICAgICAgICAgIGZbOCppICsgNl0gPSBzaGFwZS5pYls0KmkgKyAzXTsKICAgICAgICAgICAgICAgICAgZls4KmkgKyA3XSA9IHNoYXBlLmliWzQqaV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAJICAgICAgYnJlYWs7CiAgICAgIAkgICAgY2FzZSAiZmlsbGVkIjoKICAgICAgCSAgICAgIGlmICh0eXBlb2Ygc2hhcGUuaXQgIT09ICJ1bmRlZmluZWQiKQogICAgICAJICAgICAgICBmID0gIHNoYXBlLml0OwogICAgICAJICAgICAgZWxzZSBpZiAodHlwZW9mIHNoYXBlLmliICE9PSAidW5kZWZpbmVkIikgewogICAgICAJICAgICAgICBmLmxlbmd0aCA9IDEuNSpzaGFwZS5pYi5sZW5ndGg7CiAgICAgICAgICAgICAgICBmb3IgKGk9MDsgaSA8IHNoYXBlLmliLmxlbmd0aC80OyBpKyspIHsKICAgICAgICAgICAgICAgICAgZls2KmldID0gc2hhcGUuaWJbNCppXTsKICAgICAgICAgICAgICAgICAgZls2KmkrMV0gPSBzaGFwZS5pYls0KmkgKyAxXTsKICAgICAgICAgICAgICAgICAgZls2KmkrMl0gPSBzaGFwZS5pYls0KmkgKyAyXTsKICAgICAgICAgICAgICAgICAgZls2KmkrM10gPSBzaGFwZS5pYls0KmldOwogICAgICAgICAgICAgICAgICBmWzYqaSs0XSA9IHNoYXBlLmliWzQqaSArIDJdOwogICAgICAgICAgICAgICAgICBmWzYqaSs1XSA9IHNoYXBlLmliWzQqaSArIDNdOwogICAgICAgICAgICAgICAgfSAgICAgIAkgICAgICAgIAogICAgICAJICAgICAgfQogICAgICAJICAgICAgYnJlYWs7CiAgICAgIAkgICAgfSAgICAgICAgICAgICAgCiAgICAgICAgICAgIHNoYXBlLmluZGljZXNbbW9kZV0gPSBuZXcgVWludDE2QXJyYXkoZik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9ICAgICAgIAogICAgICBmb3IgKHBhc3MgPSAwOyBwYXNzIDwgb2JqLnBhc3NlczsgcGFzcysrKSB7CiAgICAgICAgbW9kZSA9ICBzaGFwZS5wbW9kZVtwYXNzXTsKICAgICAgICBzaGFwZS5mW3Bhc3NdID0gIHNoYXBlLmluZGljZXNbbW9kZV07CiAgICAgICAgaWYgKHR5cGVvZiBvYmouZHJhd19mcm9udCAhPT0gInVuZGVmaW5lZCIgJiYKICAgICAgICAgICAgIW9iai5kcmF3X2Zyb250KSB7CiAgICAgICAgICBzaGFwZS5mW3Bhc3NdID0gc2hhcGUuZltwYXNzXS5maWx0ZXIoaXNfYmFjayk7ICAgCiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIGNvbnNvbGUubG9nKCJOYW1lcyBpbiAgc2hhcGVzIG5vdCBpbiAgc2hhcGU6IitKU09OLnN0cmluZ2lmeSh0aGlzLmtleWRpZmYob2JqLCAgc2hhcGUpKSk7CiAgICAgICBzaGFwZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICB9OwoKICAgIC8qKgogICAgICogSW5pdGlhbGl6ZSBhIHN1YnNjZW5lCiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBpZCAtIGlkIG9mIHN1YnNjZW5lLgogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuaW5pdFN1YnNjZW5lID0gZnVuY3Rpb24oaWQpIHsKICAgICAgdmFyIHN1YiA9IHRoaXMuZ2V0T2JqKGlkKSwKICAgICAgICAgIGksIG9iajsKCiAgICAgIGlmIChzdWIudHlwZSAhPT0gInN1YnNjZW5lIikKICAgICAgICByZXR1cm47CgogICAgICBzdWIucGFyM2QudXNlck1hdHJpeCA9IHRoaXMudG9DYW52YXNNYXRyaXg0KHN1Yi5wYXIzZC51c2VyTWF0cml4KTsKICAgICAgc3ViLnBhcjNkLnVzZXJQcm9qZWN0aW9uID0gdGhpcy50b0NhbnZhc01hdHJpeDQoc3ViLnBhcjNkLnVzZXJQcm9qZWN0aW9uKTsKICAgICAgc3ViLnBhcjNkLnVzZXJQcm9qZWN0aW9uLnRyYW5zcG9zZSgpOwogICAgICBzdWIucGFyM2QubGlzdGVuZXJzID0gW10uY29uY2F0KHN1Yi5wYXIzZC5saXN0ZW5lcnMpOwogICAgICBzdWIuYmFja2dyb3VuZElkID0gdW5kZWZpbmVkOwogICAgICBzdWIuc3Vic2NlbmVzID0gW107CiAgICAgIHN1Yi5jbGlwcGxhbmVzID0gW107CiAgICAgIHN1Yi50cmFuc3BhcmVudCA9IFtdOwogICAgICBzdWIub3BhcXVlID0gW107CiAgICAgIHN1Yi5saWdodHMgPSBbXTsKICAgICAgc3ViLm5lZWRzQmVnaW4gPSB0cnVlOwogICAgICBmb3IgKGk9MDsgaSA8IHN1Yi5vYmplY3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb2JqID0gdGhpcy5nZXRPYmooc3ViLm9iamVjdHNbaV0pOwogICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgc3ViLm9iamVjdHMuc3BsaWNlKGksIDEpOwogICAgICAgICAgaS0tOwogICAgICAgIH0gZWxzZSBpZiAob2JqLnR5cGUgPT09ICJiYWNrZ3JvdW5kIikKICAgICAgICAgIHN1Yi5iYWNrZ3JvdW5kSWQgPSBvYmouaWQ7CiAgICAgICAgZWxzZQogICAgICAgICAgc3ViW3RoaXMud2hpY2hMaXN0KG9iai5pZCldLnB1c2gob2JqLmlkKTsKICAgICAgfQogICAgfTsKICAgIAogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmluaXRCQm94ID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgIGlmICghdGhpcy5jdWJlKQogICAgICAgIHRoaXMuaW5pdEN1YmUoKTsKICAgICAgb2JqLmN1YmUgPSB7aWQ6IG9iai5pZCArIDAuMSwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAicXVhZHMiLAogICAgICAgICAgICAgICAgICAgIGZsYWdzOiBvYmouZmxhZ3MsCiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IG9iai5tYXRlcmlhbCwKICAgICAgICAgICAgICAgICAgICBjb2xvcnM6IFtvYmouY29sb3JzWzBdXSwKICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlczogdGhpcy5jdWJlLnZlcnRpY2VzLAogICAgICAgICAgICAgICAgICAgIG5vcm1hbHM6IHRoaXMuY3ViZS5ub3JtYWxzLAogICAgICAgICAgICAgICAgICAgIGRyYXdfZnJvbnQ6IG9iai5kcmF3X2Zyb250LAogICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVkOiBmYWxzZQogICAgICAgIH07CiAgICAgIGlmICh0aGlzLmdldE1hdGVyaWFsKG9iai5jdWJlLCAiZnJvbnQiKSAhPT0KICAgICAgICAgIHRoaXMuZ2V0TWF0ZXJpYWwob2JqLmN1YmUsICJiYWNrIikpCiAgICAgICAgLyoganNoaW50IGJpdHdpc2U6IGZhbHNlICovICAKICAgICAgICBvYmouY3ViZS5mbGFncyB8PSB0aGlzLmZfaXNfdHdvc2lkZWQ7CiAgICAgICAgLyoganNoaW50IGJpdHdpc2U6IHRydWUgKi8KICAgICAgdGhpcy5zY2VuZS5vYmplY3RzW29iai5jdWJlLmlkXSA9IG9iai5jdWJlOwogICAgICBvYmoudGlja3MgPSB7aWQ6IG9iai5pZCArIDAuMiwKICAgICAgICAgICAgICAgICAgICAgdHlwZTogImxpbmVzIiwKICAgICAgICAgICAgICAgICAgICAgZmxhZ3M6IHRoaXMuZl9oYXNfZm9nLAogICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogb2JqLm1hdGVyaWFsLAogICAgICAgICAgICAgICAgICAgICBjb2xvcnM6IChvYmouY29sb3JzLmxlbmd0aCA+IDEgPyBbb2JqLmNvbG9yc1sxXV0gOiBbb2JqLmNvbG9yc1swXV0pLAogICAgICAgICAgICAgICAgICAgICBheGVzOiBvYmouYXhlcywKICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZWQ6IGZhbHNlCiAgICAgIH07CiAgICAgIHRoaXMuc2NlbmUub2JqZWN0c1tvYmoudGlja3MuaWRdID0gb2JqLnRpY2tzOwogICAgICBvYmoubGFiZWxzID0ge2lkOiBvYmouaWQgKyAwLjMsCiAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgICAgICAgICAgICAgICAgZmxhZ3M6IHRoaXMuZl9oYXNfZm9nICsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZfZml4ZWRfc2l6ZSArIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mX2ZpeGVkX3F1YWRzLAogICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDoge2xpdDogZmFsc2V9LAogICAgICAgICAgICAgICAgICAgICBjb2xvcnM6IChvYmouY29sb3JzLmxlbmd0aCA+IDEgPyBbb2JqLmNvbG9yc1sxXV0gOiBbb2JqLmNvbG9yc1swXV0pLAogICAgICAgICAgICAgICAgICAgICBjZXg6IFtbMV1dLAogICAgICAgICAgICAgICAgICAgICBmYW1pbHk6IFtbInNhbnMiXV0sCiAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IFtbMV1dLAogICAgICAgICAgICAgICAgICAgICBhZGo6IFtbMC41LCAwLjUsIDAuNV1dLAogICAgICAgICAgICAgICAgICAgICBpZ25vcmVFeHRlbnQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVkOiBmYWxzZQogICAgICB9OwogICAgICB0aGlzLnNjZW5lLm9iamVjdHNbb2JqLmxhYmVscy5pZF0gPSBvYmoubGFiZWxzOwogICAgICBvYmouaW5pdGlhbGl6ZWQgPSB0cnVlOwogICAgfTsKCiAgICAvKioKICAgICAqIEluaXRpYWxpemUgb2JqZWN0IGZvciBkaXNwbGF5CiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBpZCAtIGlkIG9mIG9iamVjdCB0byBpbml0aWFsaXplCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5pbml0T2JqSWQgPSBmdW5jdGlvbihpZCkgewogICAgICBpZiAodHlwZW9mIGlkICE9PSAibnVtYmVyIikgewogICAgICAgIHRoaXMuYWxlcnRPbmNlKCJpbml0T2JqIGlkIGlzICIrdHlwZW9mIGlkKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5pbml0T2JqKHRoaXMuZ2V0T2JqKGlkKSk7CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIEluaXRpYWxpemUgb2JqZWN0IGZvciBkaXNwbGF5CiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBvYmogLSBvYmplY3QgdG8gaW5pdGlhbGl6ZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuaW5pdE9iaiA9IGZ1bmN0aW9uKG9iaikgewogICAgICB2YXIgZmxhZ3MgPSBvYmouZmxhZ3MsCiAgICAgICAgICB0eXBlID0gb2JqLnR5cGUsCiAgICAgICAgICBpc19saXQgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaXNfbGl0KSwKICAgICAgICAgIGZhdF9saW5lcyA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9mYXRfbGluZXMpLAogICAgICAgICAgaGFzX3RleHR1cmUgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaGFzX3RleHR1cmUpLAogICAgICAgICAgZml4ZWRfcXVhZHMgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfZml4ZWRfcXVhZHMpLAogICAgICAgICAgaXNfdHJhbnNwYXJlbnQgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaXNfdHJhbnNwYXJlbnQpLAogICAgICAgICAgZGVwdGhfc29ydCA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9kZXB0aF9zb3J0KSwKICAgICAgICAgIHNwcml0ZXNfM2QgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfc3ByaXRlc18zZCksCiAgICAgICAgICBmaXhlZF9zaXplID0gdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2ZpeGVkX3NpemUpLAogICAgICAgICAgaXNfdHdvc2lkZWQgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaXNfdHdvc2lkZWQpLAogICAgICAgICAgaXNfYnJ1c2ggPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaXNfYnJ1c2gpLAogICAgICAgICAgaGFzX2ZvZyA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9oYXNfZm9nKSwKICAgICAgICAgIGhhc19ub3JtYWxzID0gKHR5cGVvZiBvYmoubm9ybWFscyAhPT0gInVuZGVmaW5lZCIpIHx8CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai50eXBlID09PSAic3BoZXJlcyIsCiAgICAgICAgICBoYXNfaW5kaWNlcyA9IHR5cGVvZiBvYmouaW5kaWNlcyAhPT0gInVuZGVmaW5lZCIsCiAgICAgICAgICBnbCA9IHRoaXMuZ2wgfHwgdGhpcy5pbml0R0woKSwKICAgICAgICAgIHBvbHlnb25fb2Zmc2V0LAogICAgICAgICAgdGV4aW5mbywgZHJhd3R5cGUsIG5jbGlwcGxhbmVzLCBmLCBucm93cywgb2xkcm93cywKICAgICAgICAgIGksaix2LHYxLHYyLCBtYXQsIHVyaSwgbWF0b2JqLCBwYXNzLCBwbW9kZSwKICAgICAgICAgIGRpbSwgbngsIG56LCBucm93OwoKICAgIG9iai5pbml0aWFsaXplZCA9IHRydWU7CgogICAgb2JqLnNvbWVIaWRkZW4gPSBmYWxzZTsgLy8gdXNlZCBpbiBzZWxlY3Rpb24KICAgIG9iai5pc190cmFuc3BhcmVudCA9IGlzX3RyYW5zcGFyZW50OwogICAgCiAgICB0aGlzLmV4cGFuZEJ1ZmZlcmVkRmllbGRzKG9iaik7CiAgICAKICAgIGlmICh0eXBlID09PSAic3Vic2NlbmUiKQogICAgICByZXR1cm47CiAgICAgIAogICAgaWYgKHR5cGUgPT09ICJiYm94ZGVjbyIpCiAgICAgIHJldHVybiB0aGlzLmluaXRCQm94KG9iaik7CiAgICAgIAogICAgaWYgKHR5cGUgPT09ICJzcGhlcmVzIiAmJiB0eXBlb2YgdGhpcy5zcGhlcmUgPT09ICJ1bmRlZmluZWQiKQogICAgICB0aGlzLmluaXRTcGhlcmUoMTYsIDE2KTsKCiAgICBpZiAodHlwZSA9PT0gImxpZ2h0IikgewogICAgICBvYmouYW1iaWVudCA9IG5ldyBGbG9hdDMyQXJyYXkob2JqLmNvbG9yc1swXS5zbGljZSgwLDMpKTsKICAgICAgb2JqLmRpZmZ1c2UgPSBuZXcgRmxvYXQzMkFycmF5KG9iai5jb2xvcnNbMV0uc2xpY2UoMCwzKSk7CiAgICAgIG9iai5zcGVjdWxhciA9IG5ldyBGbG9hdDMyQXJyYXkob2JqLmNvbG9yc1syXS5zbGljZSgwLDMpKTsKICAgICAgb2JqLmxpZ2h0RGlyID0gbmV3IEZsb2F0MzJBcnJheShvYmoudmVydGljZXNbMF0pOwogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKHR5cGUgPT09ICJjbGlwcGxhbmVzIikgewogICAgICBvYmoudkNsaXBwbGFuZSA9IHRoaXMuZmxhdHRlbih0aGlzLmNiaW5kKG9iai5ub3JtYWxzLCBvYmoub2Zmc2V0cykpOwogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKHR5cGUgPT09ICJiYWNrZ3JvdW5kIiAmJiB0eXBlb2Ygb2JqLmlkcyAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgb2JqLnF1YWQgPSB0aGlzLmZsYXR0ZW4oW10uY29uY2F0KG9iai5pZHMpKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHBvbHlnb25fb2Zmc2V0ID0gdGhpcy5nZXRNYXRlcmlhbChvYmosICJwb2x5Z29uX29mZnNldCIpOwogICAgaWYgKHBvbHlnb25fb2Zmc2V0WzBdICE9PSAwIHx8IHBvbHlnb25fb2Zmc2V0WzFdICE9PSAwKQogICAgICBvYmoucG9seWdvbl9vZmZzZXQgPSBwb2x5Z29uX29mZnNldDsKCiAgICBpZiAoaXNfdHJhbnNwYXJlbnQpIHsKICAgICAgZGVwdGhfc29ydCA9IFsidHJpYW5nbGVzIiwgInF1YWRzIiwgInN1cmZhY2UiLAogICAgICAgICAgICAgICAgICAgICJzcGhlcmVzIiwgInNwcml0ZXMiLCAidGV4dCJdLmluZGV4T2YodHlwZSkgPj0gMDsKICAgIH0KICAgIAogICAgaWYgKGlzX2JydXNoKQogICAgICB0aGlzLmluaXRTZWxlY3Rpb24ob2JqLmlkKTsKCiAgICBpZiAodHlwZW9mIG9iai52ZXJ0aWNlcyA9PT0gInVuZGVmaW5lZCIpCiAgICAgIG9iai52ZXJ0aWNlcyA9IFtdOwoKICAgIHYgPSBvYmoudmVydGljZXM7CiAgICBpZiAoaGFzX2luZGljZXMpCiAgICAgIG9iai52ZXJ0ZXhDb3VudCA9IG9iai5pbmRpY2VzLmxlbmd0aDsKICAgIGVsc2UKICAgICAgb2JqLnZlcnRleENvdW50ID0gdi5sZW5ndGg7CiAgICAgIAogICAgaWYgKCFvYmoudmVydGV4Q291bnQpIHJldHVybjsKCiAgICBpZiAoaXNfdHdvc2lkZWQgJiYgIWhhc19ub3JtYWxzKSB7CiAgICAgIGlmICh0eXBlb2Ygb2JqLnVzZXJBdHRyaWJ1dGVzID09PSAidW5kZWZpbmVkIikKICAgICAgICBvYmoudXNlckF0dHJpYnV0ZXMgPSB7fTsKICAgICAgdjEgPSBBcnJheSh2Lmxlbmd0aCk7CiAgICAgIHYyID0gQXJyYXkodi5sZW5ndGgpOwogICAgICBpZiAob2JqLnR5cGUgPT09ICJ0cmlhbmdsZXMiIHx8IG9iai50eXBlID09PSAicXVhZHMiKSB7CiAgICAgIAlpZiAob2JqLnR5cGUgPT09ICJ0cmlhbmdsZXMiKQogICAgICAJICBucm93ID0gMzsKICAgICAgCWVsc2UKICAgICAgCSAgbnJvdyA9IDQ7CiAgICAgICAgZm9yIChpPTA7IGk8TWF0aC5mbG9vcih2Lmxlbmd0aC9ucm93KTsgaSsrKQogICAgICAgICAgZm9yIChqPTA7IGo8bnJvdzsgaisrKSB7CiAgICAgICAgICAgIHYxW25yb3cqaSArIGpdID0gdltucm93KmkgKyAoKGorMSkgJSBucm93KV07CiAgICAgICAgICAgIHYyW25yb3cqaSArIGpdID0gdltucm93KmkgKyAoKGorMikgJSBucm93KV07CiAgICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAob2JqLnR5cGUgPT09ICJzdXJmYWNlIikgewogICAgICAgIGRpbSA9IG9iai5kaW1bMF07CiAgICAgICAgbnggPSBkaW1bMF07CiAgICAgICAgbnogPSBkaW1bMV07CiAgICAgICAgZm9yIChqPTA7IGo8bng7IGorKykgewogICAgICAgICAgZm9yIChpPTA7IGk8bno7IGkrKykgewogICAgICAgICAgICBpZiAoaSsxIDwgbnogJiYgaisxIDwgbngpIHsKICAgICAgICAgICAgICB2MltqICsgbngqaV0gPSB2W2ogKyBueCooaSsxKV07CiAgICAgICAgICAgICAgdjFbaiArIG54KmldID0gdltqKzEgKyBueCooaSsxKV07CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSsxIDwgbnopIHsKICAgICAgICAgICAgICB2MltqICsgbngqaV0gPSB2W2otMSArIG54KmldOwogICAgICAgICAgICAgIHYxW2ogKyBueCppXSA9IHZbaiArIG54KihpKzEpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2MltqICsgbngqaV0gPSB2W2ogKyBueCooaS0xKV07CiAgICAgICAgICAgICAgdjFbaiArIG54KmldID0gdltqLTEgKyBueCooaS0xKV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgb2JqLnVzZXJBdHRyaWJ1dGVzLmFQb3MxID0gdjE7CiAgICAgIG9iai51c2VyQXR0cmlidXRlcy5hUG9zMiA9IHYyOwogICAgfQoKICAgIGlmICghc3ByaXRlc18zZCkgewogICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpKSByZXR1cm47CiAgICAgIGlmICh0eXBlb2Ygb2JqLnByb2cgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShvYmoucHJvZyk7CiAgICAgICAgb2JqLnByb2cgPSB1bmRlZmluZWQ7CiAgICAgIH0KICAgICAgb2JqLnByb2cgPSBnbC5jcmVhdGVQcm9ncmFtKCk7CiAgICAgIGdsLmF0dGFjaFNoYWRlcihvYmoucHJvZywgdGhpcy5nZXRTaGFkZXIoIGdsLlZFUlRFWF9TSEFERVIsCiAgICAgICAgdGhpcy5nZXRWZXJ0ZXhTaGFkZXIob2JqKSApKTsKICAgICAgZ2wuYXR0YWNoU2hhZGVyKG9iai5wcm9nLCB0aGlzLmdldFNoYWRlciggZ2wuRlJBR01FTlRfU0hBREVSLAogICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRGcmFnbWVudFNoYWRlcihvYmopICkpOwogICAgICAvLyAgRm9yY2UgYVBvcyB0byBsb2NhdGlvbiAwLCBhQ29sIHRvIGxvY2F0aW9uIDEKICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKG9iai5wcm9nLCAwLCAiYVBvcyIpOwogICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24ob2JqLnByb2csIDEsICJhQ29sIik7CiAgICAgIGdsLmxpbmtQcm9ncmFtKG9iai5wcm9nKTsKICAgICAgdmFyIGxpbmtlZCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIob2JqLnByb2csIGdsLkxJTktfU1RBVFVTKTsKICAgICAgaWYgKCFsaW5rZWQpIHsKCiAgICAgICAgLy8gQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgbGlua2luZwogICAgICAgIHZhciBsYXN0RXJyb3IgPSBnbC5nZXRQcm9ncmFtSW5mb0xvZyhvYmoucHJvZyk7CiAgICAgICAgY29uc29sZS53YXJuKCJFcnJvciBpbiBwcm9ncmFtIGxpbmtpbmc6IiArIGxhc3RFcnJvcik7CgogICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ob2JqLnByb2cpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQoKICAgIGlmICh0eXBlID09PSAidGV4dCIpIHsKICAgICAgdGV4aW5mbyA9IHRoaXMuZHJhd1RleHRUb0NhbnZhcyhvYmoudGV4dHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGF0dGVuKG9iai5jZXgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhdHRlbihvYmouZmFtaWx5KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYXR0ZW4ob2JqLmZhbWlseSkpOwogICAgfQoKICAgIGlmIChmaXhlZF9xdWFkcyAmJiAhc3ByaXRlc18zZCkgewogICAgICBvYmoub2ZzTG9jID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ob2JqLnByb2csICJhT2ZzIik7CiAgICB9CgogICAgaWYgKGhhc190ZXh0dXJlIHx8IHR5cGUgPT09ICJ0ZXh0IikgewogICAgICBpZiAoIW9iai50ZXh0dXJlKSB7CiAgICAgICAgb2JqLnRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7CiAgICAgICAgLy8gVGhpcyBpcyBhIHRyaWNrIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE5NzQ4OTA1LzI1NTQzMzAgdG8gYXZvaWQgd2FybmluZ3MKICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBvYmoudGV4dHVyZSk7CiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCAxLCAxLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLAogICAgICAgICAgICAgIG5ldyBVaW50OEFycmF5KFsyNTUsMjU1LDI1NSwgMjU1XSkpOyAvLyB3aGl0ZQogICAgICB9CiAgICAgIG9iai50ZXhMb2MgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihvYmoucHJvZywgImFUZXhjb29yZCIpOwogICAgICBvYmouc2FtcGxlciA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgInVTYW1wbGVyIik7CiAgICB9CiAgICAKICAgIGlmIChoYXNfZm9nICYmICFzcHJpdGVzXzNkKSB7CiAgICAgIG9iai51Rm9nTW9kZSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgInVGb2dNb2RlIik7CiAgICAgIG9iai51Rm9nQ29sb3IgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csICJ1Rm9nQ29sb3IiKTsKICAgICAgb2JqLnVGb2dQYXJtcyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgInVGb2dQYXJtcyIpOwogICAgfQoKICAgIGlmIChoYXNfdGV4dHVyZSkgewogICAgICBtYXQgPSBvYmoubWF0ZXJpYWw7CiAgICAgIGlmICh0eXBlb2YgbWF0LnVyaSAhPT0gInVuZGVmaW5lZCIpCiAgICAgICAgdXJpID0gbWF0LnVyaTsKICAgICAgZWxzZSBpZiAodHlwZW9mIG1hdC51cmlFbGVtZW50SWQgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgbWF0b2JqID0gdGhpcy5nZXRPYmoobWF0LnVyaUlkKTsKICAgICAgICBpZiAodHlwZW9mIG1hdG9iaiAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHVyaSA9IG1hdG9iai5tYXRlcmlhbC51cmk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHVyaSA9ICIiOwogICAgICAgIH0KICAgICAgfSBlbHNlCiAgICAgICAgdXJpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWF0LnVyaUVsZW1lbnRJZCkucmdsaW5zdGFuY2UuZ2V0T2JqKG1hdC51cmlJZCkubWF0ZXJpYWwudXJpOwoKICAgICAgdGhpcy5sb2FkSW1hZ2VUb1RleHR1cmUodXJpLCBvYmoudGV4dHVyZSk7CiAgICB9CgogICAgaWYgKHR5cGUgPT09ICJ0ZXh0IikgewogICAgICB0aGlzLmhhbmRsZUxvYWRlZFRleHR1cmUob2JqLnRleHR1cmUsIHRoaXMudGV4dHVyZUNhbnZhcyk7CiAgICB9CgogICAgdmFyIHN0cmlkZSA9IDMsIG5jLCBjb2ZzLCBub2ZzLCByYWRvZnMsIG9vZnMsIHRvZnMsIHZuZXcsIGZuZXcsCiAgICAgICAgbmV4dG9mcyA9IC0xLCBwb2ludG9mcyA9IC0xLCBhbGlhcywgY29sb3JzLCBrZXksIHNlbGVjdGlvbiwKICAgICAgICBmaWx0ZXIsIGFkaiwgb2Zmc2V0LCBhdHRyLCBsYXN0LCBvcHRpb25zOwoKICAgIG9iai5hbGlhcyA9IHVuZGVmaW5lZDsKICAgIAogICAgY29sb3JzID0gb2JqLmNvbG9yczsKCiAgICBqID0gdGhpcy5zY2VuZS5jcm9zc3RhbGsuaWQuaW5kZXhPZihvYmouaWQpOwogICAgaWYgKGogPj0gMCkgewogICAgICBrZXkgPSB0aGlzLnNjZW5lLmNyb3NzdGFsay5rZXlbal07CiAgICAgIG9wdGlvbnMgPSB0aGlzLnNjZW5lLmNyb3NzdGFsay5vcHRpb25zW2pdOwogICAgICBjb2xvcnMgPSBjb2xvcnMuc2xpY2UoMCk7IAogICAgICBmb3IgKGkgPSAwOyBpIDwgdi5sZW5ndGg7IGkrKykKICAgICAgICBjb2xvcnNbaV0gPSBvYmouY29sb3JzW2kgJSBvYmouY29sb3JzLmxlbmd0aF0uc2xpY2UoMCk7CiAgICAgIGlmICggKHNlbGVjdGlvbiA9IHRoaXMuc2NlbmUuY3Jvc3N0YWxrLnNlbGVjdGlvbikgJiYKICAgICAgICAgICAoc2VsZWN0aW9uLmxlbmd0aCB8fCAhb3B0aW9ucy5zZWxlY3RlZElnbm9yZU5vbmUpICkKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdi5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKCFzZWxlY3Rpb24uaW5jbHVkZXMoa2V5W2ldKSkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5kZXNlbGVjdGVkQ29sb3IpCiAgICAgICAgICAgICAgY29sb3JzW2ldID0gb3B0aW9ucy5kZXNlbGVjdGVkQ29sb3Iuc2xpY2UoMCk7CiAgICAgICAgICAgIGNvbG9yc1tpXVszXSA9IGNvbG9yc1tpXVszXSpvcHRpb25zLmRlc2VsZWN0ZWRGYWRlOyAgIC8qIGRlZmF1bHQ6IG1vc3RseSB0cmFuc3BhcmVudCBpZiBub3Qgc2VsZWN0ZWQgKi8KICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5zZWxlY3RlZENvbG9yKQogICAgICAgICAgICBjb2xvcnNbaV0gPSBvcHRpb25zLnNlbGVjdGVkQ29sb3Iuc2xpY2UoMCk7CiAgICAgICAgfQogICAgICBpZiAoIChmaWx0ZXIgPSB0aGlzLnNjZW5lLmNyb3NzdGFsay5maWx0ZXIpICkKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdi5sZW5ndGg7IGkrKykgCiAgICAgICAgICBpZiAoIWZpbHRlci5pbmNsdWRlcyhrZXlbaV0pKSB7CiAgICAgICAgICAgIGlmIChvcHRpb25zLmZpbHRlcmVkQ29sb3IpCiAgICAgICAgICAgICAgY29sb3JzW2ldID0gb3B0aW9ucy5maWx0ZXJlZENvbG9yLnNsaWNlKDApOwogICAgICAgICAgICBjb2xvcnNbaV1bM10gPSBjb2xvcnNbaV1bM10qb3B0aW9ucy5maWx0ZXJlZEZhZGU7ICAgLyogZGVmYXVsdDogY29tcGxldGVseSBoaWRkZW4gaWYgZmlsdGVyZWQgKi8KICAgICAgICAgIH0KICAgIH0gIAogICAgCiAgICBuYyA9IG9iai5jb2xvckNvdW50ID0gY29sb3JzLmxlbmd0aDsKICAgIGlmIChuYyA+IDEpIHsKICAgICAgY29mcyA9IHN0cmlkZTsKICAgICAgc3RyaWRlID0gc3RyaWRlICsgNDsKICAgICAgdiA9IHRoaXMuY2JpbmQodiwgY29sb3JzKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvZnMgPSAtMTsKICAgICAgb2JqLm9uZWNvbG9yID0gdGhpcy5mbGF0dGVuKGNvbG9ycyk7CiAgICB9CgogICAgaWYgKGhhc19ub3JtYWxzICYmIG9iai50eXBlICE9PSAic3BoZXJlcyIpIHsKICAgICAgbm9mcyA9IHN0cmlkZTsKICAgICAgc3RyaWRlID0gc3RyaWRlICsgMzsKICAgICAgdiA9IHRoaXMuY2JpbmQodiwgdHlwZW9mIG9iai5wbm9ybWFscyAhPT0gInVuZGVmaW5lZCIgPyBvYmoucG5vcm1hbHMgOiBvYmoubm9ybWFscyk7CiAgICB9IGVsc2UKICAgICAgbm9mcyA9IC0xOwoKICAgIGlmICh0eXBlb2Ygb2JqLnJhZGlpICE9PSAidW5kZWZpbmVkIikgewogICAgICByYWRvZnMgPSBzdHJpZGU7CiAgICAgIHN0cmlkZSA9IHN0cmlkZSArIDE7CiAgICAgIC8vIEZJWE1FOiAgYWx3YXlzIGNvbmNhdCB0aGUgcmFkaWk/CiAgICAgIGlmIChvYmoucmFkaWkubGVuZ3RoID09PSB2Lmxlbmd0aCkgewogICAgICAgIHYgPSB0aGlzLmNiaW5kKHYsIG9iai5yYWRpaSk7CiAgICAgIH0gZWxzZSBpZiAob2JqLnJhZGlpLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHYgPSB2Lm1hcChmdW5jdGlvbihyb3cpIHsgcmV0dXJuIHJvdy5jb25jYXQob2JqLnJhZGlpWzBdKTt9KTsKICAgICAgfQogICAgfSBlbHNlCiAgICAgIHJhZG9mcyA9IC0xOwogICAgICAKICAgIC8vIEFkZCBkZWZhdWx0IGluZGljZXMKICAgIGlmIChoYXNfaW5kaWNlcykgewogICAgICBmID0gQXJyYXkob2JqLmluZGljZXMubGVuZ3RoKTsKICAgICAgZm9yIChpID0gMDsgaSA8IGYubGVuZ3RoOyBpKyspCiAgICAgICAgZltpXSA9IG9iai5pbmRpY2VzW2ldIC0gMTsKICAgIH0gZWxzZSB7CiAgICAgIGYgPSBBcnJheSh2Lmxlbmd0aCk7CiAgICAgIGZvciAoaSA9IDA7IGkgPCB2Lmxlbmd0aDsgaSsrKQogICAgICAgIGZbaV0gPSBpOwogICAgfQogICAgb2JqLmYgPSBbZixmXTsKCiAgICBpZiAodHlwZSA9PT0gInNwcml0ZXMiICYmICFzcHJpdGVzXzNkKSB7CiAgICAgIHRvZnMgPSBzdHJpZGU7CiAgICAgIHN0cmlkZSArPSAyOwogICAgICBvb2ZzID0gc3RyaWRlOwogICAgICBzdHJpZGUgKz0gMzsKICAgICAgdm5ldyA9IG5ldyBBcnJheSg0KnYubGVuZ3RoKTsKICAgICAgZm5ldyA9IG5ldyBBcnJheSg0KnYubGVuZ3RoKTsKICAgICAgYWxpYXMgPSBuZXcgQXJyYXkodi5sZW5ndGgpOwogICAgICB2YXIgcmVzY2FsZSA9IGZpeGVkX3NpemUgPyA3MiA6IDEsCiAgICAgICAgICBzaXplID0gb2JqLnJhZGlpLCBzID0gcmVzY2FsZSpzaXplWzBdLzI7CiAgICAgIGxhc3QgPSB2Lmxlbmd0aDsKICAgICAgZiA9IG9iai5mWzBdOwogICAgICBvYmouYWRqID0gdGhpcy5mbGF0dGVuKG9iai5hZGopOwogICAgICBpZiAodHlwZW9mIG9iai5wb3MgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgb2JqLnBvcyA9IHRoaXMuZmxhdHRlbihvYmoucG9zKTsKICAgICAgICBvZmZzZXQgPSBvYmouYWRqWzBdOwogICAgICB9IGVsc2UKICAgICAgICBvZmZzZXQgPSAwOwogICAgICBmb3IgKGk9MDsgaSA8IHYubGVuZ3RoOyBpKyspIHsKICAgICAgICBhZGogPSB0aGlzLmdldEFkaihvYmosIGksIG9mZnNldCk7CiAgICAgICAgaWYgKHNpemUubGVuZ3RoID4gMSkKICAgICAgICAgIHMgPSByZXNjYWxlKnNpemVbaV0vMjsKICAgICAgICBhZGpbMF0gPSAyKnMqKGFkalswXSAtIDAuNSk7CiAgICAgICAgYWRqWzFdID0gMipzKihhZGpbMV0gLSAwLjUpOwogICAgICAgIGFkalsyXSA9IDIqcyooYWRqWzJdIC0gMC41KTsKICAgICAgICB2bmV3W2ldICA9IHZbaV0uY29uY2F0KFswLDBdKS5jb25jYXQoWy1zLWFkalswXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC1zLWFkalsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC1hZGpbMl1dKTsKICAgICAgICBmbmV3WzQqaV0gPSBmW2ldOwogICAgICAgIHZuZXdbbGFzdF09IHZbaV0uY29uY2F0KFsxLDBdKS5jb25jYXQoW3MtYWRqWzBdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLXMtYWRqWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLWFkalsyXV0pOwogICAgICAgIGZuZXdbNCppKzFdID0gbGFzdCsrOwogICAgICAgIHZuZXdbbGFzdF09IHZbaV0uY29uY2F0KFsxLDFdKS5jb25jYXQoW3MtYWRqWzBdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMtYWRqWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC1hZGpbMl1dKTsKICAgICAgICBmbmV3WzQqaSsyXSA9IGxhc3QrKzsKICAgICAgICB2bmV3W2xhc3RdPSB2W2ldLmNvbmNhdChbMCwxXSkuY29uY2F0KFstcy1hZGpbMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMtYWRqWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtYWRqWzJdXSk7CiAgICAgICAgZm5ld1s0KmkrM10gPSBsYXN0Kys7CiAgICAgICAgYWxpYXNbaV0gPSBbbGFzdC0zLCBsYXN0LTIsIGxhc3QtMV07CiAgICAgIH0KICAgICAgdiA9IHZuZXc7CiAgICAgIG9iai52ZXJ0ZXhDb3VudCA9IHYubGVuZ3RoOwogICAgICBvYmouZiA9IFtmbmV3LCBmbmV3XTsKICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gInRleHQiKSB7CiAgICAgIHRvZnMgPSBzdHJpZGU7CiAgICAgIHN0cmlkZSArPSAyOwogICAgICBvb2ZzID0gc3RyaWRlOwogICAgICBzdHJpZGUgKz0gMzsKICAgICAgdm5ldyA9IG5ldyBBcnJheSg0KnYubGVuZ3RoKTsKICAgICAgZiA9IG9iai5mWzBdOwogICAgICBmbmV3ID0gbmV3IEFycmF5KDQqZi5sZW5ndGgpOwogICAgICBhbGlhcyA9IG5ldyBBcnJheSh2Lmxlbmd0aCk7CiAgICAgIGxhc3QgPSB2Lmxlbmd0aDsKICAgICAgYWRqID0gdGhpcy5mbGF0dGVuKG9iai5hZGopOwogICAgICBpZiAodHlwZW9mIG9iai5wb3MgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgb2JqLnBvcyA9IHRoaXMuZmxhdHRlbihvYmoucG9zKTsKICAgICAgICBvZmZzZXQgPSBhZGpbMF07CiAgICAgIH0gZWxzZQogICAgICAgIG9mZnNldCA9IDA7CiAgICAgIGZvciAoaT0wOyBpIDwgdi5sZW5ndGg7IGkrKykgewogICAgICAgIGFkaiA9IHRoaXMuZ2V0QWRqKG9iaiwgaSwgb2Zmc2V0LCBvYmoudGV4dHNbaV0pOwogICAgICAgIHZuZXdbaV0gID0gdltpXS5jb25jYXQoWzAsLTAuNV0pLmNvbmNhdChhZGopOwogICAgICAgIGZuZXdbNCppXSA9IGZbaV07CiAgICAgICAgdm5ld1tsYXN0XSA9IHZbaV0uY29uY2F0KFsxLC0wLjVdKS5jb25jYXQoYWRqKTsKICAgICAgICBmbmV3WzQqaSsxXSA9IGxhc3QrKzsKICAgICAgICB2bmV3W2xhc3RdID0gdltpXS5jb25jYXQoWzEsIDEuNV0pLmNvbmNhdChhZGopOwogICAgICAgIGZuZXdbNCppKzJdID0gbGFzdCsrOwogICAgICAgIHZuZXdbbGFzdF0gPSB2W2ldLmNvbmNhdChbMCwgMS41XSkuY29uY2F0KGFkaik7CiAgICAgICAgZm5ld1s0KmkrM10gPSBsYXN0Kys7CiAgICAgICAgYWxpYXNbaV0gPSBbbGFzdC0zLCBsYXN0LTIsIGxhc3QtMV07CiAgICAgICAgZm9yIChqPTA7IGogPCA0OyBqKyspIHsKICAgICAgICAgIHYxID0gdm5ld1tmbmV3WzQqaStqXV07CiAgICAgICAgICB2MVt0b2ZzKzJdID0gMioodjFbdG9mc10tdjFbdG9mcysyXSkqdGV4aW5mby53aWR0aHNbaV07CiAgICAgICAgICB2MVt0b2ZzKzNdID0gMioodjFbdG9mcysxXS12MVt0b2ZzKzNdKSp0ZXhpbmZvLnRleHRIZWlnaHRzW2ldOwogICAgICAgICAgdjFbdG9mc10gPSAodGV4aW5mby5vZmZzZXRzeFtpXSArIHYxW3RvZnNdKnRleGluZm8ud2lkdGhzW2ldKS90ZXhpbmZvLmNhbnZhc1g7CiAgICAgICAgICB2MVt0b2ZzKzFdID0gMS4wLSh0ZXhpbmZvLm9mZnNldHN5W2ldIC0KICAgICAgICAgICAgICB2MVt0b2ZzKzFdKnRleGluZm8udGV4dEhlaWdodHNbaV0pL3RleGluZm8uY2FudmFzWTsKICAgICAgICAgIHZuZXdbZm5ld1s0Kmkral1dID0gdjE7CiAgICAgICAgfQogICAgICB9CiAgICAgIHYgPSB2bmV3OwogICAgICBvYmoudmVydGV4Q291bnQgPSB2Lmxlbmd0aDsKICAgICAgb2JqLmYgPSBbZm5ldywgZm5ld107CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmoudGV4Y29vcmRzICE9PSAidW5kZWZpbmVkIikgewogICAgICB0b2ZzID0gc3RyaWRlOwogICAgICBzdHJpZGUgKz0gMjsKICAgICAgb29mcyA9IC0xOwogICAgICB2ID0gdGhpcy5jYmluZCh2LCBvYmoudGV4Y29vcmRzKTsKICAgIH0gZWxzZSB7CiAgICAgIHRvZnMgPSAtMTsKICAgICAgb29mcyA9IC0xOwogICAgfQogICAgCiAgICBvYmouYWxpYXMgPSBhbGlhczsKICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgIGlmICh0eXBlb2Ygb2JqLnVzZXJBdHRyaWJ1dGVzICE9PSAidW5kZWZpbmVkIikgewogICAgICBvYmoudXNlckF0dHJpYk9mZnNldHMgPSB7fTsKICAgICAgb2JqLnVzZXJBdHRyaWJMb2NhdGlvbnMgPSB7fTsKICAgICAgb2JqLnVzZXJBdHRyaWJTaXplcyA9IHt9OwogICAgICBmb3IgKGF0dHIgaW4gb2JqLnVzZXJBdHRyaWJ1dGVzKSB7CiAgICAgIAlvYmoudXNlckF0dHJpYkxvY2F0aW9uc1thdHRyXSA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKG9iai5wcm9nLCBhdHRyKTsKICAgICAgCWlmIChvYmoudXNlckF0dHJpYkxvY2F0aW9uc1thdHRyXSA+PSAwKSB7IC8vIEF0dHJpYnV0ZSBtYXkgbm90IGhhdmUgYmVlbiB1c2VkCiAgICAgIAkgIG9iai51c2VyQXR0cmliT2Zmc2V0c1thdHRyXSA9IHN0cmlkZTsKICAgICAgCSAgdiA9IHRoaXMuY2JpbmQodiwgb2JqLnVzZXJBdHRyaWJ1dGVzW2F0dHJdKTsKICAgICAgCSAgc3RyaWRlID0gdlswXS5sZW5ndGg7CiAgICAgIAkgIG9iai51c2VyQXR0cmliU2l6ZXNbYXR0cl0gPSBzdHJpZGUgLSBvYmoudXNlckF0dHJpYk9mZnNldHNbYXR0cl07CiAgICAgIAl9CiAgICAgIH0KICAgIH0KCiAgICBpZiAodHlwZW9mIG9iai51c2VyVW5pZm9ybXMgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgIG9iai51c2VyVW5pZm9ybUxvY2F0aW9ucyA9IHt9OwogICAgICBmb3IgKGF0dHIgaW4gb2JqLnVzZXJVbmlmb3JtcykKICAgICAgICBvYmoudXNlclVuaWZvcm1Mb2NhdGlvbnNbYXR0cl0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csIGF0dHIpOwogICAgfQoKICAgIGlmIChzcHJpdGVzXzNkKSB7CiAgICAgIG9iai51c2VyTWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgICAgb2JqLnVzZXJNYXRyaXgubG9hZCh0aGlzLmZsYXR0ZW4ob2JqLnVzZXJtYXRyaXgpKTsKICAgICAgb2JqLm9iamVjdHMgPSB0aGlzLmZsYXR0ZW4oW10uY29uY2F0KG9iai5pZHMpKTsKICAgICAgaXNfbGl0ID0gZmFsc2U7CiAgICAgIG9iai5hZGogPSB0aGlzLmZsYXR0ZW4ob2JqLmFkaik7CiAgICAgIGlmICh0eXBlb2Ygb2JqLnBvcyAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBvYmoucG9zID0gdGhpcy5mbGF0dGVuKG9iai5wb3MpOwogICAgICAgIG9iai5vZmZzZXQgPSBvYmouYWRqWzBdOwogICAgICB9IGVsc2UKICAgICAgICBvYmoub2Zmc2V0ID0gMDsKICAgICAgICAKICAgICAgZm9yIChpPTA7IGkgPCBvYmoub2JqZWN0cy5sZW5ndGg7IGkrKykKICAgICAgICB0aGlzLmluaXRPYmpJZChvYmoub2JqZWN0c1tpXSk7CiAgICB9CgogICAgaWYgKGlzX2xpdCAmJiAhZml4ZWRfcXVhZHMpIHsKICAgICAgIG9iai5ub3JtTG9jID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ob2JqLnByb2csICJhTm9ybSIpOwogICAgfQoKICAgIG5jbGlwcGxhbmVzID0gdGhpcy5jb3VudENsaXBwbGFuZXMoKTsKICAgIGlmIChuY2xpcHBsYW5lcyAmJiAhc3ByaXRlc18zZCkgewogICAgICBvYmouY2xpcExvYyA9IFtdOwogICAgICBmb3IgKGk9MDsgaSA8IG5jbGlwcGxhbmVzOyBpKyspCiAgICAgICAgb2JqLmNsaXBMb2NbaV0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csInZDbGlwcGxhbmUiICsgaSk7CiAgICB9CgogICAgaWYgKGlzX2xpdCkgewogICAgICBvYmouZW1pc3Npb25Mb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csICJlbWlzc2lvbiIpOwogICAgICBvYmouZW1pc3Npb24gPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuc3RyaW5nVG9SZ2IodGhpcy5nZXRNYXRlcmlhbChvYmosICJlbWlzc2lvbiIpKSk7CiAgICAgIG9iai5zaGluaW5lc3NMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csICJzaGluaW5lc3MiKTsKICAgICAgb2JqLnNoaW5pbmVzcyA9IHRoaXMuZ2V0TWF0ZXJpYWwob2JqLCAic2hpbmluZXNzIik7CiAgICAgIG9iai5ubGlnaHRzID0gdGhpcy5jb3VudExpZ2h0cygpOwogICAgICBvYmouYW1iaWVudExvYyA9IFtdOwogICAgICBvYmouYW1iaWVudCA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5zdHJpbmdUb1JnYih0aGlzLmdldE1hdGVyaWFsKG9iaiwgImFtYmllbnQiKSkpOwogICAgICBvYmouc3BlY3VsYXJMb2MgPSBbXTsKICAgICAgb2JqLnNwZWN1bGFyID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnN0cmluZ1RvUmdiKHRoaXMuZ2V0TWF0ZXJpYWwob2JqLCAic3BlY3VsYXIiKSkpOwogICAgICBvYmouZGlmZnVzZUxvYyA9IFtdOwogICAgICBvYmoubGlnaHREaXJMb2MgPSBbXTsKICAgICAgb2JqLnZpZXdwb2ludExvYyA9IFtdOwogICAgICBvYmouZmluaXRlTG9jID0gW107CiAgICAgIGZvciAoaT0wOyBpIDwgb2JqLm5saWdodHM7IGkrKykgewogICAgICAgIG9iai5hbWJpZW50TG9jW2ldID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG9iai5wcm9nLCAiYW1iaWVudCIgKyBpKTsKICAgICAgICBvYmouc3BlY3VsYXJMb2NbaV0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csICJzcGVjdWxhciIgKyBpKTsKICAgICAgICBvYmouZGlmZnVzZUxvY1tpXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgImRpZmZ1c2UiICsgaSk7CiAgICAgICAgb2JqLmxpZ2h0RGlyTG9jW2ldID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG9iai5wcm9nLCAibGlnaHREaXIiICsgaSk7CiAgICAgICAgb2JqLnZpZXdwb2ludExvY1tpXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgInZpZXdwb2ludCIgKyBpKTsKICAgICAgICBvYmouZmluaXRlTG9jW2ldID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG9iai5wcm9nLCAiZmluaXRlIiArIGkpOwogICAgICB9CiAgICB9CiAgICAKICAgIG9iai5wYXNzZXMgPSBpc190d29zaWRlZCArIDE7CiAgICBvYmoucG1vZGUgPSBuZXcgQXJyYXkob2JqLnBhc3Nlcyk7CiAgICBmb3IgKHBhc3MgPSAwOyBwYXNzIDwgb2JqLnBhc3NlczsgcGFzcysrKSB7CiAgICAgIGlmICh0eXBlID09PSAidHJpYW5nbGVzIiB8fCB0eXBlID09PSAicXVhZHMiIHx8IHR5cGUgPT09ICJzdXJmYWNlIiB8fCB0eXBlID09PSAic3BoZXJlcyIpCiAgICAgIAlwbW9kZSA9IHRoaXMuZ2V0TWF0ZXJpYWwob2JqLCAocGFzcyA9PT0gMCkgPyAiZnJvbnQiIDogImJhY2siKTsKICAgICAgZWxzZSBwbW9kZSA9ICJmaWxsZWQiOwogICAgICBvYmoucG1vZGVbcGFzc10gPSBwbW9kZTsKICAgIH0KICAgIGlmICh0eXBlICE9PSAic3BoZXJlcyIpIHsKICAgICAgb2JqLmYubGVuZ3RoID0gb2JqLnBhc3NlczsKICAgICAgZm9yIChwYXNzID0gMDsgcGFzcyA8IG9iai5wYXNzZXM7IHBhc3MrKykgewogICAgICAJZiA9IGZuZXcgPSBvYmouZltwYXNzXTsKICAgICAgICBwbW9kZSA9IG9iai5wbW9kZVtwYXNzXTsKICAgICAgCWlmIChwbW9kZSA9PT0gImN1bGxlZCIpCiAgICAgIAkgIGYgPSBbXTsKICAgICAgICBlbHNlIGlmIChwbW9kZSA9PT0gInBvaW50cyIpIHsKICAgICAgICAgIC8vIHN0YXkgd2l0aCBkZWZhdWx0CiAgICAgICAgfSBlbHNlIGlmICgodHlwZSA9PT0gInF1YWRzIiB8fCB0eXBlID09PSAidGV4dCIgfHwKICAgICAgICAgICAgIHR5cGUgPT09ICJzcHJpdGVzIikgJiYgIXNwcml0ZXNfM2QpIHsKICAgICAgICAgIG5yb3dzID0gTWF0aC5mbG9vcihvYmoudmVydGV4Q291bnQvNCk7CiAgICAgICAgICBpZiAocG1vZGUgPT09ICJmaWxsZWQiKSB7CiAgICAgICAgICAgIGZuZXcgPSBBcnJheSg2Km5yb3dzKTsKICAgICAgICAgICAgZm9yIChpPTA7IGkgPCBucm93czsgaSsrKSB7CiAgICAgICAgICAgICAgZm5ld1s2KmldID0gZls0KmldOwogICAgICAgICAgICAgIGZuZXdbNippKzFdID0gZls0KmkgKyAxXTsKICAgICAgICAgICAgICBmbmV3WzYqaSsyXSA9IGZbNCppICsgMl07CiAgICAgICAgICAgICAgZm5ld1s2KmkrM10gPSBmWzQqaV07CiAgICAgICAgICAgICAgZm5ld1s2KmkrNF0gPSBmWzQqaSArIDJdOwogICAgICAgICAgICAgIGZuZXdbNippKzVdID0gZls0KmkgKyAzXTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm5ldyA9IEFycmF5KDgqbnJvd3MpOwogICAgICAgICAgICBmb3IgKGk9MDsgaSA8IG5yb3dzOyBpKyspIHsKICAgICAgICAgICAgICBmbmV3WzgqaV0gPSBmWzQqaV07CiAgICAgICAgICAgICAgZm5ld1s4KmkrMV0gPSBmWzQqaSArIDFdOwogICAgICAgICAgICAgIGZuZXdbOCppKzJdID0gZls0KmkgKyAxXTsKICAgICAgICAgICAgICBmbmV3WzgqaSszXSA9IGZbNCppICsgMl07CiAgICAgICAgICAgICAgZm5ld1s4KmkrNF0gPSBmWzQqaSArIDJdOwogICAgICAgICAgICAgIGZuZXdbOCppKzVdID0gZls0KmkgKyAzXTsKICAgICAgICAgICAgICBmbmV3WzgqaSs2XSA9IGZbNCppICsgM107CiAgICAgICAgICAgICAgZm5ld1s4KmkrN10gPSBmWzQqaV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJ0cmlhbmdsZXMiKSB7CiAgICAgICAgICBucm93cyA9IE1hdGguZmxvb3Iob2JqLnZlcnRleENvdW50LzMpOwogICAgICAgICAgaWYgKHBtb2RlID09PSAiZmlsbGVkIikgewogICAgICAgICAgICBmbmV3ID0gQXJyYXkoMypucm93cyk7CiAgICAgICAgICAgIGZvciAoaT0wOyBpIDwgZm5ldy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGZuZXdbaV0gPSBmW2ldOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKHBtb2RlID09PSAibGluZXMiKSB7CiAgICAgICAgICAgIGZuZXcgPSBBcnJheSg2Km5yb3dzKTsKICAgICAgCSAgICBmb3IgKGk9MDsgaSA8IG5yb3dzOyBpKyspIHsKICAgICAgCSAgICAgIGZuZXdbNippXSA9IGZbMyppXTsKICAgICAgCSAgICAgIGZuZXdbNippICsgMV0gPSBmWzMqaSArIDFdOwogICAgICAJICAgICAgZm5ld1s2KmkgKyAyXSA9IGZbMyppICsgMV07CiAgICAgIAkgICAgICBmbmV3WzYqaSArIDNdID0gZlszKmkgKyAyXTsKICAgICAgCSAgICAgIGZuZXdbNippICsgNF0gPSBmWzMqaSArIDJdOwogICAgICAJICAgICAgZm5ld1s2KmkgKyA1XSA9IGZbMyppXTsKICAgICAgCSAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAic3BoZXJlcyIpIHsKICAgICAgICAgIC8vIGRlZmF1bHQKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJzdXJmYWNlIikgewogICAgICAgICAgZGltID0gb2JqLmRpbVswXTsKICAgICAgICAgIG54ID0gZGltWzBdOwogICAgICAgICAgbnogPSBkaW1bMV07CiAgICAgICAgICBpZiAocG1vZGUgPT09ICJmaWxsZWQiKSB7CiAgICAgICAgICAgIGZuZXcgPSBbXTsKICAgICAgICAgICAgZm9yIChqPTA7IGo8bngtMTsgaisrKSB7CiAgICAgICAgICAgICAgZm9yIChpPTA7IGk8bnotMTsgaSsrKSB7CiAgICAgICAgICAgICAgICBmbmV3LnB1c2goZltqICsgbngqaV0sCiAgICAgICAgICAgICAgICAgICAgICAgZltqICsgbngqKGkrMSldLAogICAgICAgICAgICAgICAgICAgICAgIGZbaiArIDEgKyBueCooaSsxKV0sCiAgICAgICAgICAgICAgICAgICAgICAgZltqICsgbngqaV0sCiAgICAgICAgICAgICAgICAgICAgICAgZltqICsgMSArIG54KihpKzEpXSwKICAgICAgICAgICAgICAgICAgICAgICBmW2ogKyAxICsgbngqaV0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChwbW9kZSA9PT0gImxpbmVzIikgewogICAgICAgICAgICBmbmV3ID0gW107CiAgICAgICAgICAgIGZvciAoaj0wOyBqPG54OyBqKyspIHsKICAgICAgICAgICAgICBmb3IgKGk9MDsgaTxuejsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAoaSsxIDwgbnopCiAgICAgICAgICAgICAgICAgIGZuZXcucHVzaChmW2ogKyBueCppXSwKICAgICAgICAgICAgICAgICAgICAgICAgIGZbaiArIG54KihpKzEpXSk7CiAgICAgICAgICAgICAgICBpZiAoaisxIDwgbngpCiAgICAgICAgICAgICAgICAgIGZuZXcucHVzaChmW2ogKyBueCppXSwKICAgICAgICAgICAgICAgICAgICAgICAgIGZbaisxICsgbngqaV0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBvYmouZltwYXNzXSA9IGZuZXc7CiAgICAgICAgaWYgKGRlcHRoX3NvcnQpIHsKICAgICAgICAgIGRyYXd0eXBlID0gIkRZTkFNSUNfRFJBVyI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRyYXd0eXBlID0gIlNUQVRJQ19EUkFXIjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIAogICAgaWYgKGZhdF9saW5lcykgewogICAgICBhbGlhcyA9IHVuZGVmaW5lZDsKICAgICAgb2JqLm5leHRMb2MgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihvYmoucHJvZywgImFOZXh0Iik7CiAgICAgIG9iai5wb2ludExvYyA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKG9iai5wcm9nLCAiYVBvaW50Iik7CiAgICAgIG9iai5hc3BlY3RMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csICJ1QXNwZWN0Iik7CiAgICAgIG9iai5sd2RMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csICJ1THdkIik7CiAgICAgIC8vIEV4cGFuZCB2ZXJ0aWNlcyB0byB0dXJuIGVhY2ggc2VnbWVudCBpbnRvIGEgcGFpciBvZiB0cmlhbmdsZXMKICAgICAgICAKICAgICAgCWZvciAocGFzcyA9IDA7IHBhc3MgPCBvYmoucGFzc2VzOyBwYXNzKyspIHsKICAgICAgCSAgZiA9IG9iai5mW3Bhc3NdOwkKICAgICAgICAgIG9sZHJvd3MgPSBmLmxlbmd0aDsKICAgICAgCSAgaWYgKG9iai5wbW9kZVtwYXNzXSA9PT0gImxpbmVzIikgCiAgICAgIAkgICAgYnJlYWs7CiAgICAgIAl9CiAgICAgIAogICAgICBpZiAodHlwZSA9PT0gImxpbmVzdHJpcCIpIAogICAgICAgIG5yb3dzID0gNCoob2xkcm93cyAtIDEpOyAKICAgICAgZWxzZQogICAgICAgIG5yb3dzID0gMipvbGRyb3dzOwogICAgICB2bmV3ID0gbmV3IEFycmF5KG5yb3dzKTsKICAgICAgZm5ldyA9IG5ldyBBcnJheSgxLjUqbnJvd3MpOwogICAgICAKICAgICAgLy8gV2UncmUgZ29pbmcgdG8gdHVybiBlYWNoIHBhaXIgb2YgdmVydGljZXMgaW50byA0IG5ldyBvbmVzLCB3aXRoIHRoZSAibmV4dCIgYW5kICJwdCIgYXR0cmlidXRlcwogICAgICAvLyBhZGRlZC4KICAgICAgLy8gV2UgZG8gdGhpcyBieSBjb3B5aW5nIHRoZSBvcmlnaW5hbHMgaW4gdGhlIGZpcnN0IHBhc3MsIGFkZGluZyB0aGUgbmV3IGF0dHJpYnV0ZXMsIHRoZW4gaW4gYSAKICAgICAgLy8gc2Vjb25kIHBhc3MgYWRkIG5ldyB2ZXJ0aWNlcyBhdCB0aGUgZW5kLgoKICAgICAgZm9yIChpID0gMDsgaSA8IHYubGVuZ3RoOyBpKyspIHsKICAgICAgICB2bmV3W2ldID0gdltpXS5jb25jYXQoWzAsMCwwLDAsMF0pOyAKICAgICAgfQoKICAgICAgbmV4dG9mcyA9IHN0cmlkZTsKICAgICAgcG9pbnRvZnMgPSBzdHJpZGUgKyAzOwogICAgICBzdHJpZGUgPSBzdHJpZGUgKyA1OwogICAgICAgICAgICAKICAgICAgLy8gTm93IGFkZCB0aGUgZXh0cmFzCiAgICAgIHZhciBpbmQsIGs7CiAgICAgIGxhc3QgPSB2Lmxlbmd0aCAtIDE7CiAgICAgIGluZCA9IDA7CiAgICAgIGFsaWFzID0gbmV3IEFycmF5KGYubGVuZ3RoKTsKICAgICAgZm9yIChpID0gMDsgaSA8IGYubGVuZ3RoOyBpKyspCiAgICAgICAgYWxpYXNbaV0gPSBbXTsKICAgICAgZm9yIChpID0gMDsgaSA8IGYubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgIAlpZiAodHlwZSAhPT0gImxpbmVzdHJpcCIgJiYgaSAlIDIgPT09IDEpCiAgICAgIAkgIGNvbnRpbnVlOwogICAgICAJayA9ICsrbGFzdDsKICAgICAgCXZuZXdba10gPSB2bmV3W2ZbaV1dLnNsaWNlKCk7CiAgICAgIAlmb3IgKGo9MDsgajwzOyBqKyspCiAgICAgIAkgIHZuZXdba11bbmV4dG9mcyArIGpdID0gdm5ld1tmW2krMV1dW2pdOwogICAgICAJdm5ld1trXVtwb2ludG9mc10gPSAtMTsKICAgICAgCXZuZXdba11bcG9pbnRvZnMrMV0gPSAtMTsKICAgICAgCWZuZXdbaW5kXSA9IGs7CiAgICAgIAlsYXN0Kys7CiAgICAgIAl2bmV3W2xhc3RdID0gdm5ld1trXS5zbGljZSgpOwogICAgICAJdm5ld1tsYXN0XVtwb2ludG9mc10gPSAxOwogICAgICAJZm5ld1tpbmQrMV0gPSBsYXN0OwogICAgICAJYWxpYXNbZltpXV0ucHVzaChsYXN0LTEsIGxhc3QpOwogICAgICAJbGFzdCsrOwogICAgICAJayA9IGxhc3Q7CiAgICAgIAl2bmV3W2tdID0gdm5ld1tmW2krMV1dLnNsaWNlKCk7CiAgICAgIAlmb3IgKGo9MDsgajwzOyBqKyspCiAgICAgIAkgIHZuZXdba11bbmV4dG9mcyArIGpdID0gdm5ld1tmW2ldXVtqXTsKICAgICAgCXZuZXdba11bcG9pbnRvZnNdID0gLTE7CiAgICAgIAl2bmV3W2tdW3BvaW50b2ZzKzFdID0gMTsKICAgICAgCWZuZXdbaW5kKzJdID0gazsKICAgICAgCWZuZXdbaW5kKzNdID0gZm5ld1tpbmQrMV07CiAgICAgIAlsYXN0Kys7CiAgICAgIAl2bmV3W2xhc3RdID0gdm5ld1trXS5zbGljZSgpOwogICAgICAJdm5ld1tsYXN0XVtwb2ludG9mc10gPSAxOwogICAgICAJZm5ld1tpbmQrNF0gPSBsYXN0OwogICAgICAJZm5ld1tpbmQrNV0gPSBmbmV3W2luZCsyXTsKICAgICAgCWluZCArPSA2OwogICAgICAJYWxpYXNbZltpKzFdXS5wdXNoKGxhc3QtMSwgbGFzdCk7CiAgICAgIH0KICAgICAgdm5ldy5sZW5ndGggPSBsYXN0KzE7CiAgICAgIHYgPSB2bmV3OwogICAgICBvYmoudmVydGV4Q291bnQgPSB2Lmxlbmd0aDsKICAgICAgaWYgKHR5cGVvZiBhbGlhcyAhPT0gInVuZGVmaW5lZCIgJiYgdHlwZW9mIG9iai5hbGlhcyAhPT0gInVuZGVmaW5lZCIpIHsgIC8vIEFscmVhZHkgaGF2ZSBhbGlhc2VzIGZyb20gcHJldmlvdXMgc2VjdGlvbj8KICAgICAgICB2YXIgb2xkYWxpYXMgPSBvYmouYWxpYXMsIG5ld2FsaWFzID0gQXJyYXkob2JqLmFsaWFzLmxlbmd0aCk7CiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5ld2FsaWFzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBuZXdhbGlhc1tpXSA9IG9sZGFsaWFzW2ldLnNsaWNlKCk7CiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgb2xkYWxpYXNbaV0ubGVuZ3RoOyBqKyspCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG5ld2FsaWFzW2ldLCBhbGlhc1tvbGRhbGlhc1tqXV0pOyAvLyBwdXNoZXMgZWFjaCBlbGVtZW50IAogICAgICAgIH0KICAgICAgICBvYmouYWxpYXMgPSBuZXdhbGlhczsKICAgICAgfSBlbHNlCiAgICAgICAgb2JqLmFsaWFzID0gYWxpYXM7CiAgICAgIAogICAgICBmb3IgKHBhc3MgPSAwOyBwYXNzIDwgb2JqLnBhc3NlczsgcGFzcysrKQogICAgICAJaWYgKHR5cGUgPT09ICJsaW5lcyIgfHwgdHlwZSA9PT0gImxpbmVzdHJpcCIgfHwgb2JqLnBtb2RlW3Bhc3NdID09PSAibGluZXMiKSB7CiAgICAgICAgICBvYmouZltwYXNzXSA9IGZuZXc7CiAgICAgICAgfQogICAgICAKICAgICAgaWYgKGRlcHRoX3NvcnQpIAogICAgICAgIGRyYXd0eXBlID0gIkRZTkFNSUNfRFJBVyI7CiAgICAgIGVsc2UKICAgICAgICBkcmF3dHlwZSA9ICJTVEFUSUNfRFJBVyI7CiAgICB9CiAgICAKICAgICAgZm9yIChwYXNzID0gMDsgcGFzcyA8IG9iai5wYXNzZXM7IHBhc3MrKykgewogICAgICAgIGlmIChvYmoudmVydGV4Q291bnQgPiA2NTUzNSkgewogICAgICAgICAgaWYgKHRoaXMuaW5kZXhfdWludCkgewogICAgICAgICAgICBvYmouZltwYXNzXSA9IG5ldyBVaW50MzJBcnJheShvYmouZltwYXNzXSk7CiAgICAgICAgICAgIG9iai5pbmRleF91aW50ID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICB0aGlzLmFsZXJ0T25jZSgiT2JqZWN0IGhhcyAiK29iai52ZXJ0ZXhDb3VudCsiIHZlcnRpY2VzLCBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4iKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb2JqLmZbcGFzc10gPSBuZXcgVWludDE2QXJyYXkob2JqLmZbcGFzc10pOwogICAgICAgICAgb2JqLmluZGV4X3VpbnQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIAogICAgaWYgKHN0cmlkZSAhPT0gdlswXS5sZW5ndGgpIHsKICAgICAgdGhpcy5hbGVydE9uY2UoInByb2JsZW0gaW4gc3RyaWRlIGNhbGN1bGF0aW9uIik7CiAgICB9CgogICAgb2JqLnZPZmZzZXRzID0ge3ZvZnM6MCwgY29mczpjb2ZzLCBub2ZzOm5vZnMsIHJhZG9mczpyYWRvZnMsIG9vZnM6b29mcywgdG9mczp0b2ZzLAogICAgICAgICAgICAgICAgICAgIG5leHRvZnM6bmV4dG9mcywgcG9pbnRvZnM6cG9pbnRvZnMsIHN0cmlkZTpzdHJpZGV9OwoKICAgIG9iai52YWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuZmxhdHRlbih2KSk7CgogICAgaWYgKHR5cGUgIT09ICJzcGhlcmVzIiAmJiAhc3ByaXRlc18zZCkgewogICAgICBvYmouYnVmID0gZ2wuY3JlYXRlQnVmZmVyKCk7CiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBvYmouYnVmKTsKICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG9iai52YWx1ZXMsIGdsLlNUQVRJQ19EUkFXKTsgLy8KICAgICAgb2JqLmlidWYgPSBBcnJheShvYmoucGFzc2VzKTsKICAgICAgb2JqLmlidWZbMF0gPSBnbC5jcmVhdGVCdWZmZXIoKTsKICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgb2JqLmlidWZbMF0pOwogICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBvYmouZlswXSwgZ2xbZHJhd3R5cGVdKTsKICAgICAgaWYgKGlzX3R3b3NpZGVkKSB7CiAgICAgIAlvYmouaWJ1ZlsxXSA9IGdsLmNyZWF0ZUJ1ZmZlcigpOwogICAgICAJZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgb2JqLmlidWZbMV0pOwogICAgICAJZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgb2JqLmZbMV0sIGdsW2RyYXd0eXBlXSk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIXNwcml0ZXNfM2QpIHsKICAgICAgb2JqLm12TWF0TG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG9iai5wcm9nLCAibXZNYXRyaXgiKTsKICAgICAgb2JqLnByTWF0TG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG9iai5wcm9nLCAicHJNYXRyaXgiKTsKICAgIH0KCiAgICBpZiAoZml4ZWRfc2l6ZSkgewogICAgICBvYmoudGV4dFNjYWxlTG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG9iai5wcm9nLCAidGV4dFNjYWxlIik7CiAgICB9CgogICAgaWYgKGlzX2xpdCAmJiAhc3ByaXRlc18zZCkgewogICAgICBvYmoubm9ybU1hdExvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgIm5vcm1NYXRyaXgiKTsKICAgIH0KCiAgICBpZiAoaXNfdHdvc2lkZWQpIHsKICAgICAgb2JqLmZyb250TG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG9iai5wcm9nLCAiZnJvbnQiKTsKICAgICAgaWYgKGhhc19ub3JtYWxzKQogICAgICAgIG9iai5pbnZQck1hdExvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgImludlByTWF0cml4Iik7CiAgICB9CiAgfTsKICAgIAogICAgLyoqCiAgICAgKiBJbml0aWFsaXplIHRoZSBET00gb2JqZWN0CiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBlbCAtIHRoZSBET00gb2JqZWN0CiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSB4IC0gdGhlIHNjZW5lIGRhdGEgc2VudCBieSBKU09OIGZyb20gUgogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKGVsLCB4KSB7CiAgICAgIHRoaXMudGV4dHVyZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwogICAgICB0aGlzLnRleHR1cmVDYW52YXMuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIHRoaXMuc2NlbmUgPSB4OwogICAgICB0aGlzLm5vcm1NYXRyaXggPSBuZXcgQ2FudmFzTWF0cml4NCgpOwogICAgICB0aGlzLmludlByTWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgICAgdGhpcy5zYXZlTWF0ID0ge307CiAgICAgIHRoaXMuZGlzdGFuY2UgPSBudWxsOwogICAgICB0aGlzLnBvc0xvYyA9IDA7CiAgICAgIHRoaXMuY29sTG9jID0gMTsKICAgICAgaWYgKGVsKSB7CiAgICAgICAgZWwucmdsaW5zdGFuY2UgPSB0aGlzOwogICAgICAgIHRoaXMuZWwgPSBlbDsKICAgICAgICB0aGlzLndlYkdMb3B0aW9ucyA9IGVsLnJnbGluc3RhbmNlLnNjZW5lLndlYkdMb3B0aW9uczsKICAgICAgICB0aGlzLmluaXRDYW52YXMoKTsKICAgICAgfQogICAgICBpZiAodHlwZW9mIFNoaW55ICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcigic2hpbnlHZXRQYXIzZCIsCiAgICAgICAgICBmdW5jdGlvbihtZXNzYWdlKSB7CiAgICAgICAgICAgIHZhciBpLCBwYXJhbSwgCiAgICAgICAgICAgICAgICBzdWJzY2VuZSA9IHNlbGYuZ2V0T2JqKG1lc3NhZ2Uuc3Vic2NlbmUpLAogICAgICAgICAgICAgICAgcGFyYW1ldGVycyA9IFtdLmNvbmNhdChtZXNzYWdlLnBhcmFtZXRlcnMpLAogICAgICAgICAgICAgICAgcmVzdWx0ID0ge3RhZzogbWVzc2FnZS50YWcsIHN1YnNjZW5lOiBtZXNzYWdlLnN1YnNjZW5lfTsKICAgICAgICAgICAgaWYgKHR5cGVvZiBzdWJzY2VuZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFyYW1ldGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgcGFyYW0gPSBwYXJhbWV0ZXJzW2ldOwogICAgICAgICAgICAgICAgcmVzdWx0W3BhcmFtXSA9IHN1YnNjZW5lLnBhcjNkW3BhcmFtXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coInN1YnNjZW5lICIrbWVzc2FnZS5zdWJzY2VuZSsiIHVuZGVmaW5lZC4iKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBTaGlueS5zZXRJbnB1dFZhbHVlKCJwYXIzZDpzaGlueVBhcjNkIiwgcmVzdWx0LCB7cHJpb3JpdHk6ICJldmVudCJ9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoInNoaW55U2V0UGFyM2QiLAogICAgICAgICAgZnVuY3Rpb24obWVzc2FnZSkgewogICAgICAgICAgICB2YXIgcGFyYW0gPSBtZXNzYWdlLnBhcmFtZXRlciwgCiAgICAgICAgICAgICAgICBzdWJzY2VuZSA9IHNlbGYuZ2V0T2JqKG1lc3NhZ2Uuc3Vic2NlbmUpOwogICAgICAgICAgICBpZiAodHlwZW9mIHN1YnNjZW5lICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgIHN1YnNjZW5lLnBhcjNkW3BhcmFtXSA9IG1lc3NhZ2UudmFsdWU7CiAgICAgICAgICAgICAgc3Vic2NlbmUuaW5pdGlhbGl6ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICBzZWxmLmRyYXdTY2VuZSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzdWJzY2VuZSAiK21lc3NhZ2Uuc3Vic2NlbmUrIiB1bmRlZmluZWQuIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoInJlc2V0QnJ1c2giLAogICAgICAgICAgZnVuY3Rpb24obWVzc2FnZSkgewogICAgICAgICAgICBpZiAobWVzc2FnZSA9PT0gc2VsZi5zY2VuZS5zZWxlY3Rpb25JbnB1dCkgewogICAgICAgICAgICAgIHNlbGYuY2xlYXJCcnVzaChudWxsKTsKICAgICAgICAgICAgICBzZWxmLnJlY29yZFNlbGVjdGlvbigwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CiAgICAKICAgIC8qKgogICAgICogUmVzdGFydCB0aGUgV2ViR0wgY2FudmFzCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5yZXN0YXJ0Q2FudmFzID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBuZXdjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSwKICAgICAgICAgIHNlbGYgPSB0aGlzOwogICAgICBuZXdjYW52YXMud2lkdGggPSB0aGlzLmVsLndpZHRoOwogICAgICBuZXdjYW52YXMuaGVpZ2h0ID0gdGhpcy5lbC5oZWlnaHQ7CiAgICAgIG5ld2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsCiAgICAgICAgdGhpcy5vbkNvbnRleHRSZXN0b3JlZCwgZmFsc2UpOwogICAgICBuZXdjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsCiAgICAgICAgdGhpcy5vbkNvbnRleHRMb3N0LCBmYWxzZSk7CiAgICAgIHdoaWxlICh0aGlzLmVsLmZpcnN0Q2hpbGQpIHsKICAgICAgICB0aGlzLmVsLnJlbW92ZUNoaWxkKHRoaXMuZWwuZmlyc3RDaGlsZCk7CiAgICAgIH0KICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZChuZXdjYW52YXMpOwogICAgICB0aGlzLmNhbnZhcyA9IG5ld2NhbnZhczsKICAgICAgaWYgKHRoaXMuc2NlbmUuamF2YXNjcmlwdCkgewogICAgICAgIC8qIGpzaGludCBldmlsOnRydWUgKi8KICAgICAgICBGdW5jdGlvbignInVzZSBzdHJpY3QiOycgKyB0aGlzLnNjZW5lLmphdmFzY3JpcHQpKCk7CiAgICAgICAgLyoganNoaW50IGV2aWw6ZmFsc2UgKi8KICAgICAgfQogICAgICB0aGlzLnNldE1vdXNlSGFuZGxlcnMoKTsKICAgICAgaWYgKHRoaXMuZ2wpIAogICAgICAgIE9iamVjdC5rZXlzKHRoaXMuc2NlbmUub2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihrZXkpewogICAgICAgICAgc2VsZi5nZXRPYmoocGFyc2VJbnQoa2V5LCAxMCkpLnRleHR1cmUgPSB1bmRlZmluZWQ7IAogICAgICAgICAgfSk7CiAgICAgIHRoaXMuZ2wgPSBudWxsOwogICAgfTsKCiAgICAvKioKICAgICAqIEluaXRpYWxpemUgdGhlIFdlYkdMIGNhbnZhcwogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuaW5pdENhbnZhcyA9IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnJlc3RhcnRDYW52YXMoKTsKICAgICAgdmFyIG9ianMgPSB0aGlzLnNjZW5lLm9iamVjdHMsCiAgICAgICAgICBzZWxmID0gdGhpczsKICAgICAgT2JqZWN0LmtleXMob2JqcykuZm9yRWFjaChmdW5jdGlvbihrZXkpewogICAgICAgIHNlbGYuaW5pdFN1YnNjZW5lKHBhcnNlSW50KGtleSwgMTApKTsKICAgICAgfSk7CgogICAgICB0aGlzLm9uQ29udGV4dFJlc3RvcmVkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgc2VsZi5pbml0R0woKTsKICAgICAgICBzZWxmLmRyYXdTY2VuZSgpOwogICAgICB9OwoKICAgICAgdGhpcy5vbkNvbnRleHRMb3N0ID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICBpZiAoIXNlbGYuZHJhd2luZykKICAgICAgICAgIHRoaXMuZ2wgPSBudWxsOwogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH07CgogICAgICB0aGlzLmluaXRHTDAoKTsKICAgICAgdGhpcy5sYXp5TG9hZFNjZW5lID0gZnVuY3Rpb24oKSB7CiAgICAgIAlpZiAodHlwZW9mIHNlbGYuc2xpZGUgPT09ICJ1bmRlZmluZWQiKQogICAgICAJICBzZWxmLnNsaWRlID0gc2VsZi5nZXRTbGlkZSgpOwogICAgICAJaWYgKHNlbGYuaXNJbkJyb3dzZXJWaWV3cG9ydCgpKSB7CiAgICAgIAkgIGlmICghc2VsZi5nbCB8fCBzZWxmLmdsLmlzQ29udGV4dExvc3QoKSkKICAgICAgCSAgICBzZWxmLmluaXRHTCgpOwogICAgICAJICBzZWxmLmRyYXdTY2VuZSgpOwogICAgICAJfQogICAgICB9OwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIHRoaXMubGF6eUxvYWRTY2VuZSwgZmFsc2UpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHRoaXMubGF6eUxvYWRTY2VuZSwgZmFsc2UpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5sYXp5TG9hZFNjZW5lLCBmYWxzZSk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLmxhenlMb2FkU2NlbmUsIGZhbHNlKTsKICAgICAgdGhpcy5zbGlkZSA9IHRoaXMuZ2V0U2xpZGUoKTsKICAgICAgaWYgKHRoaXMuc2xpZGUpIHsKICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2xpZGUucmdsID09PSAidW5kZWZpbmVkIikKICAgICAgICAgIHRoaXMuc2xpZGUucmdsID0gW3RoaXNdOwogICAgICAgIGVsc2UKICAgICAgICAgIHRoaXMuc2xpZGUucmdsLnB1c2godGhpcyk7CiAgICAgICAgaWYgKHRoaXMuc2NlbmUuY29udGV4dC5ybWFya2Rvd24pIAogICAgICAgICAgaWYgKHRoaXMuc2NlbmUuY29udGV4dC5ybWFya2Rvd24gPT09ICJpb3NsaWRlc19wcmVzZW50YXRpb24iKSB7CiAgICAgICAgICAgIHRoaXMuc2xpZGUuc2V0QXR0cmlidXRlKCJzbGlkZWVudGVyIiwgInRoaXMucmdsLmZvckVhY2goZnVuY3Rpb24oc2NlbmUpIHsgc2NlbmUubGF6eUxvYWRTY2VuZS5jYWxsKHdpbmRvdyk7fSkiKTsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY2VuZS5jb250ZXh0LnJtYXJrZG93biA9PT0gInNsaWR5X3ByZXNlbnRhdGlvbiIpIHsKICAgICAgICAgICAgLy8gVGhpcyBtZXRob2Qgd291bGQgYWxzbyB3b3JrIGluIGlvc2xpZGVzLCBidXQgaXQgZ2V0cyB0cmlnZ2VyZWQKICAgICAgICAgICAgLy8gc29tZXRoaW5nIGxpa2UgNSB0aW1lcyBwZXIgc2xpZGUgZm9yIGV2ZXJ5IHNsaWRlIGNoYW5nZSwgc28KICAgICAgICAgICAgLy8geW91J2QgbmVlZCBhIHF1aWNrZXIgZnVuY3Rpb24gdGhhbiBsYXp5TG9hZFNjZW5lLgogICAgICAgICAgICB2YXIgTXV0YXRpb25PYnNlcnZlciA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyLAogICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucykgewogICAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgc2VsZi5zbGlkZS5yZ2wuZm9yRWFjaChmdW5jdGlvbihzY2VuZSkgeyBzY2VuZS5sYXp5TG9hZFNjZW5lLmNhbGwod2luZG93KTsgfSk7fSk7fSk7CiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy5zbGlkZSwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBhdHRyaWJ1dGVGaWx0ZXI6WyJjbGFzcyJdIH0pOwogICAgICAgICAgfQogICAgICB9CiAgICB9Owo="></script>
<script src="data:application/javascript;base64,LyoqCiAqIE1ldGhvZHMgcmVsYXRlZCB0byBkcmF3aW5nIHRyYW5zcGFyZW50IG9iamVjdHMKICogQG5hbWUgX19fTUVUSE9EU19GT1JfVFJBTlNQQVJFTkNZX19fCiAqIEBtZW1iZXJvZiByZ2x3aWRnZXRDbGFzcwogKiBAa2luZCBmdW5jdGlvbgogKiBAaW5zdGFuY2UKCiAqIFRoZXNlIGZ1bmN0aW9ucyBvcmRlciB0aGUgY2VudGVycyBvZiBkaXNwbGF5ZWQgb2JqZWN0cyBzbyB0aGV5CiAqIGNhbiBiZSBkcmF3biB1c2luZyB0aGUgcGFpbnRlcnMgYWxnb3JpdGhtLCBuZWNlc3NhcnkgdG8gc3VwcG9ydAogKiB0cmFuc3BhcmVuY3kuICAKCiAqIE5vdGUgdGhhdCBvYmppZCBpcyBub3Qgb2JqLmlkIHdoZW4gZHJhd2luZyBzcGhlcmVzLgogKi8KCi8qKgogKiBCcmVhayBvYmplY3RzIGludG8gcGllY2VzCiAqIEByZXR1cm5zIHsgYXJyYXkgfSBBcnJheSBvZiBwaWVjZXMKICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZ2V0UGllY2VzID0gZnVuY3Rpb24oY29udGV4dCwgb2JqaWQsIHN1YmlkLCBvYmopIHsKICAgICAgdmFyIG4gPSBvYmouY2VudGVycy5sZW5ndGgsCiAgICAgICAgICBkZXB0aCwKICAgICAgICAgIHJlc3VsdCA9IG5ldyBBcnJheShuKSwKICAgICAgICAgIHosIHcsIGk7CiAgICAgIGNvbnRleHQgPSBjb250ZXh0LnNsaWNlKCk7CiAgICAgICAgICAKICAgICAgZm9yKGk9MDsgaTxuOyBpKyspIHsKICAgICAgICB6ID0gdGhpcy5wcm12TWF0cml4Lm0xMypvYmouY2VudGVyc1tpXVswXSArCiAgICAgICAgICAgIHRoaXMucHJtdk1hdHJpeC5tMjMqb2JqLmNlbnRlcnNbaV1bMV0gKwogICAgICAgICAgICB0aGlzLnBybXZNYXRyaXgubTMzKm9iai5jZW50ZXJzW2ldWzJdICsKICAgICAgICAgICAgdGhpcy5wcm12TWF0cml4Lm00MzsKICAgICAgICB3ID0gdGhpcy5wcm12TWF0cml4Lm0xNCpvYmouY2VudGVyc1tpXVswXSArCiAgICAgICAgICAgIHRoaXMucHJtdk1hdHJpeC5tMjQqb2JqLmNlbnRlcnNbaV1bMV0gKwogICAgICAgICAgICB0aGlzLnBybXZNYXRyaXgubTM0Km9iai5jZW50ZXJzW2ldWzJdICsKICAgICAgICAgICAgdGhpcy5wcm12TWF0cml4Lm00NDsKICAgICAgICBkZXB0aCA9IHovdzsKICAgICAgICByZXN1bHRbaV0gPSB7Y29udGV4dDogY29udGV4dCwgCiAgICAgICAgICAgICAgICAgICAgIG9iamlkOiBvYmppZCwKICAgICAgICAgICAgICAgICAgICAgc3ViaWQ6IHN1YmlkLAogICAgICAgICAgICAgICAgICAgICBpbmRleDogaSwgCiAgICAgICAgICAgICAgICAgICAgIGRlcHRoOiBkZXB0aH07CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsgICAgCiAgICB9OwogICAgCiAgICAvKioKICAgICAqIEdldCBwaWVjZXMgZnJvbSBzcGhlcmUKICAgICAqIEByZXR1cm5zIHsgb2JqZWN0IH0KICAgICAqIEBwYXJhbSB7IGFycmF5IH0gY29udGV4dCAtIAogICAgICogQHBhcmFtIHsgbnVtZXJpYyB9IHN1YmlkIC0gc3Vic2NlbmUKICAgICAqIEBwYXJhbSB7IG9iamVjdCB9IG9iaiAtIHNwaGVyZXMgb2JqZWN0CiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5nZXRTcGhlcmVQaWVjZXMgPSBmdW5jdGlvbihjb250ZXh0LCBzdWJpZCwgb2JqKQogICAgewogICAgICBpZiAob2JqLmZhc3RUcmFuc3BhcmVuY3kpIAogICAgICAgIGlmIChzdWJpZCA9PT0gMCkgLy8gT25seSBjb21wdXRlIHBpZWNlcyBvbmNlCiAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQaWVjZXMoY29udGV4dCwgb2JqLmlkLCAtMSwgb2JqKTsKICAgICAgICBlbHNlCiAgICAgICAgICByZXR1cm4gW107CiAgICAgIGVsc2UKICAgICAgICByZXR1cm4gdGhpcy5nZXRQaWVjZXMoY29udGV4dCwgb2JqLmlkLCBzdWJpZCwgdGhpcy5zcGhlcmUpOwogICAgfTsKICAgIAogICAvKioKICAgICAqIEdldCBwaWVjZXMgZnJvbSBjdWJlCiAgICAgKiBAcmV0dXJucyB7IG9iamVjdCB9CiAgICAgKiBAcGFyYW0geyBhcnJheSB9IGNvbnRleHQgLSAKICAgICAqIEBwYXJhbSB7IG51bWVyaWMgfSBzdWJpZCAtIHN1YnNjZW5lCiAgICAgKiBAcGFyYW0geyBvYmplY3QgfSBvYmogLSBzcGhlcmVzIG9iamVjdAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZ2V0Q3ViZVBpZWNlcyA9IGZ1bmN0aW9uKGNvbnRleHQsIG9iaikKICAgIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0UGllY2VzKGNvbnRleHQsIG9iai5pZCwgMCwgdGhpcy5jdWJlKTsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogTWVyZ2UgcGllY2VzIHRoYXQgY2FuIGJlIGRyYXduIGluIG9uZSBjYWxsCiAgICAgKiBAcmV0dXJucyB7IG9iamVjdCB9CiAgICAgKiBAcGFyYW0geyBhcnJheSB9IHBpZWNlcyAtIFRoZSBwaWVjZXMgdG8gbWVyZ2UKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLm1lcmdlUGllY2VzID0gZnVuY3Rpb24ocGllY2VzKSB7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgaWYgKHBpZWNlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIGksCiAgICAgICAgICB0aGlzY29udGV4dCA9IHBpZWNlc1swXS5jb250ZXh0LCAKICAgICAgICAgIHRoaXNvYmppZCA9IHBpZWNlc1swXS5vYmppZCwgCiAgICAgICAgICB0aGlzc3ViaWQgPSBwaWVjZXNbMF0uc3ViaWQsCiAgICAgICAgICBpbmRpY2VzID0gW107CiAgICAgICAgZm9yIChpPSAwOyBpIDwgcGllY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAocGllY2VzW2ldLmNvbnRleHQgIT09IHRoaXNjb250ZXh0IHx8IAogICAgICAgICAgICAgIHBpZWNlc1tpXS5vYmppZCAhPT0gdGhpc29iamlkIHx8CiAgICAgICAgICAgICAgcGllY2VzW2ldLnN1YmlkICE9PSB0aGlzc3ViaWQpIHsKICAgICAgICAgICAgcmVzdWx0LnB1c2goe2NvbnRleHQ6IHRoaXNjb250ZXh0LCBvYmppZDogdGhpc29iamlkLAogICAgICAgICAgICAgICAgICAgICAgICAgc3ViaWQ6IHRoaXNzdWJpZCwgaW5kaWNlczogaW5kaWNlc30pOwogICAgICAgICAgICB0aGlzY29udGV4dCA9IHBpZWNlc1tpXS5jb250ZXh0OwogICAgICAgICAgICB0aGlzb2JqaWQgPSBwaWVjZXNbaV0ub2JqaWQ7CiAgICAgICAgICAgIHRoaXNzdWJpZCA9IHBpZWNlc1tpXS5zdWJpZDsKICAgICAgICAgICAgaW5kaWNlcyA9IFtdOwogICAgICAgICAgfQogICAgICAgICAgaW5kaWNlcy5wdXNoKHBpZWNlc1tpXS5pbmRleCk7CiAgICAgICAgfQogICAgICAgIHJlc3VsdC5wdXNoKHtjb250ZXh0OiB0aGlzY29udGV4dCwgb2JqaWQ6IHRoaXNvYmppZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJpZDogdGhpc3N1YmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXM6IGluZGljZXN9KTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0OwogICAgfTsKCiAgICAvKioKICAgICAqIFNvcnQgcGllY2VzIGJ5IGRlcHRoCiAgICAgKiBAcmV0dXJucyB7IGFycmF5IH0KICAgICAqIEBwYXJhbSB7IGFycmF5IH0gcGllY2VzIC0gYXJyYXkgb2YgcGllY2VzIAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuc29ydFBpZWNlcyA9IGZ1bmN0aW9uKHBpZWNlcykgewogICAgICB2YXIgY29tcGFyZSA9IGZ1bmN0aW9uKGksaikgewogICAgICAgIHZhciBkaWZmID0gai5kZXB0aCAtIGkuZGVwdGg7CiAgICAgICAgLy8gV2Ugd2FudCB0byBhdm9pZCBjb250ZXh0IG9yIG9iaiBjaGFuZ2VzLAogICAgICAgIC8vIHNvIHNvcnQgb24gdGhvc2UgbmV4dC4KICAgICAgICBpZiAoZGlmZiA9PT0gMCkgewogICAgICAgICAgdmFyIGMxID0gai5jb250ZXh0LnNsaWNlKCksCiAgICAgICAgICAgICAgYzIgPSBpLmNvbnRleHQuc2xpY2UoKTsKICAgICAgICAgIGRpZmYgPSBjMS5sZW5ndGggLSBjMi5sZW5ndGg7IAogICAgICAgICAgd2hpbGUgKGRpZmYgPT09IDAgJiYgYzEubGVuZ3RoID4gMCkgewogICAgICAgICAgICBkaWZmID0gYzEucG9wKCkgLSBjMi5wb3AoKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChkaWZmID09PSAwKQogICAgICAgICAgICBkaWZmID0gai5vYmppZCAtIGkub2JqaWQ7CiAgICAgICAgICBpZiAoZGlmZiA9PT0gMCkKICAgICAgICAgICAgZGlmZiA9IGouc3ViaWQgLSBpLnN1YmlkOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZGlmZjsKICAgICAgfSwgcmVzdWx0ID0gW107CiAgICAgIGlmIChwaWVjZXMubGVuZ3RoKSAKICAgICAgICByZXN1bHQgPSBwaWVjZXMuc29ydChjb21wYXJlKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07Cg=="></script>
<script src="data:application/javascript;base64,ICAgIC8qKgogICAgICogTWV0aG9kcyByZWxhdGVkIHRvIGRyYXdpbmcKICAgICAqIEBuYW1lIF9fX01FVEhPRFNfRk9SX0RSQVdJTkdfX18KICAgICAqIEBtZW1iZXJvZiByZ2x3aWRnZXRDbGFzcwogICAgICogQGtpbmQgZnVuY3Rpb24KICAgICAqIEBpbnN0YW5jZQogICAgICovCiAgICAgCiAgICAvKioKICAgICAqIFN0YXJ0IGRyYXdpbmcKICAgICAqIEByZXR1cm5zIHsgYm9vbGVhbiB9IFByZXZpb3VzIHN0YXRlCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5zdGFydERyYXdpbmcgPSBmdW5jdGlvbigpIHsKICAgIAl2YXIgdmFsdWUgPSB0aGlzLmRyYXdpbmc7CiAgICAJdGhpcy5kcmF3aW5nID0gdHJ1ZTsKICAgIAlyZXR1cm4gdmFsdWU7CiAgICB9OwoKICAgIC8qKgogICAgICogU3RvcCBkcmF3aW5nIGFuZCBjaGVjayBmb3IgY29udGV4dCBsb3NzCiAgICAgKiBAcGFyYW0geyBib29sZWFuIH0gc2F2ZWQgLSBQcmV2aW91cyBzdGF0ZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuc3RvcERyYXdpbmcgPSBmdW5jdGlvbihzYXZlZCkgewogICAgICB0aGlzLmRyYXdpbmcgPSBzYXZlZDsKICAgICAgaWYgKCFzYXZlZCAmJiB0aGlzLmdsICYmIHRoaXMuZ2wuaXNDb250ZXh0TG9zdCgpKQogICAgICAgIHRoaXMucmVzdGFydENhbnZhcygpOwogICAgfTsKCiAgICAvKioKICAgICAqIFVwZGF0ZSB0aGUgdHJpYW5nbGVzIHVzZWQgdG8gZGlzcGxheSBhIHBsYW5lCiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBpZCAtIGlkIG9mIHRoZSBwbGFuZQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gYmJveCAtIGJvdW5kaW5nIGJveCBpbiB3aGljaCB0byBkaXNwbGF5IHRoZSBwbGFuZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUucGxhbmVVcGRhdGVUcmlhbmdsZXMgPSBmdW5jdGlvbihvYmosIGJib3gpIHsKICAgICAgdmFyIHBlcm1zID0gW1swLDAsMV0sIFsxLDIsMl0sIFsyLDEsMF1dLAogICAgICAgICAgeCwgeHJvdywgZWxlbSwgQSwgZCwgbmhpdHMsIGksIGosIGssIHUsIHYsIHcsIGludGVyc2VjdCwgd2hpY2gsIHYwLCB2MiwgdngsIHJldmVyc2UsCiAgICAgICAgICBmYWNlMSA9IFtdLCBmYWNlMiA9IFtdLCBub3JtYWxzID0gW10sCiAgICAgICAgICBuUGxhbmVzID0gb2JqLm5vcm1hbHMubGVuZ3RoOwogICAgICBvYmouYmJveCA9IGJib3g7CiAgICAgIG9iai52ZXJ0aWNlcyA9IFtdOwogICAgICBvYmouaW5pdGlhbGl6ZWQgPSBmYWxzZTsKICAgICAgZm9yIChlbGVtID0gMDsgZWxlbSA8IG5QbGFuZXM7IGVsZW0rKykgewovLyAgICBWZXJ0ZXggQXYgPSBub3JtYWwuZ2V0UmVjeWNsZWQoZWxlbSk7CiAgICAgICAgeCA9IFtdOwogICAgICAgIEEgPSBvYmoubm9ybWFsc1tlbGVtXTsKICAgICAgICBkID0gb2JqLm9mZnNldHNbZWxlbV1bMF07CiAgICAgICAgbmhpdHMgPSAwOwogICAgICAgIGZvciAoaT0wOyBpPDM7IGkrKykKICAgICAgICAgIGZvciAoaj0wOyBqPDI7IGorKykKICAgICAgICAgICAgZm9yIChrPTA7IGs8MjsgaysrKSB7CiAgICAgICAgICAgICAgdSA9IHBlcm1zWzBdW2ldOwogICAgICAgICAgICAgIHYgPSBwZXJtc1sxXVtpXTsKICAgICAgICAgICAgICB3ID0gcGVybXNbMl1baV07CiAgICAgICAgICAgICAgaWYgKEFbd10gIT09IDAuMCkgewogICAgICAgICAgICAgICAgaW50ZXJzZWN0ID0gLShkICsgQVt1XSpiYm94W2orMip1XSArIEFbdl0qYmJveFtrKzIqdl0pL0Fbd107CiAgICAgICAgICAgICAgICBpZiAoYmJveFsyKnddIDwgaW50ZXJzZWN0ICYmIGludGVyc2VjdCA8IGJib3hbMSsyKnddKSB7CiAgICAgICAgICAgICAgICAgIHhyb3cgPSBbXTsKICAgICAgICAgICAgICAgICAgeHJvd1t1XSA9IGJib3hbaisyKnVdOwogICAgICAgICAgICAgICAgICB4cm93W3ZdID0gYmJveFtrKzIqdl07CiAgICAgICAgICAgICAgICAgIHhyb3dbd10gPSBpbnRlcnNlY3Q7CiAgICAgICAgICAgICAgICAgIHgucHVzaCh4cm93KTsKICAgICAgICAgICAgICAgICAgZmFjZTFbbmhpdHNdID0gaiArIDIqdTsKICAgICAgICAgICAgICAgICAgZmFjZTJbbmhpdHNdID0gayArIDIqdjsKICAgICAgICAgICAgICAgICAgbmhpdHMrKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChuaGl0cyA+IDMpIHsKICAgICAgICAgICAgLyogUmUtb3JkZXIgdGhlIGludGVyc2VjdGlvbnMgc28gdGhlIHRyaWFuZ2xlcyB3b3JrICovCiAgICAgICAgICAgICAgZm9yIChpPTA7IGk8bmhpdHMtMjsgaSsrKSB7CiAgICAgICAgICAgICAgICB3aGljaCA9IDA7IC8qIGluaXRpYWxpemUgdG8gc3VwcHJlc3Mgd2FybmluZyAqLwogICAgICAgICAgICAgICAgZm9yIChqPWkrMTsgajxuaGl0czsgaisrKSB7CiAgICAgICAgICAgICAgICAgIGlmIChmYWNlMVtpXSA9PT0gZmFjZTFbal0gfHwgZmFjZTFbaV0gPT09IGZhY2UyW2pdIHx8CiAgICAgICAgICAgICAgICAgICAgICBmYWNlMltpXSA9PT0gZmFjZTFbal0gfHwgZmFjZTJbaV0gPT09IGZhY2UyW2pdICkgewogICAgICAgICAgICAgICAgICAgIHdoaWNoID0gajsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHdoaWNoID4gaSsxKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc3dhcCh4LCBpKzEsIHdoaWNoKTsKICAgICAgICAgICAgICAgICAgdGhpcy5zd2FwKGZhY2UxLCBpKzEsIHdoaWNoKTsKICAgICAgICAgICAgICAgICAgdGhpcy5zd2FwKGZhY2UyLCBpKzEsIHdoaWNoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5oaXRzID49IDMpIHsKICAgICAgLyogUHV0IGluIG9yZGVyIHNvIHRoYXQgdGhlIG5vcm1hbCBwb2ludHMgb3V0IHRoZSBGUk9OVCBvZiB0aGUgZmFjZXMgKi8KICAgICAgICAgICAgICB2MCA9IFt4WzBdWzBdIC0geFsxXVswXSAsIHhbMF1bMV0gLSB4WzFdWzFdLCB4WzBdWzJdIC0geFsxXVsyXV07CiAgICAgICAgICAgICAgdjIgPSBbeFsyXVswXSAtIHhbMV1bMF0gLCB4WzJdWzFdIC0geFsxXVsxXSwgeFsyXVsyXSAtIHhbMV1bMl1dOwogICAgICAgICAgICAgIC8qIGNyb3NzLXByb2R1Y3QgKi8KICAgICAgICAgICAgICB2eCA9IHRoaXMueHByb2QodjAsIHYyKTsKICAgICAgICAgICAgICByZXZlcnNlID0gdGhpcy5kb3Rwcm9kKHZ4LCBBKSA+IDA7CgogICAgICAgICAgICAgIGZvciAoaT0wOyBpPG5oaXRzLTI7IGkrKykgewogICAgICAgICAgICAgICAgb2JqLnZlcnRpY2VzLnB1c2goeFswXSk7CiAgICAgICAgICAgICAgICBub3JtYWxzLnB1c2goQSk7CiAgICAgICAgICAgICAgICBmb3IgKGo9MTsgajwzOyBqKyspIHsKICAgICAgICAgICAgICAgICAgb2JqLnZlcnRpY2VzLnB1c2goeFtpICsgKHJldmVyc2UgPyAzLWogOiBqKV0pOwogICAgICAgICAgICAgICAgICBub3JtYWxzLnB1c2goQSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgIH0KICAgICAgb2JqLnBub3JtYWxzID0gbm9ybWFsczsKICAgIH07CiAgICAKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5tb2RlNHR5cGUgPSB7cG9pbnRzIDogIlBPSU5UUyIsCiAgICAgICAgICAgICAgICAgICAgIGxpbmVzdHJpcCA6ICJMSU5FX1NUUklQIiwKICAgICAgICAgICAgICAgICAgICAgYWJjbGluZXMgOiAiTElORVMiLAogICAgICAgICAgICAgICAgICAgICBsaW5lcyA6ICJMSU5FUyIsCiAgICAgICAgICAgICAgICAgICAgIHNwcml0ZXMgOiAiVFJJQU5HTEVTIiwKICAgICAgICAgICAgICAgICAgICAgcGxhbmVzIDogIlRSSUFOR0xFUyIsCiAgICAgICAgICAgICAgICAgICAgIHRleHQgOiAiVFJJQU5HTEVTIiwKICAgICAgICAgICAgICAgICAgICAgcXVhZHMgOiAiVFJJQU5HTEVTIiwKICAgICAgICAgICAgICAgICAgICAgc3VyZmFjZSA6ICJUUklBTkdMRVMiLAogICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZXMgOiAiVFJJQU5HTEVTIiwKICAgICAgICAgICAgICAgICAgICAgc3BoZXJlIDogIlRSSUFOR0xFUyIKICAgIH07CiAgICAKICAgIC8qKgogICAgICogRGlzYWJsZSB1bnVzZWQgYXJyYXlzCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBvYmogLSBPYmplY3QgdG8gd29yayB3aXRoCiAgICAgKiBAcGFyYW0geyBBcnJheSB9IGVuYWJsZWQgLSBBcnJheSBpbmRpY2F0aW5nIHdoaWNoIGFyZSBlbmFibGVkCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5kaXNhYmxlQXJyYXlzID0gZnVuY3Rpb24ob2JqLCBlbmFibGVkKSB7CiAgICAgIHZhciBnbCA9IHRoaXMuZ2wgfHwgdGhpcy5pbml0R0woKSwKICAgICAgICAgIG9iakxvY3MgPSBbIm5vcm1Mb2MiLCAidGV4TG9jIiwgIm9mc0xvYyIsICJwb2ludExvYyIsICJuZXh0TG9jIl0sCiAgICAgICAgICB0aGlzTG9jcyA9IFsicG9zTG9jIiwgImNvbExvYyJdLCBpLCBhdHRyOwogICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqTG9jcy5sZW5ndGg7IGkrKykgCiAgICAgICAgaWYgKGVuYWJsZWRbb2JqTG9jc1tpXV0pIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShvYmpbb2JqTG9jc1tpXV0pOwogICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpc0xvY3MubGVuZ3RoOyBpKyspCiAgICAgICAgaWYgKGVuYWJsZWRbdGhpc0xvY3NbaV1dKSBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkodGhpc1tvYmpMb2NzW2ldXSk7CiAgICAgIGlmICh0eXBlb2Ygb2JqLnVzZXJBdHRyaWJ1dGVzICE9PSAidW5kZWZpbmVkIikgewogICAgICAJZm9yIChhdHRyIGluIG9iai51c2VyQXR0cmliU2l6ZXMpIHsgIC8vIE5vdCBhbGwgYXR0cmlidXRlcyBtYXkgaGF2ZSBiZWVuIHVzZWQKICAgICAgCSAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KCBvYmoudXNlckF0dHJpYkxvY2F0aW9uc1thdHRyXSApOwogICAgICAJfQogICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogU3RhcnQgZHJhd2luZyB0aGUgc2NlbmUKICAgICAqLyAgICAKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5kb1N0YXJ0U2NlbmUgPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIGdsID0gdGhpcy5nbCB8fCB0aGlzLmluaXRHTCgpOwogICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7CiAgICAgIGdsLmRlcHRoRnVuYyhnbC5MRVFVQUwpOwogICAgICBnbC5jbGVhckRlcHRoKDEuMCk7CiAgICAgIGdsLmNsZWFyQ29sb3IoMSwxLDEsMSk7CiAgICAgIGdsLmRlcHRoTWFzayh0cnVlKTsgLy8gTXVzdCBiZSB0cnVlIGJlZm9yZSBjbGVhcmluZyBkZXB0aCBidWZmZXIKICAgICAgLyoganNoaW50IGJpdHdpc2U6IGZhbHNlICovCiAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTsKICAgICAgLyoganNoaW50IGJpdHdpc2U6IHRydWUgKi8KICAgIH07CiAgICAKICAgIC8qKgogICAgICogU2V0IGdsIGRlcHRoIHRlc3QgYmFzZWQgb24gb2JqZWN0J3MgbWF0ZXJpYWwKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IG9iaiAtIG9iamVjdCB0byB1c2UKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRvRGVwdGhUZXN0ID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgIHZhciBnbCA9IHRoaXMuZ2wsCiAgICAgICAgICB0ZXN0cyA9IHtuZXZlcjogZ2wuTkVWRVIsCiAgICAgICAgICAgICAgICAgICBsZXNzOiAgZ2wuTEVTUywKICAgICAgICAgICAgICAgICAgIGVxdWFsOiBnbC5FUVVBTCwKICAgICAgICAgICAgICAgICAgIGxlcXVhbDpnbC5MRVFVQUwsCiAgICAgICAgICAgICAgICAgICBncmVhdGVyOiBnbC5HUkVBVEVSLAogICAgICAgICAgICAgICAgICAgbm90ZXF1YWw6IGdsLk5PVEVRVUFMLAogICAgICAgICAgICAgICAgICAgZ2VxdWFsOiBnbC5HRVFVQUwsCiAgICAgICAgICAgICAgICAgICBhbHdheXM6IGdsLkFMV0FZU30sCiAgICAgICAgICAgdGVzdCA9IHRlc3RzW3RoaXMuZ2V0TWF0ZXJpYWwob2JqLCAiZGVwdGhfdGVzdCIpXTsKICAgICAgZ2wuZGVwdGhGdW5jKHRlc3QpOwogICAgfTsgICAgCiAgICAKICAgIC8qKgogICAgICogU2V0IHBvbHlnb24gb2Zmc2V0IGZvciBhbiBvYmoKICAgICAqIEBwYXJhbSB7IG9iamVjdCB9IG9iaiAtIG9iamVjdCB0byB1c2UKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRvUG9seWdvbk9mZnNldCA9IGZ1bmN0aW9uKG9iaikgeyAKICAgICAgdmFyIGdsID0gdGhpcy5nbDsKICAgICAgaWYgKHR5cGVvZiBvYmoucG9seWdvbl9vZmZzZXQgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgZ2wucG9seWdvbk9mZnNldChvYmoucG9seWdvbl9vZmZzZXRbMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnBvbHlnb25fb2Zmc2V0WzFdKTsKICAgICAgICBnbC5lbmFibGUoZ2wuUE9MWUdPTl9PRkZTRVRfRklMTCk7CiAgICAgIH0gZWxzZQogICAgICAgIGdsLmRpc2FibGUoZ2wuUE9MWUdPTl9PRkZTRVRfRklMTCk7CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIERvIGNvZGUgZm9yIGNsaXBwaW5nCiAgICAgKiBAcGFyYW0geyBvYmplY3QgfSBvYmogLSBPYmplY3QgdG8gd29yayB3aXRoCiAgICAgKiBAcGFyYW0geyBvYmplY3QgfSBzdWJzY2VuZSAtIFN1YnNjZW5lIHRvIHdvcmsgd2l0aAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZG9DbGlwcGluZyA9IGZ1bmN0aW9uKG9iaiwgc3Vic2NlbmUpIHsKICAgICAgdmFyIGdsID0gdGhpcy5nbCwKICAgICAgICAgIGNsaXBjaGVjayA9IDAsCiAgICAgICAgICBjbGlwcGxhbmVpZHMgPSBzdWJzY2VuZS5jbGlwcGxhbmVzLAogICAgICAgICAgY2xpcCwgaSxqOwogICAgICBmb3IgKGk9MDsgaSA8IGNsaXBwbGFuZWlkcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNsaXAgPSB0aGlzLmdldE9iaihjbGlwcGxhbmVpZHNbaV0pOwogICAgICAgIGZvciAoaj0wOyBqIDwgY2xpcC5vZmZzZXRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBnbC51bmlmb3JtNGZ2KG9iai5jbGlwTG9jW2NsaXBjaGVjayArIGpdLCBjbGlwLklNVkNsaXBbal0pOwogICAgICAgIH0KICAgICAgICBjbGlwY2hlY2sgKz0gY2xpcC5vZmZzZXRzLmxlbmd0aDsKICAgICAgfQogICAgICBpZiAodHlwZW9mIG9iai5jbGlwTG9jICE9PSAidW5kZWZpbmVkIikKICAgICAgICBmb3IgKGk9Y2xpcGNoZWNrOyBpIDwgb2JqLmNsaXBMb2MubGVuZ3RoOyBpKyspCiAgICAgICAgICBnbC51bmlmb3JtNGYob2JqLmNsaXBMb2NbaV0sIDAsMCwwLDApOwogICAgfTsKICAgIAogICAgLyoqCiAgICAgKiBEbyBjb2RlIGZvciBsaWdodGluZwogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gb2JqIC0gT2JqZWN0IHRvIHdvcmsgd2l0aAogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gc3Vic2NlbmUgLSBTdWJzY2VuZSB0byB3b3JrIHdpdGgKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRvTGlnaHRpbmcgPSBmdW5jdGlvbihvYmosIHN1YnNjZW5lKSB7CiAgICAgIHZhciBnbCA9IHRoaXMuZ2wsIGksIGxpZ2h0OwogICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYoIG9iai5ub3JtTWF0TG9jLCBmYWxzZSwgbmV3IEZsb2F0MzJBcnJheSh0aGlzLm5vcm1NYXRyaXguZ2V0QXNBcnJheSgpKSApOwogICAgICAgIGdsLnVuaWZvcm0zZnYoIG9iai5lbWlzc2lvbkxvYywgb2JqLmVtaXNzaW9uKTsKICAgICAgICBnbC51bmlmb3JtMWYoIG9iai5zaGluaW5lc3NMb2MsIG9iai5zaGluaW5lc3MpOwogICAgICAgIGZvciAoaT0wOyBpIDwgc3Vic2NlbmUubGlnaHRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBsaWdodCA9IHRoaXMuZ2V0T2JqKHN1YnNjZW5lLmxpZ2h0c1tpXSk7CiAgICAgICAgICBpZiAoIWxpZ2h0LmluaXRpYWxpemVkKSB0aGlzLmluaXRPYmoobGlnaHQpOwogICAgICAgICAgZ2wudW5pZm9ybTNmdiggb2JqLmFtYmllbnRMb2NbaV0sIHRoaXMuY29tcG9uZW50UHJvZHVjdChsaWdodC5hbWJpZW50LCBvYmouYW1iaWVudCkpOwogICAgICAgICAgZ2wudW5pZm9ybTNmdiggb2JqLnNwZWN1bGFyTG9jW2ldLCB0aGlzLmNvbXBvbmVudFByb2R1Y3QobGlnaHQuc3BlY3VsYXIsIG9iai5zcGVjdWxhcikpOwogICAgICAgICAgZ2wudW5pZm9ybTNmdiggb2JqLmRpZmZ1c2VMb2NbaV0sIGxpZ2h0LmRpZmZ1c2UpOwogICAgICAgICAgZ2wudW5pZm9ybTNmdiggb2JqLmxpZ2h0RGlyTG9jW2ldLCBsaWdodC5saWdodERpcik7CiAgICAgICAgICBnbC51bmlmb3JtMWkoIG9iai52aWV3cG9pbnRMb2NbaV0sIGxpZ2h0LnZpZXdwb2ludCk7CiAgICAgICAgICBnbC51bmlmb3JtMWkoIG9iai5maW5pdGVMb2NbaV0sIGxpZ2h0LmZpbml0ZSk7CiAgICAgICAgfQogICAgICAgIGZvciAoaT1zdWJzY2VuZS5saWdodHMubGVuZ3RoOyBpIDwgb2JqLm5saWdodHM7IGkrKykgewogICAgICAgICAgZ2wudW5pZm9ybTNmKCBvYmouYW1iaWVudExvY1tpXSwgMCwwLDApOwogICAgICAgICAgZ2wudW5pZm9ybTNmKCBvYmouc3BlY3VsYXJMb2NbaV0sIDAsMCwwKTsKICAgICAgICAgIGdsLnVuaWZvcm0zZiggb2JqLmRpZmZ1c2VMb2NbaV0sIDAsMCwwKTsKICAgICAgICB9CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIERvIGNvZGUgZm9yIGNvbG9ycwogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gb2JqIC0gT2JqZWN0IHRvIHdvcmsgd2l0aAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZG9Db2xvcnMgPSBmdW5jdGlvbihvYmopIHsKICAgICAgdmFyIGdsID0gdGhpcy5nbDsKICAgICAgaWYgKG9iai5jb2xvckNvdW50ID09PSAxKSB7CiAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KCB0aGlzLmNvbExvYyApOwogICAgICAgIGdsLnZlcnRleEF0dHJpYjRmdiggdGhpcy5jb2xMb2MsIG5ldyBGbG9hdDMyQXJyYXkob2JqLm9uZWNvbG9yKSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KCB0aGlzLmNvbExvYyApOwogICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5jb2xMb2MsIDQsIGdsLkZMT0FULCBmYWxzZSwgNCpvYmoudk9mZnNldHMuc3RyaWRlLCA0Km9iai52T2Zmc2V0cy5jb2ZzKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfTsKICAgIAogICAgLyoqCiAgICAgKiBEbyBjb2RlIGZvciBub3JtYWxzCiAgICAgKiBAcGFyYW0geyBvYmplY3QgfSBvYmogLSBPYmplY3QgdG8gd29yayB3aXRoCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5kb05vcm1hbHMgPSBmdW5jdGlvbihvYmopIHsKICAgICAgdmFyIGdsID0gdGhpcy5nbDsKICAgICAgaWYgKG9iai52T2Zmc2V0cy5ub2ZzID49IDApIHsKICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSggb2JqLm5vcm1Mb2MgKTsKICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKG9iai5ub3JtTG9jLCAzLCBnbC5GTE9BVCwgZmFsc2UsIDQqb2JqLnZPZmZzZXRzLnN0cmlkZSwgNCpvYmoudk9mZnNldHMubm9mcyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogRG8gY29kZSBmb3IgdGV4dHVyZXMKICAgICAqIEBwYXJhbSB7IG9iamVjdCB9IG9iaiAtIE9iamVjdCB0byB3b3JrIHdpdGgKICAgICAqLyAgICAKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5kb1RleHR1cmUgPSBmdW5jdGlvbihvYmopIHsKICAgICAgdmFyIGdsID0gdGhpcy5nbCwgCiAgICAgICAgICBpc19zcGhlcmVzID0gb2JqLnR5cGUgPT09ICJzcGhlcmVzIjsKICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSggb2JqLnRleExvYyApOwogICAgICAgIGlmIChpc19zcGhlcmVzKQogICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihvYmoudGV4TG9jLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDQqdGhpcy5zcGhlcmUudk9mZnNldHMuc3RyaWRlLCA0KnRoaXMuc3BoZXJlLnZPZmZzZXRzLnRvZnMpOwogICAgICAgIGVsc2UKICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIob2JqLnRleExvYywgMiwgZ2wuRkxPQVQsIGZhbHNlLCA0Km9iai52T2Zmc2V0cy5zdHJpZGUsIDQqb2JqLnZPZmZzZXRzLnRvZnMpOwogICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApOwogICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG9iai50ZXh0dXJlKTsKICAgICAgICBnbC51bmlmb3JtMWkoIG9iai5zYW1wbGVyLCAwKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogRG8gY29kZSBmb3IgdXNlciBhdHRyaWJ1dGVzCiAgICAgKiBAcGFyYW0geyBvYmplY3QgfSBvYmogLSBPYmplY3QgdG8gd29yayB3aXRoCiAgICAgKi8gICAgCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZG9Vc2VyQXR0cmlidXRlcyA9IGZ1bmN0aW9uKG9iaikgewogICAgICBpZiAodHlwZW9mIG9iai51c2VyQXR0cmlidXRlcyAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsOwogICAgICAJZm9yICh2YXIgYXR0ciBpbiBvYmoudXNlckF0dHJpYlNpemVzKSB7ICAvLyBOb3QgYWxsIGF0dHJpYnV0ZXMgbWF5IGhhdmUgYmVlbiB1c2VkCiAgICAgIAkgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KCBvYmoudXNlckF0dHJpYkxvY2F0aW9uc1thdHRyXSApOwogICAgICAJICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKCBvYmoudXNlckF0dHJpYkxvY2F0aW9uc1thdHRyXSwgb2JqLnVzZXJBdHRyaWJTaXplc1thdHRyXSwKICAgICAgCSAgCQkJICBnbC5GTE9BVCwgZmFsc2UsIDQqb2JqLnZPZmZzZXRzLnN0cmlkZSwgNCpvYmoudXNlckF0dHJpYk9mZnNldHNbYXR0cl0pOwogICAgICAJfQogICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogRG8gY29kZSBmb3IgdXNlciB1bmlmb3JtcwogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gb2JqIC0gT2JqZWN0IHRvIHdvcmsgd2l0aAogICAgICovICAgIAogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRvVXNlclVuaWZvcm1zID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgIGlmICh0eXBlb2Ygb2JqLnVzZXJVbmlmb3JtcyAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsOwogICAgICAJZm9yICh2YXIgYXR0ciBpbiBvYmoudXNlclVuaWZvcm1Mb2NhdGlvbnMpIHsKICAgICAgCSAgdmFyIGxvYyA9IG9iai51c2VyVW5pZm9ybUxvY2F0aW9uc1thdHRyXTsKICAgICAgCSAgaWYgKGxvYyAhPT0gbnVsbCkgewogICAgICAJICAgIHZhciB1bmlmb3JtID0gb2JqLnVzZXJVbmlmb3Jtc1thdHRyXTsKICAgICAgCSAgICBpZiAodHlwZW9mIHVuaWZvcm0ubGVuZ3RoID09PSAidW5kZWZpbmVkIikKICAgICAgCSAgICAgIGdsLnVuaWZvcm0xZihsb2MsIHVuaWZvcm0pOwogICAgICAJICAgIGVsc2UgaWYgKHR5cGVvZiB1bmlmb3JtWzBdLmxlbmd0aCA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgCSAgICAgIHVuaWZvcm0gPSBuZXcgRmxvYXQzMkFycmF5KHVuaWZvcm0pOwogICAgICAJICAgICAgc3dpdGNoKHVuaWZvcm0ubGVuZ3RoKSB7CiAgICAgIAkgICAgICAJY2FzZSAyOiBnbC51bmlmb3JtMmZ2KGxvYywgdW5pZm9ybSk7IGJyZWFrOwogICAgICAJICAgICAgCWNhc2UgMzogZ2wudW5pZm9ybTNmdihsb2MsIHVuaWZvcm0pOyBicmVhazsKICAgICAgCSAgICAgIAljYXNlIDQ6IGdsLnVuaWZvcm00ZnYobG9jLCB1bmlmb3JtKTsgYnJlYWs7CiAgICAgIAkgICAgICAJZGVmYXVsdDogY29uc29sZS53YXJuKCJiYWQgdW5pZm9ybSBsZW5ndGgiKTsKICAgICAgCSAgICAgIH0KICAgICAgCSAgICB9IGVsc2UgaWYgKHVuaWZvcm0ubGVuZ3RoID09PSA0ICYmIHVuaWZvcm1bMF0ubGVuZ3RoID09PSA0KQogICAgICAJICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihsb2MsIGZhbHNlLCBuZXcgRmxvYXQzMkFycmF5KHVuaWZvcm0uZ2V0QXNBcnJheSgpKSk7CiAgICAgIAkgICAgZWxzZQogICAgICAJICAgICAgY29uc29sZS53YXJuKCJ1bnN1cHBvcnRlZCB1bmlmb3JtIG1hdHJpeCIpOwogICAgICAJICB9CiAgICAgIAl9CiAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBMb2FkIGluZGljZXMgZm9yIGNvbXBsZXggZHJhd2luZwogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gb2JqIC0gT2JqZWN0IHRvIHdvcmsgd2l0aAogICAgICogQHBhcmFtIHsgbnVtZXJpYyB9IHBhc3MgLSBXaGljaCBwYXNzIG9mIGRyYXdpbmc/CiAgICAgKiBAcGFyYW0geyBhcnJheSB9IGluZGljZXMgLSBJbmRpY2VzIHRvIGRyYXcKICAgICAqLyAgICAKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5kb0xvYWRJbmRpY2VzID0gZnVuY3Rpb24ob2JqLCBwYXNzLCBpbmRpY2VzKSB7CiAgICAgIHZhciBnbCA9IHRoaXMuZ2wsCiAgICAgICAgICBmID0gb2JqLmZbcGFzc10sCiAgICAgICAgICB0eXBlID0gb2JqLnR5cGUsCiAgICAgICAgICBmYXRfbGluZXMgPSB0aGlzLmlzU2V0KG9iai5mbGFncywgdGhpcy5mX2ZhdF9saW5lcyksCiAgICAgICAgICBmbmV3LCBzdGVwOwogICAgICBzd2l0Y2godHlwZSl7CiAgICAgICAgY2FzZSAicG9pbnRzIjoKICAgICAgICAgIHN0ZXAgPSAxOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiYWJjbGluZXMiOgogICAgICAgIGNhc2UgImxpbmVzIjoKICAgICAgICAgIGlmIChmYXRfbGluZXMpCiAgICAgICAgICAgIHN0ZXAgPSA2OwogICAgICAgICAgZWxzZQogICAgICAgICAgICBzdGVwID0gMjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgImxpbmVzdHJpcCI6CiAgICAgICAgICBpZiAoZmF0X2xpbmVzKQogICAgICAgICAgICBzdGVwID0gNjsKICAgICAgICAgIGVsc2UKICAgICAgICAgICAgc3RlcCA9IDE7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJzcGhlcmUiOgogICAgICAgIGNhc2UgInBsYW5lcyI6CiAgICAgICAgY2FzZSAidHJpYW5nbGVzIjoKICAgICAgICAgIHN0ZXAgPSAzOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAidGV4dCI6CiAgICAgICAgY2FzZSAic3ByaXRlcyI6CiAgICAgICAgY2FzZSAicXVhZHMiOgogICAgICAgIGNhc2UgInN1cmZhY2UiOgogICAgICAgICAgc3RlcCA9IDY7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgY29uc29sZS5lcnJvcigibG9hZEluZGljZXMgZm9yICIrdHlwZSk7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgICBpZiAob2JqLmluZGV4X3VpbnQpCiAgICAgICAgZm5ldyA9IG5ldyBVaW50MzJBcnJheShzdGVwICogaW5kaWNlcy5sZW5ndGgpOwogICAgICBlbHNlCiAgICAgICAgZm5ldyA9IG5ldyBVaW50MTZBcnJheShzdGVwICogaW5kaWNlcy5sZW5ndGgpOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN0ZXA7IGorKykgewogICAgICAgICAgZm5ld1tzdGVwKmkgKyBqXSA9IGZbc3RlcCppbmRpY2VzW2ldICsgal07CiAgICAgICAgfQogICAgICB9CiAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGZuZXcsIGdsLkRZTkFNSUNfRFJBVyk7CiAgICAgIHJldHVybiBmbmV3Lmxlbmd0aDsKICAgIH07CgogICAgLyoqCiAgICAgKiBEbyBjb2RlIGZvciBkZXB0aCBtYXNraW5nCiAgICAgKiBAcGFyYW0geyBib29sZWFuIH0gbWFzayAtIHdoZXRoZXIgdG8gbWFzawogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZG9NYXNraW5nID0gZnVuY3Rpb24obWFzaykgewogICAgICB2YXIgZ2wgPSB0aGlzLmdsOwogICAgICBnbC5kZXB0aE1hc2sobWFzayk7CiAgICB9OwoKICAgIC8qKgogICAgICogRG8gY29kZSBmb3IgYWxwaGEgYmxlbmRpbmcKICAgICAqIEBwYXJhbSB7IGJvb2xlYW4gfSAgYmxlbmQgLSBXaGV0aGVyIHRvIGJsZW5kLgogICAgICovICAgIAogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRvQmxlbmRpbmcgPSBmdW5jdGlvbihibGVuZCkgewogICAgICB2YXIgZ2wgPSB0aGlzLmdsOwogICAgICBpZiAoYmxlbmQpIHsKICAgICAgICBnbC5ibGVuZEZ1bmNTZXBhcmF0ZShnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLk9ORSwgZ2wuT05FKTsKICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpOwogICAgICB9IGVsc2UgewogICAgICAgIGdsLmRpc2FibGUoZ2wuQkxFTkQpOwogICAgICB9CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIFNldCB1cCBmb3IgZm9nIGluIHRoZSBzdWJzY2VuZQogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gb2JqIC0gYmFja2dyb3VuZCBvYmplY3QKICAgICAqIEBwYXJhbSB7IG9iamVjdCB9IHN1YnNjZW5lIC0gd2hpY2ggc3Vic2NlbmUKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRvRm9nID0gZnVuY3Rpb24ob2JqLCBzdWJzY2VuZSkgewogICAgICB2YXIgZ2wgPSB0aGlzLmdsLCBmb2dtb2RlLCBjb2xvciwgCiAgICAgICAgICBvYnNlcnZlciA9IHN1YnNjZW5lLnBhcjNkLm9ic2VydmVyWzJdLAogICAgICAgICAgc2ludGhldGEgPSBNYXRoLnNpbihzdWJzY2VuZS5wYXIzZC5GT1YqTWF0aC5QSS8xODAvMiksCiAgICAgICAgICBwYXJtcyA9IFt0aGlzLmZydXN0dW0ubmVhciAtIDIqb2JzZXJ2ZXIsCiAgICAgICAgICAgICAgICAgICB0aGlzLmZydXN0dW0uZmFyIC0gMipvYnNlcnZlciwKICAgICAgICAgICAgICAgICAgIHRoaXMuZm9nU2NhbGUsCiAgICAgICAgICAgICAgICAgICAoMS1zaW50aGV0YSkvKDErc2ludGhldGEpXTsKICAgICAgaWYgKHR5cGVvZiB0aGlzLmZvZ1R5cGUgPT09ICJ1bmRlZmluZWQiKQogICAgICAgIHRoaXMuZm9nVHlwZSA9ICJub25lIjsKICAgICAgaWYgKHR5cGVvZiB0aGlzLmZvZ1NjYWxlID09PSAidW5kZWZpbmVkIikKICAgICAgICBwYXJtc1syXSA9IDE7CiAgICAgIGlmIChzaW50aGV0YSA9PT0gMCkKICAgICAgICBwYXJtc1szXSA9IDEvMzsKICAgICAgc3dpdGNoKHRoaXMuZm9nVHlwZSl7CiAgICAgICAgY2FzZSAibm9uZSI6IGZvZ21vZGUgPSAwOyBicmVhazsKICAgICAgICBjYXNlICJsaW5lYXIiOiAKICAgICAgICAgIGZvZ21vZGUgPSAxOyBicmVhazsKICAgICAgICBjYXNlICJleHAiOiAgCiAgICAgICAgICBmb2dtb2RlID0gMjsgYnJlYWs7CiAgICAgICAgY2FzZSAiZXhwMiI6IAogICAgICAgICAgZm9nbW9kZSA9IDM7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OiBjb25zb2xlLmVycm9yKCJVbmtub3duIGZvZ3R5cGUgIit0aGlzLmZvZ1R5cGUpOwogICAgICB9CiAgICAgIGdsLnVuaWZvcm0xaShvYmoudUZvZ01vZGUsIGZvZ21vZGUpOwogICAgICBjb2xvciA9IHRoaXMuZm9nQ29sb3I7CiAgICAgIGdsLnVuaWZvcm0zZihvYmoudUZvZ0NvbG9yLCBjb2xvclswXSwgY29sb3JbMV0sIGNvbG9yWzJdKTsKICAgICAgZ2wudW5pZm9ybTRmKG9iai51Rm9nUGFybXMsIHBhcm1zWzBdLCBwYXJtc1sxXSwgcGFybXNbMl0sIHBhcm1zWzNdKTsKICAgIH07CgogICAgLyogVGhlIGRyYXcgbWV0aG9kcyBhcmUgY2FsbGVkIHR3aWNlLiAgV2hlbiAKICAgICAgIHRoaXMub3BhcXVlUGFzcyBpcyB0cnVlLCB0aGV5IHNob3VsZCBkcmF3IG9wYXF1ZSBwYXJ0cwogICAgICAgb2YgdGhlIHNjZW5lLCBhbmQgcmV0dXJuIHRoZSBsaXN0IG9mIHRyYW5zcGFyZW50CiAgICAgICBwaWVjZXMuICBIZXJlIGNvbnRleHQgaXMgdGhlIGNvbnRleHQgYXJyYXkgb24gaW5wdXQsCiAgICAgICBtb2RpZmllZCB3aGVuIHRoZSBtYXRyaWNlcyBhcmUgY2hhbmdlZC4KICAgICAgIFdoZW4gdGhpcy5vcGFxdWVQYXNzIGlzIGZhbHNlLCB0aGUgY29udGV4dCBhcmd1bWVudAogICAgICAgY29udGFpbnMgYSAicGllY2UiLCBpLmUuIGFuIG9yZGVyZWQgbGlzdCBvZiBwYXJ0cwogICAgICAgb2YgdGhlIG9iamVjdCB0byBkcmF3LiAqLwoKICAgIC8qKgogICAgICogRHJhdyBzaW1wbGUgb2JqZWN0CiAgICAgKiBAcGFyYW0geyBvYmplY3QgfSBvYmogLSBPYmplY3QgdG8gZHJhdwogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gc3Vic2NlbmUgLSB3aGljaCBzdWJzY2VuZQogICAgICogQHBhcmFtIHsgYXJyYXkgfSBjb250ZXh0IC0gV2hpY2ggY29udGV4dCBhcmUgd2UgaW4/CiAgICAgKi8gICAgICAgCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZHJhd1NpbXBsZSA9IGZ1bmN0aW9uKG9iaiwgc3Vic2NlbmUsIGNvbnRleHQpIHsKICAgICAgdmFyIAogICAgICAgICAgZmxhZ3MgPSBvYmouZmxhZ3MsCiAgICAgICAgICB0eXBlID0gb2JqLnR5cGUsCiAgICAgICAgICBpc19saXQgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaXNfbGl0KSwKICAgICAgICAgIGhhc190ZXh0dXJlID0gdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2hhc190ZXh0dXJlKSwKICAgICAgICAgIGlzX3RyYW5zcGFyZW50ID0gdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2lzX3RyYW5zcGFyZW50KSwKICAgICAgICAgIGZpeGVkX3NpemUgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfZml4ZWRfc2l6ZSksCiAgICAgICAgICBmaXhlZF9xdWFkcyA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9maXhlZF9xdWFkcyksCiAgICAgICAgICBpc19saW5lcyA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9pc19saW5lcyksCiAgICAgICAgICBmYXRfbGluZXMgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfZmF0X2xpbmVzKSwKICAgICAgICAgIGlzX3R3b3NpZGVkID0gdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2lzX3R3b3NpZGVkKSwKICAgICAgICAgIGhhc19mb2cgPSB0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfaGFzX2ZvZyksCiAgICAgICAgICBoYXNfbm9ybWFscyA9ICh0eXBlb2Ygb2JqLm5vcm1hbHMgIT09ICJ1bmRlZmluZWQiKSB8fAogICAgICAgICAgICAgICAgICAgICAgICBvYmoudHlwZSA9PT0gInNwaGVyZSIsCiAgICAgICAgICBnbCA9IHRoaXMuZ2wgfHwgdGhpcy5pbml0R0woKSwKICAgICAgICAgIGNvdW50LAogICAgICAgICAgcGFzcywgbW9kZSwgcG1vZGUsCiAgICAgICAgICBlbmFibGVkID0ge307CiAgICAgICAgCiAgICAgIGlmICghb2JqLmluaXRpYWxpemVkKQogICAgICAgIHRoaXMuaW5pdE9iaihvYmopOwoKICAgICAgY291bnQgPSBvYmoudmVydGV4Q291bnQ7CiAgICAgIGlmICghY291bnQpCiAgICAgICAgcmV0dXJuIFtdOwogICAgCiAgICAgIGlzX3RyYW5zcGFyZW50ID0gaXNfdHJhbnNwYXJlbnQgfHwgb2JqLnNvbWVIaWRkZW47CiAgICAgIAogICAgICBpZiAoaXNfdHJhbnNwYXJlbnQgJiYgdGhpcy5vcGFxdWVQYXNzKQogICAgICAgIHJldHVybiB0aGlzLmdldFBpZWNlcyhjb250ZXh0LCBvYmouaWQsIDAsIG9iaik7CgogICAgICB0aGlzLmRvRGVwdGhUZXN0KG9iaik7CiAgICAgIAogICAgICB0aGlzLmRvTWFza2luZyh0aGlzLmdldE1hdGVyaWFsKG9iaiwgImRlcHRoX21hc2siKSk7CiAgICAgICAgICAgIAogICAgICBnbC51c2VQcm9ncmFtKG9iai5wcm9nKTsKCiAgICAgIHRoaXMuZG9Qb2x5Z29uT2Zmc2V0KG9iaik7CgogICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgb2JqLmJ1Zik7CgogICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KCBvYmoucHJNYXRMb2MsIGZhbHNlLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMucHJNYXRyaXguZ2V0QXNBcnJheSgpKSApOwogICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KCBvYmoubXZNYXRMb2MsIGZhbHNlLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMubXZNYXRyaXguZ2V0QXNBcnJheSgpKSApOwoKICAgICAgdGhpcy5kb0NsaXBwaW5nKG9iaiwgc3Vic2NlbmUpOwoKICAgICAgaWYgKGlzX2xpdCkKICAgICAgICB0aGlzLmRvTGlnaHRpbmcob2JqLCBzdWJzY2VuZSk7CgogICAgICBpZiAoaGFzX2ZvZykKICAgICAgICB0aGlzLmRvRm9nKG9iaiwgc3Vic2NlbmUpOwoKICAgICAgdGhpcy5kb1VzZXJBdHRyaWJ1dGVzKG9iaik7CgogICAgICB0aGlzLmRvVXNlclVuaWZvcm1zKG9iaik7CiAKICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoIHRoaXMucG9zTG9jICk7CiAgICAgIGVuYWJsZWQucG9zTG9jID0gdHJ1ZTsKICAgICAgICAKICAgICAgaWYgKGhhc190ZXh0dXJlIHx8IG9iai50eXBlID09PSAidGV4dCIpCiAgICAgICAgZW5hYmxlZC50ZXhMb2MgPSB0aGlzLmRvVGV4dHVyZShvYmopOwoKICAgICAgZW5hYmxlZC5jb2xMb2MgPSB0aGlzLmRvQ29sb3JzKG9iaik7CiAgICAgIGlmIChpc19saXQpCiAgICAgICAgZW5hYmxlZC5ub3JtTG9jID0gdGhpcy5kb05vcm1hbHMob2JqKTsKCiAgICAgIGlmIChmaXhlZF9zaXplKSB7CiAgICAgICAgZ2wudW5pZm9ybTNmKCBvYmoudGV4dFNjYWxlTG9jLCAwLjc1L3RoaXMudnAud2lkdGgsIDAuNzUvdGhpcy52cC5oZWlnaHQsIDEuMCk7CiAgICAgIH0KICAgICAgCiAgICAgIGlmIChmaXhlZF9xdWFkcykgewogICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KCBvYmoub2ZzTG9jICk7CiAgICAgICAgZW5hYmxlZC5vZnNMb2MgPSB0cnVlOwogICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIob2JqLm9mc0xvYywgMywgZ2wuRkxPQVQsIGZhbHNlLCA0Km9iai52T2Zmc2V0cy5zdHJpZGUsIDQqb2JqLnZPZmZzZXRzLm9vZnMpOwogICAgICB9CgogICAgICBmb3IgKHBhc3MgPSAwOyBwYXNzIDwgb2JqLnBhc3NlczsgcGFzcysrKSB7CiAgICAgIAlwbW9kZSA9IG9iai5wbW9kZVtwYXNzXTsKICAgICAgICBpZiAocG1vZGUgPT09ICJjdWxsZWQiKQogICAgICAgICAgY29udGludWU7CgogICAgICAJbW9kZSA9IGZhdF9saW5lcyAmJiAoaXNfbGluZXMgfHwgcG1vZGUgPT09ICJsaW5lcyIpID8gIlRSSUFOR0xFUyIgOiB0aGlzLm1vZGU0dHlwZVt0eXBlXTsKCiAgICAgIAlpZiAoaXNfdHdvc2lkZWQpIHsKICAgICAgCSAgZ2wudW5pZm9ybTFpKG9iai5mcm9udExvYywgcGFzcyAhPT0gMCk7CiAgICAgIAkgIGlmIChoYXNfbm9ybWFscykgewogICAgICAJICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYob2JqLmludlByTWF0TG9jLCBmYWxzZSwgbmV3IEZsb2F0MzJBcnJheSh0aGlzLmludlByTWF0cml4LmdldEFzQXJyYXkoKSkpOwogICAgICAJICB9CiAgICAgIAl9CgogICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG9iai5pYnVmW3Bhc3NdKTsKICAgICAgICBpZiAoIXRoaXMub3BhcXVlUGFzcykgewogICAgICAgICAgaWYgKHR5cGUgPT09ICJzcGhlcmUiICYmIG9iai5mYXN0VHJhbnNwYXJlbmN5KQogICAgICAgICAgICBjb3VudCA9IHRoaXMuZG9Mb2FkSW5kaWNlcyhvYmosIHBhc3MsIHRoaXMuc3BoZXJlLmZhc3RwaWVjZXNbMF0uaW5kaWNlcyk7CiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIGNvdW50ID0gdGhpcy5kb0xvYWRJbmRpY2VzKG9iaiwgcGFzcywgY29udGV4dC5pbmRpY2VzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY291bnQgPSBvYmouZltwYXNzXS5sZW5ndGg7CiAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBvYmouZltwYXNzXSwgZ2wuU1RBVElDX0RSQVcpOwogICAgICAgIH0KICAgICAgCWlmICghaXNfbGluZXMgJiYgcG1vZGUgPT09ICJsaW5lcyIgJiYgIWZhdF9saW5lcykgewogICAgICAgICAgbW9kZSA9ICJMSU5FUyI7CiAgICAgICAgfSBlbHNlIGlmIChwbW9kZSA9PT0gInBvaW50cyIpIHsKICAgICAgICAgIG1vZGUgPSAiUE9JTlRTIjsKICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgaWYgKChpc19saW5lcyB8fCBwbW9kZSA9PT0gImxpbmVzIikgJiYgZmF0X2xpbmVzKSB7CiAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShvYmoucG9pbnRMb2MpOwogICAgICAgICAgZW5hYmxlZC5wb2ludExvYyA9IHRydWU7CiAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKG9iai5wb2ludExvYywgMiwgZ2wuRkxPQVQsIGZhbHNlLCA0Km9iai52T2Zmc2V0cy5zdHJpZGUsIDQqb2JqLnZPZmZzZXRzLnBvaW50b2ZzKTsKICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG9iai5uZXh0TG9jICk7CiAgICAgICAgICBlbmFibGVkLm5leHRMb2MgPSB0cnVlOwogICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihvYmoubmV4dExvYywgMywgZ2wuRkxPQVQsIGZhbHNlLCA0Km9iai52T2Zmc2V0cy5zdHJpZGUsIDQqb2JqLnZPZmZzZXRzLm5leHRvZnMpOwogICAgICAgICAgZ2wudW5pZm9ybTFmKG9iai5hc3BlY3RMb2MsIHRoaXMudnAud2lkdGgvdGhpcy52cC5oZWlnaHQpOwogICAgICAgICAgZ2wudW5pZm9ybTFmKG9iai5sd2RMb2MsIHRoaXMuZ2V0TWF0ZXJpYWwob2JqLCAibHdkIikvdGhpcy52cC5oZWlnaHQpOwogICAgICAgIH0KCiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLnBvc0xvYywgIDMsIGdsLkZMT0FULCBmYWxzZSwgNCpvYmoudk9mZnNldHMuc3RyaWRlLCAgNCpvYmoudk9mZnNldHMudm9mcyk7CgogICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbFttb2RlXSwgY291bnQsIG9iai5pbmRleF91aW50ID8gZ2wuVU5TSUdORURfSU5UIDogZ2wuVU5TSUdORURfU0hPUlQsIDApOwogICAgICB9CiAgICAgIHRoaXMuZGlzYWJsZUFycmF5cyhvYmosIGVuYWJsZWQpOwogICAgICByZXR1cm4gW107CiAgICB9OwoKICAgIC8qKgogICAgICogRHJhdyBwbGFuZXMgb2JqZWN0CiAgICAgKiBAcGFyYW0geyBvYmplY3QgfSBvYmogLSBPYmplY3QgdG8gZHJhdwogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gc3Vic2NlbmUgLSB3aGljaCBzdWJzY2VuZQogICAgICogQHBhcmFtIHsgYXJyYXkgfSBjb250ZXh0IC0gV2hpY2ggY29udGV4dCBhcmUgd2UgaW4/CiAgICAgKi8gICAgICAKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5kcmF3UGxhbmVzID0gZnVuY3Rpb24ob2JqLCBzdWJzY2VuZSwgY29udGV4dCkgewogICAgICBpZiAob2JqLmJib3ggIT09IHN1YnNjZW5lLnBhcjNkLmJib3ggfHwgIW9iai5pbml0aWFsaXplZCkgewogICAgICAgICAgdGhpcy5wbGFuZVVwZGF0ZVRyaWFuZ2xlcyhvYmosIHN1YnNjZW5lLnBhcjNkLmJib3gpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmRyYXdTaW1wbGUob2JqLCBzdWJzY2VuZSwgY29udGV4dCk7CiAgIH07CgogICAgLyoqCiAgICAgKiBAcGFyYW0geyBvYmplY3QgfSBvYmogLSBvYmplY3QgdG8gZHJhdwogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gc3Vic2NlbmUgCiAgICAgKiBAcGFyYW0geyBhcnJheSB9IGNvbnRleHQgCiAgICAgKiBAZGVzY3JpcHRpb24KICAgICAqIERyYXcgc3BoZXJlcyBpbiBhIHN1YnNjZW5lPGJyPgogICAgICogCiAgICAgKiBEcmF3aW5nIHNwaGVyZXMgaGFwcGVucyBpbiBzaXggd2F5czo8YnI+CiAgICAgKiAxIG9wYXF1ZXBhc3MsIG5vdCB0cmFuc3BhcmVudDogIHRyYW5zZm9ybSBhbmQgZHJhdyB0aGlzLnNwaGVyZSBjb3VudCB0aW1lczxicj4KICAgICAqIDIgb3BhcXVlcGFzcywgdHJhbnNwYXJlbnQsIG5vdCBmYXN0OiB0cmFuc2Zvcm0gJiBjb2xsZWN0IHNwaGVyZSBwaWVjZXMgY291bnQgdGltZXM8YnI+CiAgICAgKiAzIG9wYXF1ZXBhc3MsIHRyYW5zcGFyZW50LCBmYXN0OiAgb3JkZXIgdGhlIGNlbnRyZXMgaW50byBzZXBhcmF0ZSBwaWVjZXMsIG9yZGVyIHRoaXMuc3BoZXJlIG9uY2U8YnI+CiAgICAgKiA0IG5vdCBvcGFxdWVwYXNzLCBub3QgdHJhbnNwYXJlbnQ6ICBkbyBub3RoaW5nPGJyPgogICAgICogNSBub3Qgb3BhcXVlcGFzcywgdHJhbnNwYXJlbnQsIG5vdCBmYXN0OiAgdHJhbnNmb3JtIGZvciBvbmUgc3BoZXJlLCBkcmF3IG9uZSBtZXJnZWQgcGllY2U8YnI+CiAgICAgKiA2IG5vdCBvcGFxdWVwYXNzLCB0cmFuc3BhcmVudCwgZmFzdDogIHRyYW5zZm9ybSBmb3Igb25lIHNwaGVyZSwgZHJhdyB0aGlzLnNwaGVyZSBpbiBmaXhlZCBvcmRlci48YnI+CiAgICAgKiovCgogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRyYXdTcGhlcmVzID0gZnVuY3Rpb24ob2JqLCBzdWJzY2VuZSwgY29udGV4dCkgewogICAgICB2YXIgZmxhZ3MgPSBvYmouZmxhZ3MsCiAgICAgICAgICBpc190cmFuc3BhcmVudCA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9pc190cmFuc3BhcmVudCksCiAgICAgICAgICBzcGhlcmVNViwgYmFzZW9mcywgb2ZzLCBzc2NhbGUsIGksCiAgICAgICAgICBjb3VudCwgbmMsIHNjb3VudCwgc2NhbGUsIGluZGljZXMsIHNwaGVyZU5vcm0sCiAgICAgICAgICBlbmFibGVkID0ge30sIGRyYXdpbmcsCiAgICAgICAgICBzYXZlTm9ybSA9IG5ldyBDYW52YXNNYXRyaXg0KHRoaXMubm9ybU1hdHJpeCksCiAgICAgICAgICBzYXZlTVYgPSBuZXcgQ2FudmFzTWF0cml4NCh0aGlzLm12TWF0cml4KSwKICAgICAgICAgIHNhdmVQUk1WID0gbnVsbCwKICAgICAgICAgIHJlc3VsdCA9IFtdLCBpZHgsIG1hcmdpbiA9IG9iai5tYXRlcmlhbC5tYXJnaW47CiAKICAgICAgaWYgKHR5cGVvZiBtYXJnaW4gIT09ICJ1bmRlZmluZWQiKQogICAgICAgIGlmICghdGhpcy5tYXJnaW5WZWNUb0RhdGFWZWMob2JqLCBzdWJzY2VuZSkpCiAgICAgICAgICByZXR1cm4gW107CgogICAgICBpZiAoIW9iai5pbml0aWFsaXplZCkKICAgICAgICB0aGlzLmluaXRPYmoob2JqKTsKCiAgICAgIGNvdW50ID0gb2JqLnZlcnRleENvdW50OwogICAgICBpZiAoIWNvdW50KSAKICAgICAgICByZXR1cm4gW107CiAgICAgICAgCiAgICAgIGlzX3RyYW5zcGFyZW50ID0gaXNfdHJhbnNwYXJlbnQgfHwgb2JqLnNvbWVIaWRkZW47CgogICAgICBpZiAoIXRoaXMub3BhcXVlUGFzcyAmJiAhaXNfdHJhbnNwYXJlbnQpCiAgICAgICAgcmV0dXJuIFtdOwogICAgICAgIAogICAgICBpZiAodGhpcy5wcm12TWF0cml4ICE9PSBudWxsKQogICAgICAgIHNhdmVQUk1WID0gbmV3IENhbnZhc01hdHJpeDQodGhpcy5wcm12TWF0cml4KTsKICAgICAgCiAgICAgIHNjYWxlID0gc3Vic2NlbmUucGFyM2Quc2NhbGU7ICAgICAgICAKICAgICAgc3BoZXJlTm9ybSA9IG5ldyBDYW52YXNNYXRyaXg0KCk7CiAgICAgIHNwaGVyZU5vcm0uc2NhbGUoc2NhbGVbMF0sIHNjYWxlWzFdLCBzY2FsZVsyXSk7CiAgICAgIHNwaGVyZU5vcm0ubXVsdFJpZ2h0KHNhdmVOb3JtKTsKICAgICAgdGhpcy5ub3JtTWF0cml4ID0gc3BoZXJlTm9ybTsKCiAgICAgIGlmICh0aGlzLm9wYXF1ZVBhc3MpIHsKICAgICAgICBjb250ZXh0ID0gY29udGV4dC5zbGljZSgpOwogICAgICAgIGNvbnRleHQucHVzaChvYmouaWQpOwogICAgICB9IAogICAgICAKICAgICAgZHJhd2luZyA9IHRoaXMub3BhcXVlUGFzcyAhPT0gaXNfdHJhbnNwYXJlbnQ7CiAgICAgIGlmIChkcmF3aW5nKSB7CiAgICAgICAgbmMgPSBvYmouY29sb3JDb3VudDsKICAgICAgICBpZiAobmMgPT09IDEpIHsKICAgICAgICAgIHRoaXMuc3BoZXJlLm9uZWNvbG9yID0gb2JqLm9uZWNvbG9yOwogICAgICAgIH0KICAgICAgfQogICAgICAKICAgICAgdGhpcy5pbml0U2hhcGVGcm9tT2JqKHRoaXMuc3BoZXJlLCBvYmopOwoKICAgICAgaWYgKCF0aGlzLm9wYXF1ZVBhc3MgJiYgb2JqLmZhc3RUcmFuc3BhcmVuY3kgJiYgdHlwZW9mIHRoaXMuc3BoZXJlLmZhc3RwaWVjZXMgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgdGhpcy5zcGhlcmUuZmFzdHBpZWNlcyA9IHRoaXMuZ2V0UGllY2VzKGNvbnRleHQuY29udGV4dCwgb2JqLmlkLCAwLCB0aGlzLnNwaGVyZSk7CiAgICAgICAgdGhpcy5zcGhlcmUuZmFzdHBpZWNlcyA9IHRoaXMuc29ydFBpZWNlcyh0aGlzLnNwaGVyZS5mYXN0cGllY2VzKTsKICAgICAgICB0aGlzLnNwaGVyZS5mYXN0cGllY2VzID0gdGhpcy5tZXJnZVBpZWNlcyh0aGlzLnNwaGVyZS5mYXN0cGllY2VzKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMub3BhcXVlUGFzcykKICAgICAgICBzY291bnQgPSBjb3VudDsKICAgICAgZWxzZSB7CiAgICAgICAgaW5kaWNlcyA9IGNvbnRleHQuaW5kaWNlczsKICAgICAgICBpZiAob2JqLmZhc3RUcmFuc3BhcmVuY3kpCiAgICAgICAgICBzY291bnQgPSBpbmRpY2VzLmxlbmd0aDsgIC8qIEVhY2ggaXRlbSBnaXZlcyB0aGUgY2VudGVyIG9mIGEgd2hvbGUgc3BoZXJlICovCiAgICAgICAgZWxzZQogICAgICAgICAgc2NvdW50ID0gMTsgICAgICAgICAgICAgICAvKiBFYWNoIGl0ZW0gaXMgYSBmcmFnbWVudCBvZiB0aGUgc3BoZXJlLCBhdCBsb2NhdGlvbiBzdWJpZCAqLwogICAgICB9CiAgICAgIGZvciAoaSA9IDA7IGkgPCBzY291bnQ7IGkrKykgewogICAgICAgIHNwaGVyZU1WID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgICAgICBpZiAodGhpcy5vcGFxdWVQYXNzKQogICAgICAgICAgaWR4ID0gaTsKICAgICAgICBlbHNlIGlmIChvYmouZmFzdFRyYW5zcGFyZW5jeSkKICAgICAgICAgIGlkeCA9IGluZGljZXNbaV07CiAgICAgICAgZWxzZQogICAgICAgICAgaWR4ID0gY29udGV4dC5zdWJpZDsKICAgICAgICBpZiAodHlwZW9mIGlkeCA9PT0gInVuZGVmaW5lZCIpCiAgICAgICAgICBjb25zb2xlLmVycm9yKCJpZHggaXMgdW5kZWZpbmVkIik7CiAgICAgICAgYmFzZW9mcyA9IGlkeCpvYmoudk9mZnNldHMuc3RyaWRlOwogICAgICAgIG9mcyA9IGJhc2VvZnMgKyBvYmoudk9mZnNldHMucmFkb2ZzOwogICAgICAgIHNzY2FsZSA9IG9iai52YWx1ZXNbb2ZzXTsKCiAgICAgICAgc3BoZXJlTVYuc2NhbGUoc3NjYWxlL3NjYWxlWzBdLCBzc2NhbGUvc2NhbGVbMV0sIHNzY2FsZS9zY2FsZVsyXSk7CiAgICAgICAgc3BoZXJlTVYudHJhbnNsYXRlKG9iai52YWx1ZXNbYmFzZW9mc10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnZhbHVlc1tiYXNlb2ZzKzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai52YWx1ZXNbYmFzZW9mcysyXSk7CiAgICAgICAgc3BoZXJlTVYubXVsdFJpZ2h0KHNhdmVNVik7CiAgICAgICAgdGhpcy5tdk1hdHJpeCA9IHNwaGVyZU1WOwogICAgICAgIHRoaXMuc2V0bm9ybU1hdHJpeDIoKTsKICAgICAgICB0aGlzLnNldHBybXZNYXRyaXgoKTsKICAgICAgICBpZiAoZHJhd2luZykgewogICAgICAgICAgaWYgKG5jID4gMSkgewogICAgICAgICAgICB0aGlzLnNwaGVyZS5vbmVjb2xvciA9IG9iai52YWx1ZXMuc2xpY2UoYmFzZW9mcyArIG9iai52T2Zmc2V0cy5jb2ZzLCBiYXNlb2ZzICsgb2JqLnZPZmZzZXRzLmNvZnMgKyA0KTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZHJhd1NpbXBsZSh0aGlzLnNwaGVyZSwgc3Vic2NlbmUsIGNvbnRleHQpOwogICAgICAgIH0gZWxzZSAKICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQodGhpcy5nZXRTcGhlcmVQaWVjZXMoY29udGV4dCwgaSwgb2JqKSk7CiAgICAgIH0KICAgICAgaWYgKGRyYXdpbmcpCiAgICAgICAgdGhpcy5kaXNhYmxlQXJyYXlzKG9iaiwgZW5hYmxlZCk7CiAgICAgIHRoaXMubm9ybU1hdHJpeCA9IHNhdmVOb3JtOwogICAgICB0aGlzLm12TWF0cml4ID0gc2F2ZU1WOwogICAgICB0aGlzLnBybXZNYXRyaXggPSBzYXZlUFJNVjsKICAgICAgICAKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogUHJlcGFyZSBjbGlwcGxhbmVzIGZvciBkcmF3aW5nCiAgICAgKiBAcGFyYW0geyBvYmplY3QgfSBvYmogLSBjbGlwIHBsYW5lcyBvYmplY3QKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRyYXdDbGlwcGxhbmVzID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgIHZhciBjb3VudCA9IG9iai5vZmZzZXRzLmxlbmd0aCwKICAgICAgICBJTVZDbGlwID0gW107CiAgICAgIGZvciAodmFyIGk9MDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBJTVZDbGlwW2ldID0gdGhpcy5tdWx0TVYodGhpcy5pbnZNYXRyaXgsIG9iai52Q2xpcHBsYW5lLnNsaWNlKDQqaSwgNCooaSsxKSkpOwogICAgICB9CiAgICAgIG9iai5JTVZDbGlwID0gSU1WQ2xpcDsKICAgICAgcmV0dXJuIFtdOwogICAgfTsKCiAgICAvKioKICAgICAqIFByZXBhcmUgbGluZXN0cmlwIGZvciBkcmF3aW5nCiAgICAgKiBAcGFyYW0geyBvYmplY3QgfSBvYmogLSBsaW5lIHN0cmlwIG9iamVjdAogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gc3Vic2NlbmUgCiAgICAgKiBAcGFyYW0geyBhcnJheSB9IGNvbnRleHQgCiAgICAgKi8gICAgCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZHJhd0xpbmVzdHJpcCA9IGZ1bmN0aW9uKG9iaiwgc3Vic2NlbmUsIGNvbnRleHQpIHsKICAgICAgdmFyIG9yaWdJbmRpY2VzLCBpLCBqLCBtYXJnaW4gPSBvYmoubWF0ZXJpYWwubWFyZ2luOwogCiAgICAgIGlmICh0eXBlb2YgbWFyZ2luICE9PSAidW5kZWZpbmVkIikgCiAgICAgICAgaWYgKCF0aGlzLm1hcmdpblZlY1RvRGF0YVZlYyhvYmosIHN1YnNjZW5lKSkKICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgIAogICAgICBpZiAodGhpcy5vcGFxdWVQYXNzKQogICAgICAgIHJldHVybiB0aGlzLmRyYXdTaW1wbGUob2JqLCBzdWJzY2VuZSwgY29udGV4dCk7CiAgICAgIG9yaWdJbmRpY2VzID0gY29udGV4dC5pbmRpY2VzLnNsaWNlKCk7CiAgICAgIGZvciAoaT0wOyBpIDwgb3JpZ0luZGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBqID0gb3JpZ0luZGljZXNbaV07CiAgICAgICAgaWYgKGogPCBvYmouY2VudGVycy5sZW5ndGggLSAxKSB7CiAgICAgICAgICBjb250ZXh0LmluZGljZXMgPSBbaiwgaisxXTsKICAgICAgICAgIHRoaXMuZHJhd1NpbXBsZShvYmosIHN1YnNjZW5lLCBjb250ZXh0KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgY29udGV4dC5pbmRpY2VzID0gb3JpZ0luZGljZXM7CiAgICAgIHJldHVybiBbXTsKICAgIH07CiAgICAgICAgICAKICAgIC8qKgogICAgICogRHJhdyBhIHNwcml0ZXMgb2JqZWN0IGluIGEgc3Vic2NlbmUKICAgICAqIEBwYXJhbSB7IG9iamVjdCB9IG9iaiAtIG9iamVjdCB0byBkcmF3CiAgICAgKiBAcGFyYW0geyBvYmplY3QgfSBzdWJzY2VuZQogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gY29udGV4dAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZHJhd1Nwcml0ZXMgPSBmdW5jdGlvbihvYmosIHN1YnNjZW5lLCBjb250ZXh0KSB7CiAgICAgIHZhciBmbGFncyA9IG9iai5mbGFncywKICAgICAgICAgIGlzX3RyYW5zcGFyZW50ID0gdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2lzX3RyYW5zcGFyZW50KSwKICAgICAgICAgIHNwcml0ZXMzZCA9IHRoaXMuaXNTZXQoZmxhZ3MsIHRoaXMuZl9zcHJpdGVzXzNkKSwKICAgICAgICAgIGksaiwKICAgICAgICAgIG9yaWdNViA9IG5ldyBDYW52YXNNYXRyaXg0KCB0aGlzLm12TWF0cml4ICksCiAgICAgICAgICBvcmlnUFJNViA9IG51bGwsCiAgICAgICAgICBwb3MsIHJhZGl1cywgdXNlck1hdHJpeCwKICAgICAgICAgIHJlc3VsdCA9IFtdLCBtYXJnaW4gPSBvYmoubWF0ZXJpYWwubWFyZ2luOwogCiAgICAgIGlmICh0eXBlb2YgbWFyZ2luICE9PSAidW5kZWZpbmVkIikKICAgICAgICBpZiAoIXRoaXMubWFyZ2luVmVjVG9EYXRhVmVjKG9iaiwgc3Vic2NlbmUpKQogICAgICAgICAgcmV0dXJuIFtdOwoKICAgICAgaWYgKCFzcHJpdGVzM2QpIAogICAgICAgIHJldHVybiB0aGlzLmRyYXdTaW1wbGUob2JqLCBzdWJzY2VuZSwgY29udGV4dCk7CiAgICAgIAogICAgICBpZiAoIW9iai5pbml0aWFsaXplZCkKICAgICAgICB0aGlzLmluaXRPYmoob2JqKTsKCiAgICAgIGlmICghb2JqLnZlcnRleENvdW50KQogICAgICAgIHJldHVybiBbXTsKICAgIAogICAgICBpc190cmFuc3BhcmVudCA9IGlzX3RyYW5zcGFyZW50IHx8IG9iai5zb21lSGlkZGVuOwogICAgICAKICAgICAgdmFyIG5vcmlncyA9IG9iai52ZXJ0aWNlcy5sZW5ndGgsCiAgICAgICAgICBzYXZlbm9ybSA9IG5ldyBDYW52YXNNYXRyaXg0KHRoaXMubm9ybU1hdHJpeCksCiAgICAgICAgICBpT3JpZywgYWRqLCBvZmZzZXQ7CgogICAgICB0aGlzLm5vcm1NYXRyaXggPSBzdWJzY2VuZS5zcHJpdGVOb3JtbWF0OwogICAgICB1c2VyTWF0cml4ID0gb2JqLnVzZXJNYXRyaXg7CiAgICAgICAgICAgICAgICAgICAKICAgICAgaWYgKHRoaXMub3BhcXVlUGFzcykgewogICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnNsaWNlKCk7CiAgICAgICAgY29udGV4dC5wdXNoKG9iai5pZCk7CiAgICAgIH0gZWxzZQogICAgICAgIG5vcmlncyA9IDE7CiAgICAgICAgICAKICAgICAgaWYgKHRoaXMucHJtdk1hdHJpeCAhPT0gbnVsbCkKICAgICAgICAgb3JpZ1BSTVYgPSBuZXcgQ2FudmFzTWF0cml4NCggdGhpcy5wcm12TWF0cml4ICk7CgogICAgICBvZmZzZXQgPSBvYmoub2Zmc2V0OwogICAgICAgIAogICAgICBmb3IgKGlPcmlnPTA7IGlPcmlnIDwgbm9yaWdzOyBpT3JpZysrKSB7CiAgICAgICAgaWYgKHRoaXMub3BhcXVlUGFzcykKICAgICAgICAgIGogPSBpT3JpZzsKICAgICAgICBlbHNlCiAgICAgICAgICBqID0gY29udGV4dC5zdWJpZDsKCiAgICAgICAgcG9zID0gdGhpcy5tdWx0Vk0oW10uY29uY2F0KG9iai52ZXJ0aWNlc1tqXSkuY29uY2F0KDEuMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ01WKTsKICAgICAgICByYWRpdXMgPSBvYmoucmFkaWkubGVuZ3RoID4gMSA/IG9iai5yYWRpaVtqXVswXSA6IG9iai5yYWRpaVswXVswXTsKICAgICAgICB0aGlzLm12TWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQodXNlck1hdHJpeCk7CiAgICAgICAgYWRqID0gdGhpcy5nZXRBZGoob2JqLCBqLCBvZmZzZXQpOwogICAgICAgIHRoaXMubXZNYXRyaXgudHJhbnNsYXRlKDEgLSAyKmFkalswXSwgMSAtIDIqYWRqWzFdLCAxIC0gMiphZGpbMl0pOwogICAgICAgIHRoaXMubXZNYXRyaXguc2NhbGUocmFkaXVzKTsKICAgICAgICB0aGlzLm12TWF0cml4LnRyYW5zbGF0ZShwb3NbMF0vcG9zWzNdLCBwb3NbMV0vcG9zWzNdLCBwb3NbMl0vcG9zWzNdKTsKICAgICAgICB0aGlzLnNldHBybXZNYXRyaXgoKTsKICAgICAgICBmb3IgKGk9MDsgaSA8IG9iai5vYmplY3RzLmxlbmd0aDsgaSsrKQogICAgICAgICAgaWYgKHRoaXMub3BhcXVlUGFzcykKICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdCh0aGlzLmRyYXdPYmpJZChvYmoub2JqZWN0c1tpXSwgc3Vic2NlbmUuaWQsIGNvbnRleHQuY29uY2F0KGopKSk7CiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHRoaXMuZHJhd09iaklkKG9iai5vYmplY3RzW2ldLCBzdWJzY2VuZS5pZCwgY29udGV4dCk7CiAgICAgIH0KICAgICAgdGhpcy5ub3JtTWF0cml4ID0gc2F2ZW5vcm07CiAgICAgIHRoaXMubXZNYXRyaXggPSBvcmlnTVY7CiAgICAgIGlmIChvcmlnUFJNViAhPT0gbnVsbCkKICAgICAgICB0aGlzLnBybXZNYXRyaXggPSBvcmlnUFJNVjsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogRHJhdyBvYmplY3QgdGhhdCBtaWdodCBiZSBpbiBtYXJnaW4KICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IG9iaiAtIHRleHQgb2JqZWN0IHRvIGRyYXcKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IHN1YnNjZW5lIC0gc3Vic2NlbmUgaG9sZGluZyBpdAogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gY29udGV4dCAtIGNvbnRleHQgZm9yIGRyYXdpbmcKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRyYXdNYXJnaW5hbCA9IGZ1bmN0aW9uKG9iaiwgc3Vic2NlbmUsIGNvbnRleHQpIHsKICAgICAgdmFyIG1hcmdpbiA9IG9iai5tYXRlcmlhbC5tYXJnaW47CiAKICAgICAgaWYgKHR5cGVvZiBtYXJnaW4gIT09ICJ1bmRlZmluZWQiKSAKICAgICAgICBpZiAoIXRoaXMubWFyZ2luVmVjVG9EYXRhVmVjKG9iaiwgc3Vic2NlbmUpKQogICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgCiAgICAgIHJldHVybiB0aGlzLmRyYXdTaW1wbGUob2JqLCBzdWJzY2VuZSwgY29udGV4dCk7CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIERyYXcgYm91bmRpbmcgYm94IGFuZCBkZWNvcmF0aW9ucwogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gb2JqIC0gYmJveGRlY28gdG8gZHJhdwogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gc3Vic2NlbmUgLSBzdWJzY2VuZSBob2xkaW5nIGl0CiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBjb250ZXh0IC0gY29udGV4dCBmb3IgZHJhd2luZwogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZHJhd0JCb3ggPSBmdW5jdGlvbihvYmosIHN1YnNjZW5lLCBjb250ZXh0KSB7CiAgICAgIHZhciBmbGFncyA9IG9iai5mbGFncywKICAgICAgICAgIGlzX3RyYW5zcGFyZW50ID0gdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2lzX3RyYW5zcGFyZW50KSwKICAgICAgICAgIHNjYWxlLCBiYm94LCBpbmRpY2VzLAogICAgICAgICAgZW5hYmxlZCA9IHt9LCBkcmF3aW5nLAogICAgICAgICAgcmVzdWx0ID0gW10sIGlkeCwgY2VudGVyLCBlZGdlcywKICAgICAgICAgIHNhdmVkOwoKICAgICAgaWYgKCFvYmouaW5pdGlhbGl6ZWQpCiAgICAgICAgdGhpcy5pbml0QkJveChvYmopOwogICAgICAKICAgICAgaXNfdHJhbnNwYXJlbnQgPSBpc190cmFuc3BhcmVudCB8fCBvYmouc29tZUhpZGRlbjsKCiAgICAgIGlmICghdGhpcy5vcGFxdWVQYXNzICYmICFpc190cmFuc3BhcmVudCkKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAKICAgICAgdGhpcy5zZXRCYm94KG9iaiwgc3Vic2NlbmUpOwogICAgICAKICAgICAgc2F2ZWQgPSB0aGlzLnNldEJCb3hNYXRyaWNlcyhvYmopOwogICAgICAKICAgICAgYmJveCA9IG9iai5iYm94OwogICAgICBjZW50ZXIgPSBvYmouY2VudGVyOwoKICAgICAgc2NhbGUgPSBbYmJveFsxXS1iYm94WzBdLCBiYm94WzNdLWJib3hbMl0sIGJib3hbNV0tYmJveFs0XV07CgogICAgICBpZiAoIW9iai5jdWJlLmluaXRpYWxpemVkKSB7CiAgICAgICAgdGhpcy5pbml0T2JqKG9iai5jdWJlKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMub3BhcXVlUGFzcykgewogICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnNsaWNlKCk7CiAgICAgICAgY29udGV4dC5wdXNoKG9iai5pZCk7CiAgICAgIH0gCiAgICAgIAogICAgICBkcmF3aW5nID0gdGhpcy5vcGFxdWVQYXNzICE9PSBpc190cmFuc3BhcmVudDsKICAgICAgdGhpcy5jdWJlLm9uZWNvbG9yID0gb2JqLmN1YmUub25lY29sb3I7CiAgICAgIHRoaXMuaW5pdFNoYXBlRnJvbU9iaih0aGlzLmN1YmUsIG9iai5jdWJlKTsKCiAgICAgIGlmICghdGhpcy5vcGFxdWVQYXNzKQogICAgICAgIGluZGljZXMgPSBjb250ZXh0LmluZGljZXM7CgogICAgICBpZiAodGhpcy5vcGFxdWVQYXNzKQogICAgICAgIGlkeCA9IDA7CiAgICAgIGVsc2UKICAgICAgICBpZHggPSBjb250ZXh0LnN1YmlkOwogICAgICBpZiAodHlwZW9mIGlkeCA9PT0gInVuZGVmaW5lZCIpCiAgICAgICAgY29uc29sZS5lcnJvcigiaWR4IGlzIHVuZGVmaW5lZCIpOwoKICAgICAgaWYgKGRyYXdpbmcpIHsKICAgICAgICB0aGlzLmRyYXdTaW1wbGUodGhpcy5jdWJlLCBzdWJzY2VuZSwgY29udGV4dCk7CiAgICAgIH0gZWxzZSAKICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHRoaXMuZ2V0Q3ViZVBpZWNlcyhjb250ZXh0LCBvYmopKTsKCiAgICAgIGlmIChkcmF3aW5nKSB7CiAgICAgICAgaWYgKCFvYmoudGlja3MuaW5pdGlhbGl6ZWQpIHsKICAgICAgICAgIG9iai50aWNrcy5sb2NhdGlvbnMgPSB0aGlzLmdldFRpY2tMb2NhdGlvbnMob2JqKTsKICAgICAgICAgIG9iai50aWNrcy5lZGdlcyA9IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgICAgZWRnZXMgPSB0aGlzLmdldFRpY2tFZGdlcyh0aGlzLnBybXZNYXRyaXgpOwogICAgICAgIGlmIChvYmoubmVlZHNBeGlzQ2FsbGJhY2spIAogICAgICAgICAgdGhpcy5kb0F4aXNDYWxsYmFjayhvYmosIGVkZ2VzKTsKICAgICAgICBpZiAoIW9iai50aWNrcy5lZGdlcyB8fCBlZGdlcy50b1N0cmluZygpICE9PSBvYmoudGlja3MuZWRnZXMudG9TdHJpbmcoKSkgewogICAgICAgICAgb2JqLnRpY2tzLmVkZ2VzID0gZWRnZXM7CiAgICAgICAgICB0aGlzLmdldFRpY2tWZXJ0aWNlcyhvYmoudGlja3MpOwogICAgICAgICAgdGhpcy5wbGFjZVRpY2tMYWJlbHMob2JqKTsKICAgICAgICAgIHRoaXMuc2V0VGlja0xhYmVscyhvYmopOwogICAgICAgIH0KICAgICAgICBpZiAoIW9iai50aWNrcy5pbml0aWFsaXplZCkgewogICAgICAgICAgdGhpcy5pbml0T2JqKG9iai50aWNrcyk7CiAgICAgICAgICB0aGlzLmluaXRPYmoob2JqLmxhYmVscyk7CiAgICAgICAgfQogICAgICAgIHRoaXMuZHJhd1NpbXBsZShvYmoudGlja3MsIHN1YnNjZW5lLCBjb250ZXh0KTsKICAgICAgICB0aGlzLmRyYXdTaW1wbGUob2JqLmxhYmVscywgc3Vic2NlbmUsIGNvbnRleHQpOwogICAgICB9CiAgICAgIGlmIChkcmF3aW5nKQogICAgICAgIHRoaXMuZGlzYWJsZUFycmF5cyhvYmosIGVuYWJsZWQpOwoKICAgICAgdGhpcy5yZXN0b3JlQkJveE1hdHJpY2VzKHNhdmVkKTsKICAgICAgICAKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogVXNlIGlkcyB0byBjaG9vc2Ugb2JqZWN0IHRvIGRyYXcKICAgICAqIEBwYXJhbSB7IG51bWVyaWMgfSBpZCAtIG9iamVjdCB0byBkcmF3CiAgICAgKiBAcGFyYW0geyBudW1lcmljIH0gc3Vic2NlbmUKICAgICAqIEBwYXJhbSB7IGFycmF5IH0gY29udGV4dAogICAgICovICAgCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZHJhd09iaklkID0gZnVuY3Rpb24oaWQsIHN1YnNjZW5laWQsIGNvbnRleHQpIHsKICAgICAgaWYgKHR5cGVvZiBpZCAhPT0gIm51bWJlciIpCiAgICAgICAgdGhpcy5hbGVydE9uY2UoImRyYXdPYmpJZCBpZCBpcyAiK3R5cGVvZiBpZCk7CgogICAgICByZXR1cm4gdGhpcy5kcmF3T2JqKHRoaXMuZ2V0T2JqKGlkKSwgdGhpcy5nZXRPYmooc3Vic2NlbmVpZCksIGNvbnRleHQpOwogICB9OwogICAKICAgIC8qKgogICAgICogRHJhdyBhbiBvYmplY3QgaW4gYSBzdWJzY2VuZQogICAgICogQHBhcmFtIHsgb2JqZWN0IH0gb2JqIC0gb2JqZWN0IHRvIGRyYXcKICAgICAqIEBwYXJhbSB7IG9iamVjdCB9IHN1YnNjZW5lCiAgICAgKiBAcGFyYW0geyBhcnJheSB9IGNvbnRleHQKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRyYXdPYmogPSBmdW5jdGlvbihvYmosIHN1YnNjZW5lLCBjb250ZXh0KSB7CiAgICAgIHN3aXRjaChvYmoudHlwZSkgewogICAgICAgIGNhc2UgImFiY2xpbmVzIjoKICAgICAgICBjYXNlICJzdXJmYWNlIjoKICAgICAgICAgIHJldHVybiB0aGlzLmRyYXdTaW1wbGUob2JqLCBzdWJzY2VuZSwgY29udGV4dCk7CiAgICAgICAgY2FzZSAicG9pbnRzIjoKICAgICAgICBjYXNlICJsaW5lcyI6ICAKICAgICAgICBjYXNlICJ0cmlhbmdsZXMiOgogICAgICAgIGNhc2UgInF1YWRzIjoKICAgICAgICBjYXNlICJ0ZXh0IjoKICAgICAgICAgIHJldHVybiB0aGlzLmRyYXdNYXJnaW5hbChvYmosIHN1YnNjZW5lLCBjb250ZXh0KTsKICAgICAgICBjYXNlICJsaW5lc3RyaXAiOgogICAgICAgICAgcmV0dXJuIHRoaXMuZHJhd0xpbmVzdHJpcChvYmosIHN1YnNjZW5lLCBjb250ZXh0KTsKICAgICAgICBjYXNlICJwbGFuZXMiOgogICAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1BsYW5lcyhvYmosIHN1YnNjZW5lLCBjb250ZXh0KTsKICAgICAgICBjYXNlICJzcGhlcmVzIjoKICAgICAgICAgIHJldHVybiB0aGlzLmRyYXdTcGhlcmVzKG9iaiwgc3Vic2NlbmUsIGNvbnRleHQpOwogICAgICAgIGNhc2UgImNsaXBwbGFuZXMiOgogICAgICAgICAgcmV0dXJuIHRoaXMuZHJhd0NsaXBwbGFuZXMob2JqKTsKICAgICAgICBjYXNlICJzcHJpdGVzIjoKICAgICAgICAgIHJldHVybiB0aGlzLmRyYXdTcHJpdGVzKG9iaiwgc3Vic2NlbmUsIGNvbnRleHQpOwogICAgICAgIGNhc2UgImxpZ2h0IjoKICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICBjYXNlICJiYm94ZGVjbyI6CiAgICAgICAgICByZXR1cm4gdGhpcy5kcmF3QkJveChvYmosIHN1YnNjZW5lLCBjb250ZXh0KTsKICAgICAgfQogICAgICAKICAgICAgY29uc29sZS5lcnJvcigiZHJhd09iaiBmb3IgdHlwZSA9ICIrb2JqLnR5cGUpOwogICAgfTsKCiAgICAvKioKICAgICAqIERyYXcgdGhlIGJhY2tncm91bmQgZm9yIGEgc3Vic2NlbmUKICAgICAqIEBwYXJhbSB7IG51bWJlciB9IGlkIC0gaWQgb2YgYmFja2dyb3VuZCBvYmplY3QKICAgICAqIEBwYXJhbSB7IG51bWJlciB9IHN1YnNjZW5laWQgLSBpZCBvZiBzdWJzY2VuZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZHJhd0JhY2tncm91bmQgPSBmdW5jdGlvbihpZCwgc3Vic2NlbmVpZCkgewogICAgICB2YXIgZ2wgPSB0aGlzLmdsIHx8IHRoaXMuaW5pdEdMKCksCiAgICAgICAgICBvYmogPSB0aGlzLmdldE9iaihpZCksCiAgICAgICAgICBiZywgaSwgc2F2ZXByLCBzYXZlaW52cHIsIHNhdmVtdjsKCiAgICAgIGlmICghb2JqLmluaXRpYWxpemVkKQogICAgICAgIHRoaXMuaW5pdE9iaihvYmopOwoKICAgICAgaWYgKG9iai5jb2xvcnMubGVuZ3RoKSB7CiAgICAgICAgYmcgPSBvYmouY29sb3JzWzBdOwogICAgICAgIGdsLmNsZWFyQ29sb3IoYmdbMF0sIGJnWzFdLCBiZ1syXSwgYmdbM10pOwogICAgICAgIGdsLmRlcHRoTWFzayh0cnVlKTsKICAgICAgICAvKiBqc2hpbnQgYml0d2lzZTogZmFsc2UgKi8KICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7CiAgICAgICAgLyoganNoaW50IGJpdHdpc2U6IHRydWUgKi8KICAgICAgICB0aGlzLmZvZ0NvbG9yID0gYmc7CiAgICAgIH0gZWxzZSAKICAgICAgICB0aGlzLmZvZ0NvbG9yID0gWzAsMCwwLDBdOwogIAogICAgICB0aGlzLmZvZ1R5cGUgPSBvYmouZm9ndHlwZTsKICAgICAgdGhpcy5mb2dTY2FsZSA9IG9iai5mb2dzY2FsZTsKICAgICAgaWYgKHR5cGVvZiBvYmoucXVhZCAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBzYXZlcHIgPSB0aGlzLnByTWF0cml4OwogICAgICAgIHNhdmVpbnZwciA9IHRoaXMuaW52UHJNYXRyaXg7CiAgICAgICAgc2F2ZW12ID0gdGhpcy5tdk1hdHJpeDsKICAgICAgICB0aGlzLnByTWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgICAgICB0aGlzLmludlByTWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgICAgICB0aGlzLm12TWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgICAgICBnbC5kaXNhYmxlKGdsLkJMRU5EKTsKICAgICAgICBnbC5kaXNhYmxlKGdsLkRFUFRIX1RFU1QpOwogICAgICAgIGdsLmRlcHRoTWFzayhmYWxzZSk7CiAgICAgICAgZm9yIChpPTA7IGkgPCBvYmoucXVhZC5sZW5ndGg7IGkrKykKICAgICAgICAgIHRoaXMuZHJhd09iaklkKG9iai5xdWFkW2ldLCBzdWJzY2VuZWlkKTsKICAgICAgICB0aGlzLnByTWF0cml4ID0gc2F2ZXByOwogICAgICAgIHRoaXMuaW52UHJNYXRyaXggPSBzYXZlaW52cHI7CiAgICAgICAgdGhpcy5tdk1hdHJpeCA9IHNhdmVtdjsKICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIERyYXcgYSBzdWJzY2VuZQogICAgICogQHBhcmFtIHsgbnVtYmVyIH0gc3Vic2NlbmVpZCAtIGlkIG9mIHN1YnNjZW5lCiAgICAgKiBAcGFyYW0geyBhcnJheSB9IGNvbnRleHQgCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5kcmF3U3Vic2NlbmUgPSBmdW5jdGlvbihzdWJzY2VuZWlkLCBjb250ZXh0KSB7CiAgICAgIHZhciBzdWIgPSB0aGlzLmdldE9iaihzdWJzY2VuZWlkKSwKICAgICAgICAgIG9iamVjdHMgPSB0aGlzLnNjZW5lLm9iamVjdHMsCiAgICAgICAgICBjbGlwaWRzID0gc3ViLmNsaXBwbGFuZXMsCiAgICAgICAgICBzdWJpZHMgPSBzdWIub2JqZWN0cywKICAgICAgICAgIHN1YnNjZW5lX2hhc19mYWNlcyA9IGZhbHNlLAogICAgICAgICAgc3Vic2NlbmVfbmVlZHNfc29ydGluZyA9IGZhbHNlLAogICAgICAgICAgZmxhZ3MsIGksIG9iaiwgcmVzdWx0ID0gW107CiAgICAgICAgICAKICAgICAgaWYgKHN1Yi5wYXIzZC5za2lwUmVkcmF3KQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgIAogICAgICBpZiAodGhpcy5vcGFxdWVQYXNzKSB7CiAgICAgICAgZm9yIChpPTA7IGkgPCBzdWJpZHMubGVuZ3RoOyBpKyspIHsKICAgICAgCSAgb2JqID0gb2JqZWN0c1tzdWJpZHNbaV1dOwogICAgICAgICAgZmxhZ3MgPSBvYmouZmxhZ3M7CiAgICAgICAgICBpZiAodHlwZW9mIGZsYWdzICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICBzdWJzY2VuZV9oYXNfZmFjZXMgPSBzdWJzY2VuZV9oYXNfZmFjZXMgfHwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5pc1NldChmbGFncywgdGhpcy5mX2lzX2xpdCkgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLmlzU2V0KGZsYWdzLCB0aGlzLmZfZml4ZWRfcXVhZHMpKTsKICAgICAgICAgICAgb2JqLmlzX3RyYW5zcGFyZW50ID0gb2JqLnNvbWVIaWRkZW4gfHwgCiAgICAgICAgICAgICAgdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2lzX3RyYW5zcGFyZW50KTsKICAgICAgICAgICAgc3Vic2NlbmVfbmVlZHNfc29ydGluZyA9IHN1YnNjZW5lX25lZWRzX3NvcnRpbmcgfHwgCiAgICAgICAgICAgICAgb2JqLmlzX3RyYW5zcGFyZW50IHx8CiAgICAgICAgICAgICAgdGhpcy5pc1NldChmbGFncywgdGhpcy5mX2RlcHRoX3NvcnQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5zZXRWaWV3cG9ydChzdWJzY2VuZWlkKTsKCiAgICAgIHRoaXMuc2V0cHJNYXRyaXgoc3Vic2NlbmVpZCk7CiAgICAgIHRoaXMuc2V0SW52UHJNYXRyaXgoKTsKICAgICAgdGhpcy5zZXRtdk1hdHJpeChzdWJzY2VuZWlkKTsKICAgICAgdGhpcy5zZXRub3JtTWF0cml4MigpOwogICAgICAgIAogICAgICBpZiAodHlwZW9mIHN1Yi5iYWNrZ3JvdW5kSWQgIT09ICJ1bmRlZmluZWQiICYmIHRoaXMub3BhcXVlUGFzcykKICAgICAgICB0aGlzLmRyYXdCYWNrZ3JvdW5kKHN1Yi5iYWNrZ3JvdW5kSWQsIHN1YnNjZW5laWQpOwoKICAgICAgaWYgKHN1Ymlkcy5sZW5ndGgpIHsKICAgICAgICBpZiAoc3Vic2NlbmVfaGFzX2ZhY2VzICYmCiAgICAgICAgICAgIHRoaXMuaXNTZXQoc3ViLmZsYWdzLCB0aGlzLmZfc3ByaXRlc18zZCkgJiYKICAgICAgICAgICAgdHlwZW9mIHN1Yi5zcHJpdGVOb3JtbWF0ID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgc3ViLnNwcml0ZU5vcm1tYXQgPSBuZXcgQ2FudmFzTWF0cml4NCh0aGlzLm5vcm1NYXRyaXgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHN1YnNjZW5lX25lZWRzX3NvcnRpbmcpCiAgICAgICAgICB0aGlzLnNldHBybXZNYXRyaXgoKTsKICAgICAgICAgICAgCiAgICAgICAgaWYgKGNsaXBpZHMubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy5pbnZNYXRyaXggPSBuZXcgQ2FudmFzTWF0cml4NCh0aGlzLm12TWF0cml4KTsKICAgICAgICAgIHRoaXMuaW52TWF0cml4LmludmVydCgpOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNsaXBpZHMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIHRoaXMuZHJhd09iaklkKGNsaXBpZHNbaV0sIHN1YnNjZW5laWQpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBzdWJpZHMgPSBzdWIub3BhcXVlLmNvbmNhdChzdWIudHJhbnNwYXJlbnQpOwogICAgICAgIGlmICh0aGlzLm9wYXF1ZVBhc3MpIHsKICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnNsaWNlKCk7CiAgICAgICAgICBjb250ZXh0LnB1c2goc3Vic2NlbmVpZCk7CiAgICAgICAgCiAgICAgICAgICB0aGlzLmRvQmxlbmRpbmcoZmFsc2UpOwogICAgICAgICAgdGhpcy5zdWJzY2VuZWlkID0gc3Vic2NlbmVpZDsKICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zcGhlcmUgIT09ICJ1bmRlZmluZWQiKSAvLyByZXNldCB0aGlzLnNwaGVyZS5mYXN0cGllY2VzOyBpdCB3aWxsIGJlIHJlY3JlYXRlZCBpZiBuZWVkZWQKICAgICAgICAgICAgdGhpcy5zcGhlcmUuZmFzdHBpZWNlcyA9IHVuZGVmaW5lZDsKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdWJpZHMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQodGhpcy5kcmF3T2JqSWQoc3ViaWRzW2ldLCBzdWJzY2VuZWlkLCBjb250ZXh0KSk7CiAgICAgICAgICBzdWJpZHMgPSBzdWIuc3Vic2NlbmVzOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IHN1Ymlkcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdCh0aGlzLmRyYXdTdWJzY2VuZShzdWJpZHNbaV0sIGNvbnRleHQpKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogU2V0IHRoZSBjb250ZXh0IGZvciBkcmF3aW5nIHRyYW5zcGFyZW50bHkKICAgICAqIEBwYXJhbSB7IGFycmF5IH0gY29udGV4dAogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuc2V0Q29udGV4dCA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdLCBvYmppZCwgb2JqLCB0eXBlOwogICAgICBjb250ZXh0ID0gY29udGV4dC5zbGljZSgpOwogICAgICBjb250ZXh0LnJldmVyc2UoKTsKICAgICAgd2hpbGUgKGNvbnRleHQubGVuZ3RoID4gMCkgewogICAgICAgIG9iamlkID0gY29udGV4dC5wb3AoKTsKICAgICAgICBvYmogPSB0aGlzLmdldE9iaihvYmppZCk7CiAgICAgICAgdHlwZSA9IG9iai50eXBlOwogICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgY2FzZSAic3Vic2NlbmUiOgogICAgICAgICAgICB0aGlzLmRyYXdTdWJzY2VuZShvYmppZCwgZmFsc2UpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgInNwcml0ZXMiOgogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGNvbnRleHQucG9wKCkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgInNwaGVyZXMiOgogICAgICAgICAgICAvLyB0aGlzLmluaXRTcGhlcmVGcm9tT2JqKG9iaik7ICAvLyBGSVhNRTogIG5vdCBuZWVkZWQ/CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiYmJveGRlY28iOgogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGNvbnRleHQucG9wKCkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoImJhZCB0eXBlICciLCB0eXBlLCAiJyBpbiBzZXRDb250ZXh0Iik7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIERyYXcgdGhlIHRyYW5zcGFyZW50IHBpZWNlcyBvZiBhIHNjZW5lCiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGllY2VzCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5kcmF3UGllY2VzID0gZnVuY3Rpb24ocGllY2VzKSB7CiAgICAgIHZhciBpLCBwcmV2Y29udGV4dCA9IFtdLCBjb250ZXh0OwogICAgICB0aGlzLmRvQmxlbmRpbmcodHJ1ZSk7CiAgICAgIGZvciAoaSA9IDA7IGkgPCBwaWVjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb250ZXh0ID0gcGllY2VzW2ldLmNvbnRleHQuc2xpY2UoKTsKICAgICAgICBpZiAoY29udGV4dCAhPT0gcHJldmNvbnRleHQpIHsKICAgICAgICAgIHByZXZjb250ZXh0ID0gY29udGV4dC5zbGljZSgpOwogICAgICAgICAgY29udGV4dCA9IHRoaXMuc2V0Q29udGV4dChjb250ZXh0KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5kcmF3T2JqSWQocGllY2VzW2ldLm9iamlkLCB0aGlzLnN1YnNjZW5laWQsIAogICAgICAgICAgICAgICAgICAgICAgIHBpZWNlc1tpXSk7CiAgICAgIH0KICAgIH07CiAKICAgIC8qKgogICAgICogRHJhdyB0aGUgd2hvbGUgc2NlbmUKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRyYXdTY2VuZSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgd2FzRHJhd2luZyA9IHRoaXMuc3RhcnREcmF3aW5nKCksCiAgICAgICAgICBwaWVjZXM7CiAgICAgIGlmICghd2FzRHJhd2luZykgewogICAgICAgIGlmICh0aGlzLnNlbGVjdC5zdGF0ZSAhPT0gImluYWN0aXZlIikKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCgpOwoKICAgICAgICB0aGlzLmRvU3RhcnRTY2VuZSgpOwogICAgICAgIHRoaXMub3BhcXVlUGFzcyA9IHRydWU7CiAgICAgICAgcGllY2VzID0gdGhpcy5kcmF3U3Vic2NlbmUodGhpcy5zY2VuZS5yb290U3Vic2NlbmUsIFtdKTsKICAgICAgICB0aGlzLm9wYXF1ZVBhc3MgPSBmYWxzZTsKICAgICAgICBwaWVjZXMgPSB0aGlzLnNvcnRQaWVjZXMocGllY2VzKTsKICAgICAgICBwaWVjZXMgPSB0aGlzLm1lcmdlUGllY2VzKHBpZWNlcyk7CiAgICAgICAgdGhpcy5kcmF3UGllY2VzKHBpZWNlcyk7CiAgICAgIH0KICAgICAgdGhpcy5zdG9wRHJhd2luZyh3YXNEcmF3aW5nKTsKICAgIH07Cg=="></script>
<script src="data:application/javascript;base64,ICAgIC8qKgogICAgICogTWV0aG9kcyByZWxhdGVkIHRvIGNvbnRyb2xzCiAgICAgKiBAbmFtZSBfX19NRVRIT0RTX0ZPUl9DT05UUk9MU19fXwogICAgICogQG1lbWJlcm9mIHJnbHdpZGdldENsYXNzCiAgICAgKiBAa2luZCBmdW5jdGlvbgogICAgICogQGluc3RhbmNlCiAgICAgKi8KICAgICAKICAgIC8qKgogICAgICogQ2hhbmdlIHRoZSBkaXNwbGF5ZWQgc3Vic2V0CiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBlbCAtIEVsZW1lbnQgb2YgdGhlIGNvbnRyb2w7IG5vdCB1c2VkLgogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gY29udHJvbCAtIFRoZSBzdWJzZXQgY29udHJvbCBkYXRhLgogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuc3Vic2V0U2V0dGVyID0gZnVuY3Rpb24oZWwsIGNvbnRyb2wpIHsKICAgICAgaWYgKHR5cGVvZiBjb250cm9sLnN1YnNjZW5lcyA9PT0gInVuZGVmaW5lZCIgfHwKICAgICAgICAgIGNvbnRyb2wuc3Vic2NlbmVzID09PSBudWxsKQogICAgICAgIGNvbnRyb2wuc3Vic2NlbmVzID0gdGhpcy5zY2VuZS5yb290U3Vic2NlbmU7CiAgICAgIHZhciB2YWx1ZSA9IE1hdGgucm91bmQoY29udHJvbC52YWx1ZSksCiAgICAgICAgICBzdWJzY2VuZXMgPSBbXS5jb25jYXQoY29udHJvbC5zdWJzY2VuZXMpLAogICAgICAgICAgZnVsbHNldCA9IFtdLmNvbmNhdChjb250cm9sLmZ1bGxzZXQpLAogICAgICAgICAgaSwgaiwgc3Vic2NlbmVpZCwKICAgICAgICAgIGFkZHMgPSBbXSwgZGVsZXRlcyA9IFtdOwogICAgICBpZiAodGhpcy5taXNzaW5nKHZhbHVlKSkKICAgICAgICB2YWx1ZSA9IGNvbnRyb2wudmFsdWUgPSAwOwogICAgICBpZiAoY29udHJvbC5hY2N1bXVsYXRlKQogICAgICAgIGZvciAoaT0wOyBpIDw9IHZhbHVlOyBpKyspCiAgICAgICAgICBhZGRzID0gYWRkcy5jb25jYXQoY29udHJvbC5zdWJzZXRzW2ldKTsKICAgICAgZWxzZQogICAgICAgIGFkZHMgPSBhZGRzLmNvbmNhdChjb250cm9sLnN1YnNldHNbdmFsdWVdKTsKICAgICAgZGVsZXRlcyA9IGZ1bGxzZXQuZmlsdGVyKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIGFkZHMuaW5kZXhPZih4KSA8IDA7IH0pOwogICAgICBmb3IgKGkgPSAwOyBpIDwgc3Vic2NlbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgc3Vic2NlbmVpZCA9IHN1YnNjZW5lc1tpXTsKICAgICAgICBpZiAodHlwZW9mIHRoaXMuZ2V0T2JqKHN1YnNjZW5laWQpID09PSAidW5kZWZpbmVkIikKICAgICAgICAgIHRoaXMuYWxlcnRPbmNlKCJ0eXBlb2Ygb2JqZWN0IGlzIHVuZGVmaW5lZCIpOwogICAgICAgIGZvciAoaiA9IDA7IGogPCBhZGRzLmxlbmd0aDsgaisrKQogICAgICAgICAgdGhpcy5hZGRUb1N1YnNjZW5lKGFkZHNbal0sIHN1YnNjZW5laWQpOwogICAgICAgIGZvciAoaiA9IDA7IGogPCBkZWxldGVzLmxlbmd0aDsgaisrKQogICAgICAgICAgdGhpcy5kZWxGcm9tU3Vic2NlbmUoZGVsZXRlc1tqXSwgc3Vic2NlbmVpZCk7CiAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBDaGFuZ2UgdGhlIHJlcXVlc3RlZCBwcm9wZXJ0eQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gZWwgLSBFbGVtZW50IG9mIHRoZSBjb250cm9sOyBub3QgdXNlZC4KICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGNvbnRyb2wgLSBUaGUgcHJvcGVydHkgc2V0dGVyIGNvbnRyb2wgZGF0YS4KICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnByb3BlcnR5U2V0dGVyID0gZnVuY3Rpb24oZWwsIGNvbnRyb2wpICB7CiAgICAgIHZhciB2YWx1ZSA9IGNvbnRyb2wudmFsdWUsCiAgICAgICAgICB2YWx1ZXMgPSBbXS5jb25jYXQoY29udHJvbC52YWx1ZXMpLAogICAgICAgICAgc3ZhbHMgPSBbXS5jb25jYXQoY29udHJvbC5wYXJhbSksCiAgICAgICAgICBkaXJlY3QgPSB2YWx1ZXNbMF0gPT09IG51bGwsCiAgICAgICAgICBlbnRyaWVzID0gW10uY29uY2F0KGNvbnRyb2wuZW50cmllcyksCiAgICAgICAgICBuY29sID0gZW50cmllcy5sZW5ndGgsCiAgICAgICAgICBucm93ID0gdmFsdWVzLmxlbmd0aC9uY29sLAogICAgICAgICAgcHJvcGVydGllcyA9IHRoaXMucmVwZWF0VG9MZW4oY29udHJvbC5wcm9wZXJ0aWVzLCBuY29sKSwKICAgICAgICAgIG9iamlkcyA9IHRoaXMucmVwZWF0VG9MZW4oY29udHJvbC5vYmppZHMsIG5jb2wpLAogICAgICAgICAgcHJvcGVydHksIG9iamlkID0gb2JqaWRzWzBdLAogICAgICAgICAgb2JqID0gdGhpcy5nZXRPYmoob2JqaWQpLAogICAgICAgICAgcHJvcHZhbHMsIGksIGosIHYxLCB2MiwgcCwgZW50cnksIGdsLCBuZWVkc0JpbmRpbmcsCiAgICAgICAgICBuZXdwcm9wLCBuZXdpZCwKCiAgICAgICAgICBnZXRQcm9wdmFscyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAocHJvcGVydHkgPT09ICJ1c2VyTWF0cml4IikKICAgICAgICAgICAgICByZXR1cm4gb2JqLnBhcjNkLnVzZXJNYXRyaXguZ2V0QXNBcnJheSgpOwogICAgICAgICAgICBlbHNlIGlmIChwcm9wZXJ0eSA9PT0gInNjYWxlIiB8fCBwcm9wZXJ0eSA9PT0gIkZPViIgfHwgcHJvcGVydHkgPT09ICJ6b29tIikKICAgICAgICAgICAgICByZXR1cm4gW10uY29uY2F0KG9iai5wYXIzZFtwcm9wZXJ0eV0pOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChvYmpbcHJvcGVydHldKTsKICAgICAgICAgIH0sCgogICAgICAgICAgcHV0UHJvcHZhbHMgPSBmdW5jdGlvbihuZXd2YWxzKSB7CiAgICAgICAgICAgIGlmIChuZXd2YWxzLmxlbmd0aCA9PT0gMSkKICAgICAgICAgICAgICBuZXd2YWxzID0gbmV3dmFsc1swXTsKICAgICAgICAgICAgaWYgKHByb3BlcnR5ID09PSAidXNlck1hdHJpeCIpCiAgICAgICAgICAgICAgb2JqLnBhcjNkLnVzZXJNYXRyaXgubG9hZChuZXd2YWxzKTsKICAgICAgICAgICAgZWxzZSBpZiAocHJvcGVydHkgPT09ICJzY2FsZSIgfHwgcHJvcGVydHkgPT09ICJGT1YiIHx8IHByb3BlcnR5ID09PSAiem9vbSIpCiAgICAgICAgICAgICAgb2JqLnBhcjNkW3Byb3BlcnR5XSA9IG5ld3ZhbHM7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICBvYmpbcHJvcGVydHldID0gbmV3dmFsczsKICAgICAgICAgIH07CgogICAgICBpZiAoZGlyZWN0ICYmIHR5cGVvZiB2YWx1ZSA9PT0gInVuZGVmaW5lZCIpCiAgICAgICAgcmV0dXJuOwoKICAgICAgaWYgKGNvbnRyb2wuaW50ZXJwKSB7CiAgICAgICAgdmFsdWVzID0gdmFsdWVzLnNsaWNlKDAsIG5jb2wpLmNvbmNhdCh2YWx1ZXMpLgogICAgICAgICAgICAgICAgIGNvbmNhdCh2YWx1ZXMuc2xpY2UobmNvbCoobnJvdy0xKSwgbmNvbCpucm93KSk7CiAgICAgICAgc3ZhbHMgPSBbLUluZmluaXR5XS5jb25jYXQoc3ZhbHMpLmNvbmNhdChJbmZpbml0eSk7CiAgICAgICAgZm9yIChpID0gMTsgaSA8IHN2YWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAodmFsdWUgPD0gc3ZhbHNbaV0pIHsKICAgICAgICAgICAgaWYgKHN2YWxzW2ldID09PSBJbmZpbml0eSkKICAgICAgICAgICAgICBwID0gMTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgIHAgPSAoc3ZhbHNbaV0gLSB2YWx1ZSkvKHN2YWxzW2ldIC0gc3ZhbHNbaS0xXSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICghZGlyZWN0KSB7CiAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlKTsKICAgICAgfQoKICAgICAgZm9yIChqPTA7IGo8ZW50cmllcy5sZW5ndGg7IGorKykgewogICAgICAgIGVudHJ5ID0gZW50cmllc1tqXTsKICAgICAgICBuZXdwcm9wID0gcHJvcGVydGllc1tqXTsKICAgICAgICBuZXdpZCA9IG9iamlkc1tqXTsKCiAgICAgICAgaWYgKG5ld3Byb3AgIT09IHByb3BlcnR5IHx8IG5ld2lkICE9PSBvYmppZCkgewogICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSAhPT0gInVuZGVmaW5lZCIpCiAgICAgICAgICAgIHB1dFByb3B2YWxzKHByb3B2YWxzKTsKICAgICAgICAgIHByb3BlcnR5ID0gbmV3cHJvcDsKICAgICAgICAgIG9iamlkID0gbmV3aWQ7CiAgICAgICAgICBvYmogPSB0aGlzLmdldE9iaihvYmppZCk7CiAgICAgICAgICBwcm9wdmFscyA9IGdldFByb3B2YWxzKCk7CiAgICAgICAgfQogICAgICAgIGlmIChjb250cm9sLmludGVycCkgewogICAgICAgICAgdjEgPSB2YWx1ZXNbbmNvbCooaS0xKSArIGpdOwogICAgICAgICAgdjIgPSB2YWx1ZXNbbmNvbCppICsgal07CiAgICAgICAgICB0aGlzLnNldEVsZW1lbnQocHJvcHZhbHMsIGVudHJ5LCBwKnYxICsgKDEtcCkqdjIpOwogICAgICAgIH0gZWxzZSBpZiAoIWRpcmVjdCkgewogICAgICAgICAgdGhpcy5zZXRFbGVtZW50KHByb3B2YWxzLCBlbnRyeSwgdmFsdWVzW25jb2wqdmFsdWUgKyBqXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2V0RWxlbWVudChwcm9wdmFscywgZW50cnksIHZhbHVlW2pdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcHV0UHJvcHZhbHMocHJvcHZhbHMpOwoKICAgICAgbmVlZHNCaW5kaW5nID0gW107CiAgICAgIGZvciAoaj0wOyBqIDwgZW50cmllcy5sZW5ndGg7IGorKykgewogICAgICAgIGlmIChwcm9wZXJ0aWVzW2pdID09PSAidmFsdWVzIiAmJgogICAgICAgICAgICBuZWVkc0JpbmRpbmcuaW5kZXhPZihvYmppZHNbal0pID09PSAtMSkgewogICAgICAgICAgbmVlZHNCaW5kaW5nLnB1c2gob2JqaWRzW2pdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZm9yIChqPTA7IGogPCBuZWVkc0JpbmRpbmcubGVuZ3RoOyBqKyspIHsKICAgICAgICBnbCA9IHRoaXMuZ2wgfHwgdGhpcy5pbml0R0woKTsKICAgICAgICBvYmogPSB0aGlzLmdldE9iaihuZWVkc0JpbmRpbmdbal0pOwogICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBvYmouYnVmKTsKICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgb2JqLnZhbHVlcywgZ2wuU1RBVElDX0RSQVcpOwogICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogQ2hhbmdlIHRoZSByZXF1ZXN0ZWQgdmVydGljZXMKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGVsIC0gRWxlbWVudCBvZiB0aGUgY29udHJvbDsgbm90IHVzZWQuCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBjb250cm9sIC0gVGhlIHZlcnRleHQgc2V0dGVyIGNvbnRyb2wgZGF0YS4KICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnZlcnRleFNldHRlciA9IGZ1bmN0aW9uKGVsLCBjb250cm9sKSAgewogICAgICB2YXIgc3ZhbHMgPSBbXS5jb25jYXQoY29udHJvbC5wYXJhbSksCiAgICAgICAgICBqLCBrLCBwLCBhLCBwcm9wdmFscywgc3RyaWRlLCBvZnMsIG9iaiwgZW50cnksCiAgICAgICAgICBhdHRyaWIsIHZlcnRleCwgdmFyaWVzLAogICAgICAgICAgb2ZzcyAgICA9IHt4OiJ2b2ZzIiwgeToidm9mcyIsIHo6InZvZnMiLAogICAgICAgICAgICAgICAgICAgICByZWQ6ImNvZnMiLCBncmVlbjoiY29mcyIsIGJsdWU6ImNvZnMiLAogICAgICAgICAgICAgICAgICAgICBhbHBoYToiY29mcyIsIHJhZGlpOiJyYWRvZnMiLAogICAgICAgICAgICAgICAgICAgICBueDoibm9mcyIsIG55OiJub2ZzIiwgbno6Im5vZnMiLAogICAgICAgICAgICAgICAgICAgICBveDoib29mcyIsIG95OiJvb2ZzIiwgb3o6Im9vZnMiLAogICAgICAgICAgICAgICAgICAgICB0czoidG9mcyIsIHR0OiJ0b2ZzIn0sCiAgICAgICAgICBwb3MgICAgID0ge3g6MCwgeToxLCB6OjIsCiAgICAgICAgICAgICAgICAgICAgIHJlZDowLCBncmVlbjoxLCBibHVlOjIsCiAgICAgICAgICAgICAgICAgICAgIGFscGhhOjMscmFkaWk6MCwKICAgICAgICAgICAgICAgICAgICAgbng6MCwgbnk6MSwgbno6MiwKICAgICAgICAgICAgICAgICAgICAgb3g6MCwgb3k6MSwgb3o6MiwKICAgICAgICAgICAgICAgICAgICAgdHM6MCwgdHQ6MX0sCiAgICAgICAgdmFsdWVzID0gY29udHJvbC52YWx1ZXMsCiAgICAgICAgZGlyZWN0ID0gdmFsdWVzID09PSBudWxsLAogICAgICAgIG5jb2wsCiAgICAgICAgaW50ZXJwID0gY29udHJvbC5pbnRlcnAsCiAgICAgICAgdmVydGljZXMgPSBbXS5jb25jYXQoY29udHJvbC52ZXJ0aWNlcyksCiAgICAgICAgYXR0cmlidXRlcyA9IFtdLmNvbmNhdChjb250cm9sLmF0dHJpYnV0ZXMpLAogICAgICAgIHZhbHVlID0gY29udHJvbC52YWx1ZSwgbmV3dmFsLCBhbGlhc2VzLCBhbGlhczsKCiAgICAgIG5jb2wgPSBNYXRoLm1heCh2ZXJ0aWNlcy5sZW5ndGgsIGF0dHJpYnV0ZXMubGVuZ3RoKTsKCiAgICAgIGlmICghbmNvbCkKICAgICAgICByZXR1cm47CgogICAgICB2ZXJ0aWNlcyA9IHRoaXMucmVwZWF0VG9MZW4odmVydGljZXMsIG5jb2wpOwogICAgICBhdHRyaWJ1dGVzID0gdGhpcy5yZXBlYXRUb0xlbihhdHRyaWJ1dGVzLCBuY29sKTsKCiAgICAgIGlmIChkaXJlY3QpCiAgICAgICAgaW50ZXJwID0gZmFsc2U7CgogICAgICAvKiBKU09OIGRvZXNuJ3QgcGFzcyBJbmZpbml0eSAqLwogICAgICBzdmFsc1swXSA9IC1JbmZpbml0eTsKICAgICAgc3ZhbHNbc3ZhbHMubGVuZ3RoIC0gMV0gPSBJbmZpbml0eTsKCiAgICAgIGZvciAoaiA9IDE7IGogPCBzdmFscy5sZW5ndGg7IGorKykgewogICAgICAgIGlmICh2YWx1ZSA8PSBzdmFsc1tqXSkgewogICAgICAgICAgaWYgKGludGVycCkgewogICAgICAgICAgICBpZiAoc3ZhbHNbal0gPT09IEluZmluaXR5KQogICAgICAgICAgICAgIHAgPSAxOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgcCA9IChzdmFsc1tqXSAtIHZhbHVlKS8oc3ZhbHNbal0gLSBzdmFsc1tqLTFdKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChzdmFsc1tqXSAtIHZhbHVlID4gdmFsdWUgLSBzdmFsc1tqLTFdKQogICAgICAgICAgICAgIGogPSBqIC0gMTsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgb2JqID0gdGhpcy5nZXRPYmooY29udHJvbC5vYmppZCk7CiAgICAgIC8vIEZpcnN0LCBtYWtlIHN1cmUgY29sb3IgYXR0cmlidXRlcyB2YXJ5IGluIG9yaWdpbmFsCiAgICAgIGlmICh0eXBlb2Ygb2JqLnZPZmZzZXRzICE9PSAidW5kZWZpbmVkIikgewogICAgICAJdmFyaWVzID0gdHJ1ZTsKICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbmNvbDsgaysrKSB7CiAgICAgICAgICBhdHRyaWIgPSBhdHRyaWJ1dGVzW2tdOwogICAgICAgICAgaWYgKHR5cGVvZiBhdHRyaWIgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIG9mcyA9IG9iai52T2Zmc2V0c1tvZnNzW2F0dHJpYl1dOwogICAgICAgICAgICBpZiAob2ZzIDwgMCkgewogICAgICAgICAgICAgIHN3aXRjaChhdHRyaWIpIHsKICAgICAgICAgICAgICAJY2FzZSAiYWxwaGEiOgogICAgICAgICAgICAgIAljYXNlICJyZWQiOgogICAgICAgICAgICAgIAljYXNlICJncmVlbiI6CiAgICAgICAgICAgICAgCWNhc2UgImJsdWUiOgogICAgICAgICAgICAgIAkgIG9iai5jb2xvcnMgPSBbb2JqLmNvbG9yc1swXSwgb2JqLmNvbG9yc1swXV07CiAgICAgICAgICAgICAgCSAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHZhcmllcyA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghdmFyaWVzKQogICAgICAgICAgdGhpcy5pbml0T2JqSWQoY29udHJvbC5vYmppZCk7CiAgICAgIH0KICAgICAgcHJvcHZhbHMgPSBvYmoudmFsdWVzOwogICAgICBhbGlhc2VzID0gb2JqLmFsaWFzOwogICAgICBpZiAodHlwZW9mIGFsaWFzZXMgPT09ICJ1bmRlZmluZWQiKQogICAgICAgIGFsaWFzZXMgPSBbXTsKICAgICAgZm9yIChrPTA7IGs8bmNvbDsgaysrKSB7CiAgICAgICAgaWYgKGRpcmVjdCkgewogICAgICAgICAgbmV3dmFsID0gdmFsdWU7CiAgICAgICAgfSBlbHNlIGlmIChpbnRlcnApIHsKICAgICAgICAgIG5ld3ZhbCA9IHAqdmFsdWVzW2otMV1ba10gKyAoMS1wKSp2YWx1ZXNbal1ba107CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5ld3ZhbCA9IHZhbHVlc1tqXVtrXTsKICAgICAgICB9ICAgICAgCQogICAgICAgIGF0dHJpYiA9IGF0dHJpYnV0ZXNba107CiAgICAgICAgdmVydGV4ID0gdmVydGljZXNba107CiAgICAgICAgYWxpYXMgPSBhbGlhc2VzW3ZlcnRleF07CiAgICAgICAgaWYgKG9iai50eXBlID09PSAicGxhbmVzIiB8fCBvYmoudHlwZSA9PT0gImNsaXBwbGFuZXMiKSB7CiAgICAgICAgICBvZnMgPSBbIm54IiwgIm55IiwgIm56IiwgIm9mZnNldCJdLmluZGV4T2YoYXR0cmliKTsKICAgICAgICAgIGlmIChvZnMgPj0gMCkgewogICAgICAgICAgICBpZiAob2ZzIDwgMykgewogICAgICAgICAgICAgIGlmIChvYmoubm9ybWFsc1t2ZXJ0ZXhdW29mc10gIT09IG5ld3ZhbCkgeyAgLy8gQXNzdW1lIG5vIGFsaWFzZXMgaGVyZS4uLgogICAgICAgICAgICAgIAlvYmoubm9ybWFsc1t2ZXJ0ZXhdW29mc10gPSBuZXd2YWw7CiAgICAgICAgICAgICAgCW9iai5pbml0aWFsaXplZCA9IGZhbHNlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAob2JqLm9mZnNldHNbdmVydGV4XVswXSAhPT0gbmV3dmFsKSB7CiAgICAgICAgICAgICAgCW9iai5vZmZzZXRzW3ZlcnRleF1bMF0gPSBuZXd2YWw7CiAgICAgICAgICAgICAgCW9iai5pbml0aWFsaXplZCA9IGZhbHNlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gTm90IGEgcGxhbmUgc2V0dGluZy4uLgogICAgICAgIG9mcyA9IG9iai52T2Zmc2V0c1tvZnNzW2F0dHJpYl1dOwogICAgICAgIGlmIChvZnMgPCAwKQogICAgICAgICAgdGhpcy5hbGVydE9uY2UoIkF0dHJpYnV0ZSAnIithdHRyaWIrIicgbm90IGZvdW5kIGluIG9iamVjdCAiK2NvbnRyb2wub2JqaWQpOwogICAgICAgIGVsc2UgewogICAgICAgICAgc3RyaWRlID0gb2JqLnZPZmZzZXRzLnN0cmlkZTsKICAgICAgICAgIG9mcyA9IG9mcyArIHBvc1thdHRyaWJdOwogICAgICAgICAgZW50cnkgPSB2ZXJ0ZXgqc3RyaWRlICsgb2ZzOwogICAgICAgICAgcHJvcHZhbHNbZW50cnldID0gbmV3dmFsOwogICAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyAhPT0gInVuZGVmaW5lZCIpCiAgICAgICAgICAgIGZvciAoYSA9IDA7IGEgPCBhbGlhcy5sZW5ndGg7IGErKykKICAgICAgICAgICAgICBwcm9wdmFsc1thbGlhc1thXSpzdHJpZGUgKyBvZnNdID0gbmV3dmFsOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodHlwZW9mIG9iai5idWYgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCB8fCB0aGlzLmluaXRHTCgpOwogICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBvYmouYnVmKTsKICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgcHJvcHZhbHMsIGdsLlNUQVRJQ19EUkFXKTsKICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIENoYW5nZSB0aGUgcmVxdWVzdGVkIHZlcnRleCBwcm9wZXJ0aWVzIGJ5IGFnZQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gZWwgLSBFbGVtZW50IG9mIHRoZSBjb250cm9sOyBub3QgdXNlZC4KICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGNvbnRyb2wgLSBUaGUgYWdlIHNldHRlciBjb250cm9sIGRhdGEuCiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5hZ2VTZXR0ZXIgPSBmdW5jdGlvbihlbCwgY29udHJvbCkgewogICAgICB2YXIgb2JqaWRzID0gW10uY29uY2F0KGNvbnRyb2wub2JqaWRzKSwKICAgICAgICAgIG5vYmpzID0gb2JqaWRzLmxlbmd0aCwKICAgICAgICAgIHRpbWUgPSBjb250cm9sLnZhbHVlLAogICAgICAgICAgYmlydGhzID0gW10uY29uY2F0KGNvbnRyb2wuYmlydGhzKSwKICAgICAgICAgIGFnZXMgPSBbXS5jb25jYXQoY29udHJvbC5hZ2VzKSwKICAgICAgICAgIHN0ZXBzID0gYmlydGhzLmxlbmd0aCwKICAgICAgICAgIGogPSBBcnJheShzdGVwcyksCiAgICAgICAgICBwID0gQXJyYXkoc3RlcHMpLAogICAgICAgICAgaSwgaywgbCwgYWdlLCBqMCwgcHJvcHZhbHMsIHN0cmlkZSwgb2ZzLCBvYmppZCwgb2JqLAogICAgICAgICAgYXR0cmliLCBkaW0sIHZhcmllcywgYWxpYXMsIGFsaWFzZXMsIGEsIGQsCiAgICAgICAgICBhdHRyaWJzID0gWyJjb2xvcnMiLCAiYWxwaGEiLCAicmFkaWkiLCAidmVydGljZXMiLAogICAgICAgICAgICAgICAgICAgICAibm9ybWFscyIsICJvcmlnaW5zIiwgInRleGNvb3JkcyIsCiAgICAgICAgICAgICAgICAgICAgICJ4IiwgInkiLCAieiIsCiAgICAgICAgICAgICAgICAgICAgICJyZWQiLCAiZ3JlZW4iLCAiYmx1ZSJdLAogICAgICAgICAgb2ZzcyAgICA9IFsiY29mcyIsICJjb2ZzIiwgInJhZG9mcyIsICJ2b2ZzIiwKICAgICAgICAgICAgICAgICAgICAgIm5vZnMiLCAib29mcyIsICJ0b2ZzIiwKICAgICAgICAgICAgICAgICAgICAgInZvZnMiLCAidm9mcyIsICJ2b2ZzIiwKICAgICAgICAgICAgICAgICAgICAgImNvZnMiLCAiY29mcyIsICJjb2ZzIl0sCiAgICAgICAgICBkaW1zICAgID0gWzMsMSwxLDMsCiAgICAgICAgICAgICAgICAgICAgIDMsMiwyLAogICAgICAgICAgICAgICAgICAgICAxLDEsMSwKICAgICAgICAgICAgICAgICAgICAgMSwxLDFdLAogICAgICAgICAgcG9zICAgICA9IFswLDMsMCwwLAogICAgICAgICAgICAgICAgICAgICAwLDAsMCwKICAgICAgICAgICAgICAgICAgICAgMCwxLDIsCiAgICAgICAgICAgICAgICAgICAgIDAsMSwyXTsKICAgICAgLyogSW5maW5pdHkgZG9lc24ndCBtYWtlIGl0IHRocm91Z2ggSlNPTiAqLwogICAgICBhZ2VzWzBdID0gLUluZmluaXR5OwogICAgICBhZ2VzW2FnZXMubGVuZ3RoLTFdID0gSW5maW5pdHk7CiAgICAgIGZvciAoaSA9IDA7IGkgPCBzdGVwczsgaSsrKSB7CiAgICAgICAgaWYgKGJpcnRoc1tpXSAhPT0gbnVsbCkgeyAgLy8gTkEgaW4gUiBiZWNvbWVzIG51bGwKICAgICAgICAgIGFnZSA9IHRpbWUgLSBiaXJ0aHNbaV07CiAgICAgICAgICBmb3IgKGowID0gMTsgYWdlID4gYWdlc1tqMF07IGowKyspOwogICAgICAgICAgaWYgKGFnZXNbajBdID09PSBJbmZpbml0eSkKICAgICAgICAgICAgcFtpXSA9IDE7CiAgICAgICAgICBlbHNlIGlmIChhZ2VzW2owXSA+IGFnZXNbajAtMV0pCiAgICAgICAgICAgIHBbaV0gPSAoYWdlc1tqMF0gLSBhZ2UpLyhhZ2VzW2owXSAtIGFnZXNbajAtMV0pOwogICAgICAgICAgZWxzZQogICAgICAgICAgICBwW2ldID0gMDsKICAgICAgICAgIGpbaV0gPSBqMDsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gRmlyc3QsIG1ha2Ugc3VyZSBjb2xvciBhdHRyaWJ1dGVzIHZhcnkgaW4gb3JpZ2luYWwKICAgICAgZm9yIChsID0gMDsgbCA8IG5vYmpzOyBsKyspIHsKICAgICAgCW9iamlkID0gb2JqaWRzW2xdOwogICAgICAJb2JqID0gdGhpcy5nZXRPYmoob2JqaWQpOwogICAgICAJdmFyaWVzID0gdHJ1ZTsKICAgICAgICBpZiAodHlwZW9mIG9iai52T2Zmc2V0cyA9PT0gInVuZGVmaW5lZCIpCiAgICAgICAgICBjb250aW51ZTsKICAgICAgICBmb3IgKGsgPSAwOyBrIDwgYXR0cmlicy5sZW5ndGg7IGsrKykgewogICAgICAgICAgYXR0cmliID0gY29udHJvbFthdHRyaWJzW2tdXTsKICAgICAgICAgIGlmICh0eXBlb2YgYXR0cmliICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICBvZnMgPSBvYmoudk9mZnNldHNbb2Zzc1trXV07CiAgICAgICAgICAgIGlmIChvZnMgPCAwKSB7CiAgICAgICAgICAgICAgc3dpdGNoKGF0dHJpYnNba10pIHsKICAgICAgICAgICAgICAJY2FzZSAiY29sb3JzIjoKICAgICAgICAgICAgICAJY2FzZSAiYWxwaGEiOgogICAgICAgICAgICAgIAljYXNlICJyZWQiOgogICAgICAgICAgICAgIAljYXNlICJncmVlbiI6CiAgICAgICAgICAgICAgCWNhc2UgImJsdWUiOgogICAgICAgICAgICAgIAkgIG9iai5jb2xvcnMgPSBbb2JqLmNvbG9yc1swXSwgb2JqLmNvbG9yc1swXV07CiAgICAgICAgICAgICAgCSAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHZhcmllcyA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghdmFyaWVzKQogICAgICAgICAgdGhpcy5pbml0T2JqSWQob2JqaWQpOwogICAgICB9CiAgICAgIGZvciAobCA9IDA7IGwgPCBub2JqczsgbCsrKSB7CiAgICAgICAgb2JqaWQgPSBvYmppZHNbbF07CiAgICAgICAgb2JqID0gdGhpcy5nZXRPYmoob2JqaWQpOwogICAgICAgIGlmICh0eXBlb2Ygb2JqLnZPZmZzZXRzID09PSAidW5kZWZpbmVkIikKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIGFsaWFzZXMgPSBvYmouYWxpYXM7CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhc2VzID09PSAidW5kZWZpbmVkIikKICAgICAgICAgIGFsaWFzZXMgPSBbXTsKICAgICAgICBwcm9wdmFscyA9IG9iai52YWx1ZXM7CiAgICAgICAgc3RyaWRlID0gb2JqLnZPZmZzZXRzLnN0cmlkZTsKICAgICAgICBmb3IgKGsgPSAwOyBrIDwgYXR0cmlicy5sZW5ndGg7IGsrKykgewogICAgICAgICAgYXR0cmliID0gY29udHJvbFthdHRyaWJzW2tdXTsKICAgICAgICAgIGlmICh0eXBlb2YgYXR0cmliICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICBvZnMgPSBvYmoudk9mZnNldHNbb2Zzc1trXV07CiAgICAgICAgICAgIGlmIChvZnMgPj0gMCkgewogICAgICAgICAgICAgIGRpbSA9IGRpbXNba107CiAgICAgICAgICAgICAgb2ZzID0gb2ZzICsgcG9zW2tdOwogICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdGVwczsgaSsrKSB7CiAgICAgICAgICAgICAgCWFsaWFzID0gYWxpYXNlc1tpXTsKICAgICAgICAgICAgICAgIGlmIChiaXJ0aHNbaV0gIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgZm9yIChkPTA7IGQgPCBkaW07IGQrKykgewogICAgICAgICAgICAgICAgICAgIHByb3B2YWxzW2kqc3RyaWRlICsgb2ZzICsgZF0gPSBwW2ldKmF0dHJpYltkaW0qKGpbaV0tMSkgKyBkXSArICgxLXBbaV0pKmF0dHJpYltkaW0qaltpXSArIGRdOwogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYWxpYXMgIT09ICJ1bmRlZmluZWQiKQogICAgICAgICAgICAgICAgICAgICAgZm9yIChhPTA7IGEgPCBhbGlhcy5sZW5ndGg7IGErKykKICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHZhbHNbYWxpYXNbYV0qc3RyaWRlICsgb2ZzICsgZF0gPSBwcm9wdmFsc1tpKnN0cmlkZSArIG9mcyArIGRdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UKICAgICAgICAgICAgICB0aGlzLmFsZXJ0T25jZSgiXCciK2F0dHJpYnNba10rIlwnIHByb3BlcnR5IG5vdCBmb3VuZCBpbiBvYmplY3QgIitvYmppZCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIG9iai52YWx1ZXMgPSBwcm9wdmFsczsKICAgICAgICBpZiAodHlwZW9mIG9iai5idWYgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsIHx8IHRoaXMuaW5pdEdMKCk7CiAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgb2JqLmJ1Zik7CiAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgb2JqLnZhbHVlcywgZ2wuU1RBVElDX0RSQVcpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIEJyaWRnZSB0byBvbGQgc3R5bGUgY29udHJvbAogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gZWwgLSBFbGVtZW50IG9mIHRoZSBjb250cm9sOyBub3QgdXNlZC4KICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGNvbnRyb2wgLSBUaGUgYnJpZGdlIGNvbnRyb2wgZGF0YS4KICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLm9sZEJyaWRnZSA9IGZ1bmN0aW9uKGVsLCBjb250cm9sKSB7CiAgICAgIHZhciBhdHRybmFtZSwgZ2xvYmFsID0gd2luZG93W2NvbnRyb2wucHJlZml4ICsgInJnbCJdOwogICAgICBpZiAoZ2xvYmFsKQogICAgICAgIGZvciAoYXR0cm5hbWUgaW4gZ2xvYmFsKQogICAgICAgICAgdGhpc1thdHRybmFtZV0gPSBnbG9iYWxbYXR0cm5hbWVdOwogICAgICB3aW5kb3dbY29udHJvbC5wcmVmaXggKyAicmdsIl0gPSB0aGlzOwogICAgfTsKCiAgICAvKioKICAgICAqIFNldCB1cCBhIHBsYXllciBjb250cm9sCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBlbCAtIFRoZSBwbGF5ZXIgY29udHJvbCBlbGVtZW50CiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBjb250cm9sIC0gVGhlIHBsYXllciBkYXRhLgogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuUGxheWVyID0gZnVuY3Rpb24oZWwsIGNvbnRyb2wpIHsKICAgICAgdmFyCiAgICAgICAgc2VsZiA9IHRoaXMsCiAgICAgICAgY29tcG9uZW50cyA9IFtdLmNvbmNhdChjb250cm9sLmNvbXBvbmVudHMpLAogICAgICAgIGJ1dHRvbkxhYmVscyA9IFtdLmNvbmNhdChjb250cm9sLmJ1dHRvbkxhYmVscyksCgogICAgICAgIFRpY2sgPSBmdW5jdGlvbigpIHsgLyogInRoaXMiIHdpbGwgYmUgYSB0aW1lciAqLwogICAgICAgICAgdmFyIGksCiAgICAgICAgICAgICAgbm9taW5hbCA9IHRoaXMudmFsdWUsCiAgICAgICAgICAgICAgc2xpZGVyID0gdGhpcy5TbGlkZXIsCiAgICAgICAgICAgICAgbGFiZWxzID0gdGhpcy5vdXRwdXRMYWJlbHMsCiAgICAgICAgICAgICAgb3V0cHV0ID0gdGhpcy5PdXRwdXQsCiAgICAgICAgICAgICAgc3RlcDsKICAgICAgICAgIGlmICh0eXBlb2Ygc2xpZGVyICE9PSAidW5kZWZpbmVkIiAmJiBub21pbmFsICE9PSBzbGlkZXIudmFsdWUpCiAgICAgICAgICAgIHNsaWRlci52YWx1ZSA9IG5vbWluYWw7CiAgICAgICAgICBpZiAodHlwZW9mIG91dHB1dCAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgc3RlcCA9IE1hdGgucm91bmQoKG5vbWluYWwgLSBvdXRwdXQuc2xpZGVyTWluKS9vdXRwdXQuc2xpZGVyU3RlcCk7CiAgICAgICAgICAgIGlmIChsYWJlbHMgIT09IG51bGwpIHsKICAgICAgICAgICAgICBvdXRwdXQuaW5uZXJIVE1MID0gbGFiZWxzW3N0ZXBdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHN0ZXAgPSBzdGVwKm91dHB1dC5zbGlkZXJTdGVwICsgb3V0cHV0LnNsaWRlck1pbjsKICAgICAgICAgICAgICBvdXRwdXQuaW5uZXJIVE1MID0gc3RlcC50b1ByZWNpc2lvbihvdXRwdXQub3V0cHV0UHJlY2lzaW9uKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgZm9yIChpPTA7IGkgPCB0aGlzLmFjdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hY3Rpb25zW2ldLnZhbHVlID0gbm9taW5hbDsKICAgICAgICAgIH0KICAgICAgICAgIHNlbGYuYXBwbHlDb250cm9scyhlbCwgdGhpcy5hY3Rpb25zLCBmYWxzZSk7CiAgICAgICAgICBzZWxmLmRyYXdTY2VuZSgpOwogICAgICAgIH0sCgogICAgICAgIE9uU2xpZGVySW5wdXQgPSBmdW5jdGlvbigpIHsgLyogInRoaXMiIHdpbGwgYmUgdGhlIHNsaWRlciAqLwogICAgICAgICAgdGhpcy5yZ2x0aW1lci52YWx1ZSA9IE51bWJlcih0aGlzLnZhbHVlKTsKICAgICAgICAgIHRoaXMucmdsdGltZXIuVGljaygpOwogICAgICAgIH0sCgogICAgICAgIGFkZFNsaWRlciA9IGZ1bmN0aW9uKG1pbiwgbWF4LCBzdGVwLCB2YWx1ZSkgewogICAgICAgICAgdmFyIHNsaWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgICAgICBzbGlkZXIudHlwZSA9ICJyYW5nZSI7CiAgICAgICAgICBzbGlkZXIubWluID0gbWluOwogICAgICAgICAgc2xpZGVyLm1heCA9IG1heDsKICAgICAgICAgIHNsaWRlci5zdGVwID0gc3RlcDsKICAgICAgICAgIHNsaWRlci52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgc2xpZGVyLm9uaW5wdXQgPSBPblNsaWRlcklucHV0OwogICAgICAgICAgc2xpZGVyLnNsaWRlckFjdGlvbnMgPSBjb250cm9sLmFjdGlvbnM7CiAgICAgICAgICBzbGlkZXIuc2xpZGVyU2NlbmUgPSB0aGlzOwogICAgICAgICAgc2xpZGVyLmNsYXNzTmFtZSA9ICJyZ2wtc2xpZGVyIjsKICAgICAgICAgIHNsaWRlci5pZCA9IGVsLmlkICsgIi1zbGlkZXIiOwogICAgICAgICAgZWwucmdsdGltZXIuU2xpZGVyID0gc2xpZGVyOwogICAgICAgICAgc2xpZGVyLnJnbHRpbWVyID0gZWwucmdsdGltZXI7CiAgICAgICAgICBlbC5hcHBlbmRDaGlsZChzbGlkZXIpOwogICAgICAgIH0sCgogICAgICAgIGFkZExhYmVsID0gZnVuY3Rpb24obGFiZWxzLCBtaW4sIHN0ZXAsIHByZWNpc2lvbikgewogICAgICAgICAgdmFyIG91dHB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm91dHB1dCIpOwogICAgICAgICAgb3V0cHV0LnNsaWRlck1pbiA9IG1pbjsKICAgICAgICAgIG91dHB1dC5zbGlkZXJTdGVwID0gc3RlcDsKICAgICAgICAgIG91dHB1dC5vdXRwdXRQcmVjaXNpb24gPSBwcmVjaXNpb247CiAgICAgICAgICBvdXRwdXQuY2xhc3NOYW1lID0gInJnbC1sYWJlbCI7CiAgICAgICAgICBvdXRwdXQuaWQgPSBlbC5pZCArICItbGFiZWwiOwogICAgICAgICAgZWwucmdsdGltZXIuT3V0cHV0ID0gb3V0cHV0OwogICAgICAgICAgZWwucmdsdGltZXIub3V0cHV0TGFiZWxzID0gbGFiZWxzOwogICAgICAgICAgZWwuYXBwZW5kQ2hpbGQob3V0cHV0KTsKICAgICAgICB9LAoKICAgICAgICBhZGRCdXR0b24gPSBmdW5jdGlvbih3aGljaCwgbGFiZWwsIGFjdGl2ZSkgewogICAgICAgICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IiksCiAgICAgICAgICAgICAgb25jbGlja3MgPSB7UmV2ZXJzZTogZnVuY3Rpb24oKSB7IHRoaXMucmdsdGltZXIucmV2ZXJzZSgpO30sCiAgICAgICAgICAgICAgICAgICAgUGxheTogZnVuY3Rpb24oKSB7IHRoaXMucmdsdGltZXIucGxheSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5yZ2x0aW1lci5lbmFibGVkID8gdGhpcy5pbmFjdGl2ZVZhbHVlIDogdGhpcy5hY3RpdmVWYWx1ZTsgfSwKICAgICAgICAgICAgICAgICAgIFNsb3dlcjogZnVuY3Rpb24oKSB7IHRoaXMucmdsdGltZXIuc2xvd2VyKCk7IH0sCiAgICAgICAgICAgICAgICAgICBGYXN0ZXI6IGZ1bmN0aW9uKCkgeyB0aGlzLnJnbHRpbWVyLmZhc3RlcigpOyB9LAogICAgICAgICAgICAgICAgICAgUmVzZXQ6IGZ1bmN0aW9uKCkgeyB0aGlzLnJnbHRpbWVyLnJlc2V0KCk7IH0sCiAgICAgICAgICAgICAgCSAgIFN0ZXA6ICBmdW5jdGlvbigpIHsgdGhpcy5yZ2x0aW1lci5zdGVwKCk7IH0KICAgICAgICAgICAgICB9OwogICAgICAgICAgYnV0dG9uLnJnbHRpbWVyID0gZWwucmdsdGltZXI7CiAgICAgICAgICBidXR0b24udHlwZSA9ICJidXR0b24iOwogICAgICAgICAgYnV0dG9uLnZhbHVlID0gbGFiZWw7CiAgICAgICAgICBidXR0b24uYWN0aXZlVmFsdWUgPSBsYWJlbDsKICAgICAgICAgIGJ1dHRvbi5pbmFjdGl2ZVZhbHVlID0gYWN0aXZlOwogICAgICAgICAgaWYgKHdoaWNoID09PSAiUGxheSIpCiAgICAgICAgICAgIGJ1dHRvbi5yZ2x0aW1lci5QbGF5QnV0dG9uID0gYnV0dG9uOwogICAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSBvbmNsaWNrc1t3aGljaF07CiAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gInJnbC1idXR0b24iOwogICAgICAgICAgYnV0dG9uLmlkID0gZWwuaWQgKyAiLSIgKyB3aGljaDsKICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGJ1dHRvbik7CiAgICAgICAgfTsKCiAgICAgICAgaWYgKHR5cGVvZiBjb250cm9sLnJlaW5pdCAhPT0gInVuZGVmaW5lZCIgJiYgY29udHJvbC5yZWluaXQgIT09IG51bGwpIHsKICAgICAgICAgIGNvbnRyb2wuYWN0aW9ucy5yZWluaXQgPSBjb250cm9sLnJlaW5pdDsKICAgICAgICB9CiAgICAgICAgZWwucmdsdGltZXIgPSBuZXcgcmdsdGltZXJDbGFzcyhUaWNrLCBjb250cm9sLnN0YXJ0LCBjb250cm9sLmludGVydmFsLCBjb250cm9sLnN0b3AsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sLnN0ZXAsIGNvbnRyb2wudmFsdWUsIGNvbnRyb2wucmF0ZSwgY29udHJvbC5sb29wLCBjb250cm9sLmFjdGlvbnMpOwogICAgICAgIGZvciAodmFyIGk9MDsgaSA8IGNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHN3aXRjaChjb21wb25lbnRzW2ldKSB7CiAgICAgICAgICAgIGNhc2UgIlNsaWRlciI6IGFkZFNsaWRlcihjb250cm9sLnN0YXJ0LCBjb250cm9sLnN0b3AsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbC5zdGVwLCBjb250cm9sLnZhbHVlKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAiTGFiZWwiOiBhZGRMYWJlbChjb250cm9sLmxhYmVscywgY29udHJvbC5zdGFydCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sLnN0ZXAsIGNvbnRyb2wucHJlY2lzaW9uKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICBhZGRCdXR0b24oY29tcG9uZW50c1tpXSwgYnV0dG9uTGFiZWxzW2ldLCBjb250cm9sLnBhdXNlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWwucmdsdGltZXIuVGljaygpOwogICAgfTsKCiAgICAvKioKICAgICAqIEFwcGx5IGFsbCByZWdpc3RlcmVkIGNvbnRyb2xzCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBlbCAtIERPTSBlbGVtZW50IG9mIHRoZSBjb250cm9sCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSB4IC0gTGlzdCBvZiBhY3Rpb25zIHRvIGFwcGx5CiAgICAgKiBAcGFyYW0geyBib29sZWFuIH0gW2RyYXc9dHJ1ZV0gLSBXaGV0aGVyIHRvIHJlZHJhdyBhZnRlciBhcHBseWluZwogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuYXBwbHlDb250cm9scyA9IGZ1bmN0aW9uKGVsLCB4LCBkcmF3KSB7CiAgICAgIHZhciBzZWxmID0gdGhpcywgcmVpbml0ID0geC5yZWluaXQsIGksIGNvbnRyb2wsIHR5cGU7CiAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29udHJvbCA9IHhbaV07CiAgICAgICAgdHlwZSA9IGNvbnRyb2wudHlwZTsKICAgICAgICBzZWxmW3R5cGVdKGVsLCBjb250cm9sKTsKICAgICAgfQogICAgICBpZiAodHlwZW9mIHJlaW5pdCAhPT0gInVuZGVmaW5lZCIgJiYgcmVpbml0ICE9PSBudWxsKSB7CiAgICAgICAgcmVpbml0ID0gW10uY29uY2F0KHJlaW5pdCk7CiAgICAgICAgZm9yIChpID0gMDsgaSA8IHJlaW5pdC5sZW5ndGg7IGkrKykKICAgICAgICAgIHNlbGYuZ2V0T2JqKHJlaW5pdFtpXSkuaW5pdGlhbGl6ZWQgPSBmYWxzZTsKICAgICAgfQogICAgICBpZiAodHlwZW9mIGRyYXcgPT09ICJ1bmRlZmluZWQiIHx8IGRyYXcpCiAgICAgICAgc2VsZi5kcmF3U2NlbmUoKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBIYW5kbGVyIGZvciBzY2VuZSBjaGFuZ2UKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IG1lc3NhZ2UgLSBXaGF0IHNvcnQgb2Ygc2NlbmUgY2hhbmdlIHRvIGRvPwogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuc2NlbmVDaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24obWVzc2FnZSkgewogICAgICB2YXIgc2VsZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lc3NhZ2UuZWxlbWVudElkKS5yZ2xpbnN0YW5jZSwKICAgICAgICAgIG9ianMgPSBtZXNzYWdlLm9iamVjdHMsIG1hdCA9IG1lc3NhZ2UubWF0ZXJpYWwsCiAgICAgICAgICByb290ID0gbWVzc2FnZS5yb290U3Vic2NlbmUsCiAgICAgICAgICBpbml0U3VicyA9IG1lc3NhZ2UuaW5pdFN1YnNjZW5lcywKICAgICAgICAgIHJlZHJhdyA9IG1lc3NhZ2UucmVkcmF3U2NlbmUsCiAgICAgICAgICBza2lwUmVkcmF3ID0gbWVzc2FnZS5za2lwUmVkcmF3LAogICAgICAgICAgZGVsZXRlcywgc3VicywgYWxsc3VicyA9IFtdLCBpLGo7CiAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5kZWxldGUgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgZGVsZXRlcyA9IFtdLmNvbmNhdChtZXNzYWdlLmRlbGV0ZSk7CiAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLmRlbGZyb21TdWJzY2VuZXMgIT09ICJ1bmRlZmluZWQiKQogICAgICAgICAgc3VicyA9IFtdLmNvbmNhdChtZXNzYWdlLmRlbGZyb21TdWJzY2VuZXMpOwogICAgICAgIGVsc2UKICAgICAgICAgIHN1YnMgPSBbXTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGVsZXRlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgZm9yIChqID0gMDsgaiA8IHN1YnMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgc2VsZi5kZWxGcm9tU3Vic2NlbmUoZGVsZXRlc1tpXSwgc3Vic1tqXSk7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgc2VsZi5zY2VuZS5vYmplY3RzW2RlbGV0ZXNbaV1dOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodHlwZW9mIG9ianMgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgT2JqZWN0LmtleXMob2JqcykuZm9yRWFjaChmdW5jdGlvbihrZXkpewogICAgICAgICAga2V5ID0gcGFyc2VJbnQoa2V5LCAxMCk7CiAgICAgICAgICBzZWxmLnNjZW5lLm9iamVjdHNba2V5XSA9IG9ianNba2V5XTsKICAgICAgICAgIHNlbGYuaW5pdE9iaklkKGtleSk7CiAgICAgICAgICB2YXIgb2JqID0gc2VsZi5nZXRPYmooa2V5KSwKICAgICAgICAgICAgICBzdWJzID0gW10uY29uY2F0KG9iai5pblN1YnNjZW5lcyksIGs7CiAgICAgICAgICBhbGxzdWJzID0gYWxsc3Vicy5jb25jYXQoc3Vicyk7CiAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgc3Vicy5sZW5ndGg7IGsrKykKICAgICAgICAgICAgc2VsZi5hZGRUb1N1YnNjZW5lKGtleSwgc3Vic1trXSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBtYXQgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgc2VsZi5zY2VuZS5tYXRlcmlhbCA9IG1hdDsKICAgICAgfQogICAgICBpZiAodHlwZW9mIHJvb3QgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgc2VsZi5zY2VuZS5yb290U3Vic2NlbmUgPSByb290OwogICAgICB9CiAgICAgIGlmICh0eXBlb2YgaW5pdFN1YnMgIT09ICJ1bmRlZmluZWQiKQogICAgICAgIGFsbHN1YnMgPSBhbGxzdWJzLmNvbmNhdChpbml0U3Vicyk7CiAgICAgIGFsbHN1YnMgPSBzZWxmLnVuaXF1ZShhbGxzdWJzKTsKICAgICAgZm9yIChpID0gMDsgaSA8IGFsbHN1YnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBzZWxmLmluaXRTdWJzY2VuZShhbGxzdWJzW2ldKTsKICAgICAgfQogICAgICBpZiAodHlwZW9mIHNraXBSZWRyYXcgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgcm9vdCA9IHNlbGYuZ2V0T2JqKHNlbGYuc2NlbmUucm9vdFN1YnNjZW5lKTsKICAgICAgICByb290LnBhcjNkLnNraXBSZWRyYXcgPSBza2lwUmVkcmF3OwogICAgICB9CiAgICAgIGlmIChyZWRyYXcpCiAgICAgICAgc2VsZi5kcmF3U2NlbmUoKTsKICAgIH07Cg=="></script>
<script src="data:application/javascript;base64,ICAgIC8qKgogICAgICogTWV0aG9kcyByZWxhdGVkIHRvIHNlbGVjdGlvbgogICAgICogQG5hbWUgX19fTUVUSE9EU19GT1JfU0VMRUNUSU9OX19fCiAgICAgKiBAbWVtYmVyb2Ygcmdsd2lkZ2V0Q2xhc3MKICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgKiBAaW5zdGFuY2UKICAgICAqLwogICAgIAogICAgLyoqCiAgICAgKiBSZXNwb25kIHRvIGJydXNoIGNoYW5nZQogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuc2VsZWN0aW9uQ2hhbmdlZCA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgaSwgaiwgaywgaWQsIHN1YmlkID0gdGhpcy5zZWxlY3Quc3Vic2NlbmUsIHN1YnNjZW5lLAogICAgICAgICAgb2JqaWRzLCBvYmosCiAgICAgICAgICBwMSA9IHRoaXMuc2VsZWN0LnJlZ2lvbi5wMSwgcDIgPSB0aGlzLnNlbGVjdC5yZWdpb24ucDIsCiAgICAgICAgICBmaWx0ZXIsIHNlbGVjdGlvbiA9IFtdLCBoYW5kbGUsIGtleXMsIHhtaW4sIHgsIHhtYXgsIHltaW4sIHksIHltYXgsIHosIHYsCiAgICAgICAgICBzb21lSGlkZGVuOwogICAgICBpZiAoIXN1YmlkKQogICAgICAgIHJldHVybjsKICAgICAgc3Vic2NlbmUgPSB0aGlzLmdldE9iaihzdWJpZCk7CiAgICAgIG9iamlkcyA9IHN1YnNjZW5lLm9iamVjdHM7CiAgICAgIGZpbHRlciA9IHRoaXMuc2NlbmUuY3Jvc3N0YWxrLmZpbHRlcjsKICAgICAgdGhpcy5zZXRtdk1hdHJpeChzdWJpZCk7CiAgICAgIHRoaXMuc2V0cHJNYXRyaXgoc3ViaWQpOwogICAgICB0aGlzLnNldHBybXZNYXRyaXgoKTsKICAgICAgeG1pbiA9IE1hdGgubWluKHAxLngsIHAyLngpOwogICAgICB4bWF4ID0gTWF0aC5tYXgocDEueCwgcDIueCk7CiAgICAgIHltaW4gPSBNYXRoLm1pbihwMS55LCBwMi55KTsKICAgICAgeW1heCA9IE1hdGgubWF4KHAxLnksIHAyLnkpOwogICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIAlpZCA9IG9iamlkc1tpXTsKICAgICAgCWogPSB0aGlzLnNjZW5lLmNyb3NzdGFsay5pZC5pbmRleE9mKGlkKTsKICAgICAgCWlmIChqID49IDApIHsKICAgICAgCSAga2V5cyA9IHRoaXMuc2NlbmUuY3Jvc3N0YWxrLmtleVtqXTsKICAgICAgCSAgb2JqID0gdGhpcy5nZXRPYmooaWQpOwogICAgICAJICBzb21lSGlkZGVuID0gZmFsc2U7CiAgICAgIAkgIGZvciAoayA9IDA7IGsgPCBrZXlzLmxlbmd0aDsgaysrKSB7CiAgICAgIAkgICAgaWYgKGZpbHRlciAmJiBmaWx0ZXIuaW5kZXhPZihrZXlzW2tdKSA8IDApIHsKICAgICAgCSAgICAgIHNvbWVIaWRkZW4gPSB0cnVlOwogICAgICAJICAgICAgY29udGludWU7CiAgICAgIAkgICAgfQogICAgICAJICAgIHYgPSBbXS5jb25jYXQob2JqLnZlcnRpY2VzW2tdKS5jb25jYXQoMS4wKTsKICAgICAgICAgICAgdiA9IHRoaXMubXVsdFZNKHYsIHRoaXMucHJtdk1hdHJpeCk7CiAgICAgICAgICAgIHggPSB2WzBdL3ZbM107CiAgICAgICAgICAgIHkgPSB2WzFdL3ZbM107CiAgICAgICAgICAgIHogPSB2WzJdL3ZbM107CiAgICAgICAgICAgIGlmICh4bWluIDw9IHggJiYgeCA8PSB4bWF4ICYmIHltaW4gPD0geSAmJiB5IDw9IHltYXggJiYgLTEuMCA8PSB6ICYmIHogPD0gMS4wKSB7CiAgICAgICAgICAgICAgc2VsZWN0aW9uLnB1c2goa2V5c1trXSk7CiAgICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICAgIHNvbWVIaWRkZW4gPSB0cnVlOwogICAgICAJICB9CiAgICAgIAkgIG9iai5zb21lSGlkZGVuID0gc29tZUhpZGRlbiAmJiAoZmlsdGVyIHx8IHNlbGVjdGlvbi5sZW5ndGgpOwogICAgICAJICBvYmouaW5pdGlhbGl6ZWQgPSBmYWxzZTsKICAgICAgCSAgLyogV2hvIHNob3VsZCB3ZSBub3RpZnk/ICBPbmx5IHNoYXJlZCBkYXRhIGluIHRoZSBjdXJyZW50IHN1YnNjZW5lLCBvciBldmVyeW9uZT8gKi8KICAgICAgCSAgaWYgKCF0aGlzLmVxdWFsQXJyYXlzKHNlbGVjdGlvbiwgdGhpcy5zY2VuZS5jcm9zc3RhbGsuc2VsZWN0aW9uKSkgewogICAgICAJICAgIGhhbmRsZSA9IHRoaXMuc2NlbmUuY3Jvc3N0YWxrLnNlbF9oYW5kbGVbal07CiAgICAgIAkgICAgaGFuZGxlLnNldChzZWxlY3Rpb24sIHtyZ2xTdWJzY2VuZUlkOiB0aGlzLnNlbGVjdC5zdWJzY2VuZX0pOwogICAgICAJICB9CiAgICAgIAl9CiAgICAgIH0KICAgIH07CiAgICAKICAgIC8qKgogICAgICogUmVzcG9uZCB0byBzZWxlY3Rpb24gb3IgZmlsdGVyIGNoYW5nZSBmcm9tIGNyb3NzdGFsawogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gZXZlbnQgLSBjcm9zc3RhbGsgZXZlbnQKICAgICAqIEBwYXJhbSB7IGJvb2xlYW4gfSBmaWx0ZXIgLSBmaWx0ZXIgb3Igc2VsZWN0aW9uPwogICAgICovCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuc2VsZWN0aW9uID0gZnVuY3Rpb24oZXZlbnQsIGZpbHRlcikgewogICAgICAJdmFyIGksIGosIGlkcywgb2JqLCBrZXlzLCBjcm9zc3RhbGsgPSB0aGlzLnNjZW5lLmNyb3NzdGFsaywKICAgICAgCSAgICBzZWxlY3Rpb24sIHNvbWVIaWRkZW47CgogICAgICAJLy8gUmVjb3JkIHRoZSBtZXNzYWdlIGFuZCBmaW5kIG91dCBpZiB0aGlzIGV2ZW50IG1ha2VzIHNvbWUgb2JqZWN0cyBoYXZlIG1peGVkIHZhbHVlczoKICAgICAgCQogICAgICAJY3Jvc3N0YWxrID0gdGhpcy5zY2VuZS5jcm9zc3RhbGs7CiAgICAgIAkKICAgICAgCWlmIChmaWx0ZXIpIHsKICAgICAgCSAgZmlsdGVyID0gY3Jvc3N0YWxrLmZpbHRlciA9IGV2ZW50LnZhbHVlOwogICAgICAJICBzZWxlY3Rpb24gPSBjcm9zc3RhbGsuc2VsZWN0aW9uOwogICAgICAJfSBlbHNlIHsgIAogICAgICAgICAgc2VsZWN0aW9uID0gY3Jvc3N0YWxrLnNlbGVjdGlvbiA9IGV2ZW50LnZhbHVlOwogICAgICAgICAgZmlsdGVyID0gY3Jvc3N0YWxrLmZpbHRlcjsKICAgICAgCX0KICAgICAgICBpZHMgPSBjcm9zc3RhbGsuaWQ7CiAgICAgICAgZm9yIChpID0gMDsgaSA8IGlkcy5sZW5ndGggOyBpKyspIHsKICAgICAgICAgIG9iaiA9IHRoaXMuZ2V0T2JqKGlkc1tpXSk7CiAgICAgICAgICBvYmouaW5pdGlhbGl6ZWQgPSBmYWxzZTsKICAgICAgICAgIGtleXMgPSBjcm9zc3RhbGsua2V5W2ldOwogICAgICAgICAgc29tZUhpZGRlbiA9IGZhbHNlOwogICAgICAgICAgZm9yIChqID0gMDsgaiA8IGtleXMubGVuZ3RoICYmICFzb21lSGlkZGVuOyBqKyspIHsKICAgICAgICAgICAgaWYgKChmaWx0ZXIgJiYgZmlsdGVyLmluZGV4T2Yoa2V5c1tqXSkgPCAwKSB8fAogICAgICAgICAgICAgICAgKHNlbGVjdGlvbi5sZW5ndGggJiYgc2VsZWN0aW9uLmluZGV4T2Yoa2V5c1tqXSkgPCAwKSkKICAgICAgICAgICAgICAgIHNvbWVIaWRkZW4gPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgb2JqLnNvbWVIaWRkZW4gPSBzb21lSGlkZGVuOwogICAgICAgIH0KICAgICAgICB0aGlzLmRyYXdTY2VuZSgpOwogICAgfTsKICAgIAogICAgLyoqCiAgICAgKiBDbGVhciB0aGUgc2VsZWN0aW9uIGJydXNoCiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBleGNlcHQgLSBTdWJzY2VuZSB0aGF0IHNob3VsZCBpZ25vcmUgdGhpcyByZXF1ZXN0CiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5jbGVhckJydXNoID0gZnVuY3Rpb24oZXhjZXB0KSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdC5zdWJzY2VuZSAhPT0gZXhjZXB0KSB7CiAgICAgICAgdGhpcy5zZWxlY3QucmVnaW9uID0ge3AxOiB7eDpJbmZpbml0eSwgeTpJbmZpbml0eX0sIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwMjoge3g6SW5maW5pdHksIHk6SW5maW5pdHl9fTsKICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQoKTsKICAgICAgICB0aGlzLnNlbGVjdC5zdGF0ZSA9ICJpbmFjdGl2ZSI7CiAgICAgICAgdGhpcy5kZWxGcm9tU3Vic2NlbmUodGhpcy5zY2VuZS5icnVzaElkLCB0aGlzLnNlbGVjdC5zdWJzY2VuZSk7CiAgICAgIH0KICAgICAgdGhpcy5kcmF3U2NlbmUoKTsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogU2V0IHRoZSB2ZXJ0aWNlcyBpbiB0aGUgc2VsZWN0aW9uIGJveCBvYmplY3QKICAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmluaXRTZWxlY3Rpb24gPSBmdW5jdGlvbihpZCkgewogICAgICBpZiAodHlwZW9mIHRoaXMuc2VsZWN0LnJlZ2lvbiA9PT0gInVuZGVmaW5lZCIpCiAgICAgICAgcmV0dXJuOwogICAgICB2YXIgb2JqID0gdGhpcy5nZXRPYmooaWQpLAogICAgICAgICAgcDEgPSB0aGlzLnNlbGVjdC5yZWdpb24ucDEsCiAgICAgICAgICBwMiA9IHRoaXMuc2VsZWN0LnJlZ2lvbi5wMjsKICAgICAgICAgIAogICAgICBvYmoudmVydGljZXMgPSBbW3AxLngsIHAxLnksIDAuMF0sCiAgICAgICAgICAgICAgICAgICAgICBbcDIueCwgcDEueSwgMC4wXSwKICAgICAgICAgICAgICAgICAgICAgIFtwMi54LCBwMi55LCAwLjBdLAogICAgICAgICAgICAgICAgICAgICAgW3AxLngsIHAyLnksIDAuMF0sCiAgICAgICAgICAgICAgICAgICAgICBbcDEueCwgcDEueSwgMC4wXV07CiAgICB9Owo="></script>
<script src="data:application/javascript;base64,Ci8qIGdsb2JhbHMgcmdsdGltZXJDbGFzczogdHJ1ZSAqLwoKLyoqCiAqIFRoZSBjbGFzcyBvZiBhbiByZ2wgdGltZXIgb2JqZWN0CiAqIEBjbGFzcwoqLwoKLyoqCiAqIENvbnN0cnVjdCBhbiByZ2x0aW1lckNsYXNzIG9iamVjdAogKiBAY29uc3RydWN0b3IKICogQHBhcmFtIHsgZnVuY3Rpb24gfSBUaWNrIC0gYWN0aW9uIHdoZW4gdGltZXIgZmlyZXMKICogQHBhcmFtIHsgbnVtYmVyIH0gc3RhcnRUaW1lIC0gbm9taW5hbCBzdGFydCB0aW1lIGluIHNlY29uZHMKICogQHBhcmFtIHsgbnVtYmVyIH0gaW50ZXJ2YWwgLSBzZWNvbmRzIGJldHdlZW4gdXBkYXRlcwogKiBAcGFyYW0geyBudW1iZXIgfSBzdG9wVGltZSAtIG5vbWluYWwgc3RvcCB0aW1lIGluIHNlY29uZHMKICogQHBhcmFtIHsgbnVtYmVyIH0gc3RlcFNpemUgLSBub21pbmFsIHN0ZXAgc2l6ZQogKiBAcGFyYW0geyBudW1iZXIgfSB2YWx1ZSAtIGN1cnJlbnQgbm9taW5hbCB0aW1lCiAqIEBwYXJhbSB7IG51bWJlciB9IHJhdGUgLSBub21pbmFsIHVuaXRzIHBlciBzZWNvbmQKICogQHBhcmFtIHsgc3RyaW5nIH0gbG9vcCAtICJub25lIiwgImN5Y2xlIiBvciAib3NjaWxsYXRlIgogKiBAcGFyYW0geyBPYmplY3QgfSBhY3Rpb25zIC0gbGlzdCBvZiBhY3Rpb25zCiAqLwpyZ2x0aW1lckNsYXNzID0gZnVuY3Rpb24oVGljaywgc3RhcnRUaW1lLCBpbnRlcnZhbCwgc3RvcFRpbWUsIHN0ZXBTaXplLCB2YWx1ZSwgcmF0ZSwgbG9vcCwgYWN0aW9ucykgewogIHRoaXMuZW5hYmxlZCA9IGZhbHNlOwogIHRoaXMudGltZXJJZCA9IDA7CiAgLyoqIG5vbWluYWwgc3RhcnQgdGltZSBpbiBzZWNvbmRzICovCiAgdGhpcy5zdGFydFRpbWUgPSBzdGFydFRpbWU7ICAgCiAgLyoqIGN1cnJlbnQgbm9taW5hbCB0aW1lICovICAgICAgCiAgdGhpcy52YWx1ZSA9IHZhbHVlOwogIC8qKiBzZWNvbmRzIGJldHdlZW4gdXBkYXRlcyAqLyAgICAgICAgICAgICAgICAgCiAgdGhpcy5pbnRlcnZhbCA9IGludGVydmFsOwogIC8qKiBub21pbmFsIHN0b3AgdGltZSAqLyAgICAgICAgICAgCiAgdGhpcy5zdG9wVGltZSA9IHN0b3BUaW1lOwogIC8qKiBub21pbmFsIHN0ZXAgc2l6ZSAqLyAgICAgICAgICAgCiAgdGhpcy5zdGVwU2l6ZSA9IHN0ZXBTaXplOwogIC8qKiBub21pbmFsIHVuaXRzIHBlciBzZWNvbmQgKi8gICAgICAgICAgIAogIHRoaXMucmF0ZSA9IHJhdGU7CiAgLyoqICJub25lIiwgImN5Y2xlIiwgb3IgIm9zY2lsbGF0ZSIgKi8gICAgICAgICAgICAgICAgICAgCiAgdGhpcy5sb29wID0gbG9vcDsKICAvKiogcmVhbCB3b3JsZCBzdGFydCB0aW1lICovICAgICAgICAgICAgICAgICAgIAogIHRoaXMucmVhbFN0YXJ0ID0gdW5kZWZpbmVkOwogIC8qKiBtdWx0aXBsaWVyIGZvciBmYXN0LWZvcndhcmQgb3IgcmV2ZXJzZSAqLyAgICAgICAgIAogIHRoaXMubXVsdGlwbGllciA9IDE7ICAgICAgICAgICAgICAgIAogIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnM7CiAgdGhpcy5UaWNrID0gVGljazsKfTsKCgogICAgLyoqCiAgICAgKiBNZXRob2RzIHJlbGF0ZWQgdG8gcGxheWVycwogICAgICogQG5hbWUgX19fTUVUSE9EU19GT1JfUExBWUVSU19fXwogICAgICogQG1lbWJlcm9mIHJnbHRpbWVyQ2xhc3MKICAgICAqIEBraW5kIGZ1bmN0aW9uCiAgICAgKiBAaW5zdGFuY2UKICAgICAqLwoKICAvKioKICAgKiBTdGFydCBwbGF5aW5nCiAgICogQG1lbWJlcm9mIHJnbHRpbWVyQ2xhc3MKICAgKi8KICByZ2x0aW1lckNsYXNzLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oKSB7CiAgICBpZiAodGhpcy5lbmFibGVkKSB7CiAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlOwogICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVySWQpOwogICAgICB0aGlzLnRpbWVySWQgPSAwOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgdGljayA9IGZ1bmN0aW9uKHNlbGYpIHsKICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgIHNlbGYudmFsdWUgPSBzZWxmLm11bHRpcGxpZXIqc2VsZi5yYXRlKihub3cgLSBzZWxmLnJlYWxTdGFydCkvMTAwMCArIHNlbGYuc3RhcnRUaW1lOwogICAgICBzZWxmLmZvcmNlVG9SYW5nZSgpOwogICAgICBpZiAodHlwZW9mIHNlbGYuVGljayAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBzZWxmLlRpY2soc2VsZi52YWx1ZSk7CiAgICAgIH0KCiAgICB9OwogICAgdGhpcy5yZWFsU3RhcnQgPSBuZXcgRGF0ZSgpIC0gMTAwMCoodGhpcy52YWx1ZSAtIHRoaXMuc3RhcnRUaW1lKS90aGlzLnJhdGUvdGhpcy5tdWx0aXBsaWVyOwogICAgdGhpcy50aW1lcklkID0gd2luZG93LnNldEludGVydmFsKHRpY2ssIDEwMDAqdGhpcy5pbnRlcnZhbCwgdGhpcyk7CiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlOwogIH07CgogIC8qKgogICAqIEZvcmNlIHZhbHVlIGludG8gbGVnYWwgcmFuZ2UKICAgKi8KICByZ2x0aW1lckNsYXNzLnByb3RvdHlwZS5mb3JjZVRvUmFuZ2UgPSBmdW5jdGlvbigpIHsKICAgIGlmICh0aGlzLnZhbHVlID4gdGhpcy5zdG9wVGltZSArIHRoaXMuc3RlcFNpemUvMiB8fCB0aGlzLnZhbHVlIDwgdGhpcy5zdGFydFRpbWUgLSB0aGlzLnN0ZXBTaXplLzIpIHsKICAgICAgaWYgKCF0aGlzLmxvb3ApIHsKICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGN5Y2xlID0gdGhpcy5zdG9wVGltZSAtIHRoaXMuc3RhcnRUaW1lICsgdGhpcy5zdGVwU2l6ZSwKICAgICAgICAgICAgbmV3dmFsID0gKHRoaXMudmFsdWUgLSB0aGlzLnN0YXJ0VGltZSkgJSBjeWNsZSArIHRoaXMuc3RhcnRUaW1lOwogICAgICAgIGlmIChuZXd2YWwgPCB0aGlzLnN0YXJ0VGltZSkgewogICAgICAgICAgbmV3dmFsICs9IGN5Y2xlOwogICAgICAgIH0KICAgICAgICB0aGlzLnJlYWxTdGFydCArPSAodGhpcy52YWx1ZSAtIG5ld3ZhbCkqMTAwMC90aGlzLm11bHRpcGxpZXIvdGhpcy5yYXRlOwogICAgICAgIHRoaXMudmFsdWUgPSBuZXd2YWw7CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBSZXNldCB0byBzdGFydCB2YWx1ZXMKICAgKi8KICByZ2x0aW1lckNsYXNzLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkgewogICAgdGhpcy52YWx1ZSA9IHRoaXMuc3RhcnRUaW1lOwogICAgdGhpcy5uZXdtdWx0aXBsaWVyKDEpOwogICAgaWYgKHR5cGVvZiB0aGlzLlRpY2sgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgdGhpcy5UaWNrKHRoaXMudmFsdWUpOwogICAgfQogICAgaWYgKHRoaXMuZW5hYmxlZCkKICAgICAgdGhpcy5wbGF5KCk7ICAvKiByZWFsbHkgcGF1c2UuLi4gKi8KICAgIGlmICh0eXBlb2YgdGhpcy5QbGF5QnV0dG9uICE9PSAidW5kZWZpbmVkIikKICAgICAgdGhpcy5QbGF5QnV0dG9uLnZhbHVlID0gIlBsYXkiOwogIH07CgogIC8qKgogICAqIEluY3JlYXNlIHRoZSBtdWx0aXBsaWVyIHRvIHBsYXkgZmFzdGVyCiAgICovCiAgcmdsdGltZXJDbGFzcy5wcm90b3R5cGUuZmFzdGVyID0gZnVuY3Rpb24oKSB7CiAgICB0aGlzLm5ld211bHRpcGxpZXIoTWF0aC5TUVJUMip0aGlzLm11bHRpcGxpZXIpOwogIH07CgogIC8qKgogICAqIERlY3JlYXNlIHRoZSBtdWx0aXBsaWVyIHRvIHBsYXkgc2xvd2VyCiAgICovCiAgcmdsdGltZXJDbGFzcy5wcm90b3R5cGUuc2xvd2VyID0gZnVuY3Rpb24oKSB7CiAgICB0aGlzLm5ld211bHRpcGxpZXIodGhpcy5tdWx0aXBsaWVyL01hdGguU1FSVDIpOwogIH07CgogIC8qKgogICAqIENoYW5nZSBzaWduIG9mIG11bHRpcGxpZXIgdG8gcmV2ZXJzZSBkaXJlY3Rpb24KICAgKi8KICByZ2x0aW1lckNsYXNzLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24oKSB7CiAgICB0aGlzLm5ld211bHRpcGxpZXIoLXRoaXMubXVsdGlwbGllcik7CiAgfTsKCiAgLyoqCiAgICogU2V0IG11bHRpcGxpZXIgZm9yIHBsYXkgc3BlZWQKICAgKiBAcGFyYW0geyBudW1iZXIgfSBuZXdtdWx0IC0gbmV3IHZhbHVlCiAgICovCiAgcmdsdGltZXJDbGFzcy5wcm90b3R5cGUubmV3bXVsdGlwbGllciA9IGZ1bmN0aW9uKG5ld211bHQpIHsKICAgIGlmIChuZXdtdWx0ICE9PSB0aGlzLm11bHRpcGxpZXIpIHsKICAgICAgdGhpcy5yZWFsU3RhcnQgKz0gMTAwMCoodGhpcy52YWx1ZSAtIHRoaXMuc3RhcnRUaW1lKS90aGlzLnJhdGUqKDEvdGhpcy5tdWx0aXBsaWVyIC0gMS9uZXdtdWx0KTsKICAgICAgdGhpcy5tdWx0aXBsaWVyID0gbmV3bXVsdDsKICAgIH0KICB9OwoKICAvKioKICAgKiBUYWtlIG9uZSBzdGVwCiAgICovCiAgcmdsdGltZXJDbGFzcy5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uKCkgewogICAgdGhpcy52YWx1ZSArPSB0aGlzLnJhdGUqdGhpcy5tdWx0aXBsaWVyOwogICAgdGhpcy5mb3JjZVRvUmFuZ2UoKTsKICAgIGlmICh0eXBlb2YgdGhpcy5UaWNrICE9PSAidW5kZWZpbmVkIikKICAgICAgdGhpcy5UaWNrKHRoaXMudmFsdWUpOwogIH07Cg=="></script>
<script src="data:application/javascript;base64,LyoqCiAqIFByZXR0eSBmdW5jdGlvbiBmcm9tIFIKICogQG5hbWUgX19fUFJFVFRZX0ZST01fUl9fXwogKiBAbWVtYmVyb2Ygcmdsd2lkZ2V0Q2xhc3MKICogQGtpbmQgZnVuY3Rpb24KICogQGluc3RhbmNlCiAqLwoKCi8qIFRoaXMgZmlsZSBpcyB0cmFuc2xhdGVkIGZyb20gcHJldHR5LmMsIHdoaWNoIHdhcwogdGFrZW4gZnJvbSB0aGUgUiBzb3VyY2VzLCByNjE3NDQgb2Ygc3JjL2FwcGwvcHJldHR5LmMsCiB3aXRoIG1pbmltYWwgY2hhbmdlcyAqLwoKLyoKICogIFIgOiBBIENvbXB1dGVyIExhbmd1YWdlIGZvciBTdGF0aXN0aWNhbCBEYXRhIEFuYWx5c2lzCiAqICBDb3B5cmlnaHQgKEMpIDE5OTUtMjAxMiAgVGhlIFIgQ29yZSBUZWFtCiAqCiAqICBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogKiAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICogIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDIgb2YgdGhlIExpY2Vuc2UsIG9yCiAqICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgogKgogKiAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAqICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogKiAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogKiAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KICoKICogIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCiAqICBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbTsgaWYgbm90LCBhIGNvcHkgaXMgYXZhaWxhYmxlIGF0CiAqICBodHRwOi8vd3d3LnItcHJvamVjdC5vcmcvTGljZW5zZXMvCiAqLwoKLyoqICAgICAKICogQ29uc3RydWN0IHByZXR0eSB2YWx1ZXMgdG8gY292ZXIgYW4gaW50ZXJ2YWwKICogQHBhcmFtIHsgbnVtYmVyIH0gbG8gLSBsb3dlciBlbmQgb2YgaW50ZXJ2YWwKICogQHBhcmFtIHsgbnVtYmVyIH0gdXAgLSB1cHBlciBlbmQgb2YgaW50ZXJ2YWwKICogQHBhcmFtIHsgbnVtYmVyIH0gbmRpdiAtIHJlcXVlc3RlZCBudW1iZXIgb2YgZGl2aXNpb25zCiAqIEBwYXJhbSB7IG51bWJlciB9IG1pbl9uIC0gbWluaW11bSBkaXZpc2lvbnMKICogQHBhcmFtIHsgbnVtYmVyIH0gc2hyaW5rX3NtbCAtIGlmIHRvbyBtYW55IGNlbGxzLCBhbW91bnQgdG8gc2hyaW5rIGJ5CiAqIEBwYXJhbSB7IG51bWJlciB9IGhpZ2hfdV9mYWN0IC0gYmlhcyBpbiBmYXZvdXIgb2YgbGFyZ2VyIHVuaXRzCiAqIEBwYXJhbSB7IG51bWJlciB9IGVwc19jb3JyZWN0aW9uIC0gY29ycmVjdGlvbiB0byBib3VuZHMKICogQHBhcmFtIHsgQm9vbGVhbiB9IHJldHVybl9ib3VuZHMgLSB3aGV0aGVyIHRvIHJldHVybiBib3VuZHMKICogQGRlc2NyaXB0aW9uCiAqIFByZXR0eSBJbnRlcnZhbHMKCiAqIENvbnN0cnVjdHMgbSAicHJldHR5IiB2YWx1ZXMgd2hpY2ggY292ZXIgdGhlIGdpdmVuIGludGVydmFsCSpsbyA8PSAqdXAKICoJbSB+PSAqbmRpdiArIDEJKGkuZS4sIG5kaXYgOj0gYXBwcm94aW1hdGUgbnVtYmVyIG9mIElOVEVSVkFMUykKICoKICogSXQgaXMgbm90IHF1aXRlIGNsZWFyIHdoYXQgc2hvdWxkIGhhcHBlbiBmb3IJICpsbyA9ICp1cDsKICogUyBpdHNlbGYgYmVoYXZlcyBxdWl0ZSBmdW5pbGx5LCB0aGVuLgogKgogKiBJbiBteSBvcGluaW9uLCBhIHByb3BlciAncHJldHR5JyBzaG91bGQgYWx3YXlzIGVuc3VyZQogKiAqbG8gPCAqdXAsIGFuZCBoZW5jZSAqbmRpdiA+PTEgaW4gdGhlIHJlc3VsdC4KICogSG93ZXZlciwgaW4gUyBhbmQgaGVyZSwgd2UgYWxsb3cgICpsbyA9PSAqdXAsIGFuZCAqbmRpdiA9IDAuCiAqIE5vdGUgaG93ZXZlciwgdGhhdCB3ZSBhcmUgTk9UIENPTVBBVElCTEUgdG8gUy4gW01hcnRpbiBNLl0KICoKICogTkVXICgwLjYzLjIpOiBucywgbnUgYXJlIGRvdWJsZSAoPT0+IG5vIGRhbmdlciBvZiBpbnRlZ2VyIG92ZXJmbG93KQogKgogKiBXZSBkZXRlcm1pbmUKICogaWYgdGhlIGludGVydmFsICh1cCAtIGxvKSBpcyBgYHNtYWxsJycgWzw9PT4JIGlfc21hbGwgPT0gVFJVRSwgYmVsb3ddLgogKiBGb3IgdGhlIGBgaV9zbWFsbCcnIHNpdHVhdGlvbiwgdGhlcmUgaXMgYSBwYXJhbWV0ZXIgIHNocmlua19zbWwsCiAqIHRoZSBmYWN0b3IgYnkgd2hpY2ggdGhlICJzY2FsZSIgaXMgc2hydW5rLgkJfn5+fn5+fn5+fgogKiBJdCBpcyBhZHZpc2FibGUgdG8gc2V0IGl0IHRvIHNvbWUgKHNtYWxsZXIpIGludGVnZXIgcG93ZXIgb2YgMiwKICogc2luY2UgdGhpcyBlbmFibGVzIGV4YWN0IGZsb2F0aW5nIHBvaW50IGRpdmlzaW9uLgogKi8Kcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLlJfcHJldHR5ID0gZnVuY3Rpb24oCiAgbG8sIHVwLCBuZGl2LCBtaW5fbiwgc2hyaW5rX3NtbCwgaGlnaF91X2ZhY3QsCiAgZXBzX2NvcnJlY3Rpb24sIHJldHVybl9ib3VuZHMpIHsKICAvKiBGcm9tIHZlcnNpb24gMC42NSBvbiwgd2UgaGFkIHJvdW5kaW5nX2VwcyA6PSAxZS01LCBiZWZvcmUsIHIuLmVwcyA9IDAKICAgKiAxZS03IGlzIGNvbnNpc3RlbnQgd2l0aCBzZXEuZGVmYXVsdCgpICovCiAgdmFyIHJvdW5kaW5nX2VwcyA9IDFlLTcsICBoID0gaGlnaF91X2ZhY3RbMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoNSA9IGhpZ2hfdV9mYWN0WzFdLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkeCwgY2VsbCwgdW5pdCwgYmFzZSwgVSwgbnMsIG51LCBrLCBpX3NtYWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCTF9FUFNJTE9OID0gTnVtYmVyLkVQU0lMT04sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREJMX01JTiA9IE51bWJlci5NSU5fVkFMVUUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREJMX01BWCA9IE51bWJlci5NQVhfVkFMVUU7CiAgCiAgZHggPSB1cCAtIGxvOwogIC8qIGNlbGwgOj0gInNjYWxlIgloZXJlICovCiAgaWYgKGR4ID09PSAwICYmIHVwID09PSAwKSB7IC8qICB1cCA9PSBsbyA9PSAwCSAqLwogIGNlbGwgPSAxOwogICAgaV9zbWFsbCA9IHRydWU7CiAgfSBlbHNlIHsKICAgIGNlbGwgPSBNYXRoLm1heChNYXRoLmFicyhsbyksIE1hdGguYWJzKHVwKSk7CiAgICAvKiBVID0gdXBwZXIgYm91bmQgb24gY2VsbC91bml0ICovCiAgICBVID0gKDEgKyAoaDUgPj0gMS41KmgrMC41KSkgPyAxLygxK2gpIDogMS41LygxK2g1KTsKICAgIC8qIGFkZGVkIHRpbWVzIDMsIGFzIHNldmVyYWwgY2FsY3VsYXRpb25zIGhlcmUgKi8KICAgIGlfc21hbGwgPSBkeCA8IGNlbGwgKiBVICogTWF0aC5tYXgoMSxuZGl2KSAqIERCTF9FUFNJTE9OICozOwogIH0KICAKICAvKk9MRDogY2VsbCA9IEZMVF9FUFNJTE9OKyBkeCAvICpuZGl2OyBGTFRfRVBTSUxPTiA9IDEuMTkyZS0wNyAqLwogIGlmKGlfc21hbGwpIHsKICAgIGlmKGNlbGwgPiAxMCkKICAgICAgY2VsbCA9IDkgKyBjZWxsLzEwOwogICAgY2VsbCAqPSBzaHJpbmtfc21sOwogICAgaWYobWluX24gPiAxKSBjZWxsIC89IG1pbl9uOwogIH0gZWxzZSB7CiAgICBjZWxsID0gZHg7CiAgICBpZihuZGl2ID4gMSkgY2VsbCAvPSBuZGl2OwogIH0KICAKICBpZihjZWxsIDwgMjAqREJMX01JTikgewogICAgLyogd2FybmluZyhfKCJJbnRlcm5hbChwcmV0dHkoKSk6IHZlcnkgc21hbGwgcmFuZ2UuLiBjb3JyZWN0ZWQiKSk7ICovCiAgICBjZWxsID0gMjAqREJMX01JTjsKICB9IGVsc2UgaWYoY2VsbCAqIDEwID4gREJMX01BWCkgewogICAgLyogd2FybmluZyhfKCJJbnRlcm5hbChwcmV0dHkoKSk6IHZlcnkgbGFyZ2UgcmFuZ2UuLiBjb3JyZWN0ZWQiKSk7ICovCiAgICBjZWxsID0gMC4xKkRCTF9NQVg7CiAgfQogIGJhc2UgPSBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcihNYXRoLmxvZzEwKGNlbGwpKSk7IC8qIGJhc2UgPD0gY2VsbCA8IDEwKmJhc2UgKi8KICAgIAogICAgLyogdW5pdCA6IGZyb20geyAxLDIsNSwxMCB9ICogYmFzZQogICAgICoJIHN1Y2ggdGhhdCB8dSAtIGNlbGx8IGlzIHNtYWxsLAogICAgICogZmF2b3JpbmcgbGFyZ2VyIChpZiBoID4gMSwgZWxzZSBzbWFsbGVyKSAgdSAgdmFsdWVzOwogICAgICogZmF2b3IgJzUnIG1vcmUgdGhhbiAnMicgIGlmIGg1ID4gaCAgKGRlZmF1bHQgaDUgPSAuNSArIDEuNSBoKSAqLwogICAgdW5pdCA9IGJhc2U7CiAgICBpZigoVSA9IDIqYmFzZSktY2VsbCA8ICBoKihjZWxsLXVuaXQpKSB7IHVuaXQgPSBVOwogICAgICBpZigoVSA9IDUqYmFzZSktY2VsbCA8IGg1KihjZWxsLXVuaXQpKSB7IHVuaXQgPSBVOwogICAgICAgIGlmKChVID0xMCpiYXNlKS1jZWxsIDwgIGgqKGNlbGwtdW5pdCkpIHVuaXQgPSBVOyB9fQogICAgLyogUmVzdWx0OiBjIDo9IGNlbGwsICB1IDo9IHVuaXQsICBiIDo9IGJhc2UKICAgICAqCWMgaW4gWwkxLAkgICAgICAoMisgaCkgLygxK2gpIF0gYiA9PT4gdT0gIGIKICAgICAqCWMgaW4gKCAoMisgaCkvKDEraCksICAoNSsyaDUpLygxK2g1KV0gYiA9PT4gdT0gMmIKICAgICAqCWMgaW4gKCAoNSsyaCkvKDEraCksICgxMCs1aCkgLygxK2gpIF0gYiA9PT4gdT0gNWIKICAgICAqCWMgaW4gKCgxMCs1aCkvKDEraCksCSAgICAgICAgIDEwICkgYiA9PT4gdT0xMGIKICAgICAqCiAgICAgKgk9PT0+CTIvNSAqKDIraCkvKDEraCkgIDw9ICBjL3UgIDw9ICAoMitoKS8oMStoKQkqLwogICAgCiAgICBucyA9IE1hdGguZmxvb3IobG8vdW5pdCtyb3VuZGluZ19lcHMpOwogICAgbnUgPSBNYXRoLmNlaWwgKHVwL3VuaXQtcm91bmRpbmdfZXBzKTsKICAgIAogICAgaWYoZXBzX2NvcnJlY3Rpb24gJiYgKGVwc19jb3JyZWN0aW9uID4gMSB8fCAhaV9zbWFsbCkpIHsKICAgICAgaWYobG8gIT09IDAuMCkgbG8gKj0gKDEtIERCTF9FUFNJTE9OKTsgZWxzZSBsbyA9IC1EQkxfTUlOOwogICAgICBpZih1cCAhPT0gMC4wKSB1cCAqPSAoMSsgREJMX0VQU0lMT04pOyBlbHNlIHVwID0gK0RCTF9NSU47CiAgICB9CiAgICAKICAgIHdoaWxlKG5zKnVuaXQgPiBsbyArIHJvdW5kaW5nX2Vwcyp1bml0KSBucy0tOwogICAgCiAgICB3aGlsZShudSp1bml0IDwgdXAgLSByb3VuZGluZ19lcHMqdW5pdCkgbnUrKzsKICAgIAogICAgayA9IE1hdGguZmxvb3IoMC41ICsgbnUgLSBucyk7CiAgICBpZihrIDwgbWluX24pIHsKICAgICAgLyogZW5zdXJlIHRoYXQJbnUgLSBucwkgPT0gbWluX24gKi8KICAgICAgCiAgICAgIGsgPSBtaW5fbiAtIGs7CiAgICAgIGlmKG5zID49IDApIHsKICAgICAgICBudSArPSBrLzI7CiAgICAgICAgbnMgLT0gay8yICsgayUyOy8qID09PiBudS1ucyA9IG9sZChudS1ucykgKyBtaW5fbiAtayA9IG1pbl9uICovCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbnMgLT0gay8yOwogICAgICAgIG51ICs9IGsvMiArIGslMjsKICAgICAgfQogICAgICBuZGl2ID0gbWluX247CiAgICB9IGVsc2UgewogICAgICBuZGl2ID0gazsKICAgIH0KICAgIGlmKHJldHVybl9ib3VuZHMpIHsgLyogaWYoKSdzIHRvIGVuc3VyZSB0aGF0IHJlc3VsdCBjb3ZlcnMgb3JpZ2luYWwgcmFuZ2UgKi8KICAgICAgaWYobnMgKiB1bml0IDwgbG8pIGxvID0gbnMgKiB1bml0OwogICAgICBpZihudSAqIHVuaXQgPiB1cCkgdXAgPSBudSAqIHVuaXQ7CiAgICB9IGVsc2UgewogICAgICBsbyA9IG5zOwogICAgICB1cCA9IG51OwogICAgfQogICAgcmV0dXJuIHtsbzpsbywgdXA6dXAsIG5kaXY6bmRpdiwgdW5pdDp1bml0fTsKfTsK"></script>
<script src="data:application/javascript;base64,ICAgIC8qKgogICAgICogTWV0aG9kcyByZWxhdGVkIHRvIGF4ZXMKICAgICAqIEBuYW1lIF9fX01FVEhPRFNfRk9SX0FYRVNfX18KICAgICAqIEBtZW1iZXJvZiByZ2x3aWRnZXRDbGFzcwogICAgICogQGtpbmQgZnVuY3Rpb24KICAgICAqIEBpbnN0YW5jZQogICAgICovCiAgICAgCiAgICAvKioKICAgICAqIENob29zZSBlZGdlcyBmb3IgdGlja3MKICAgICAqIEBwYXJhbSB7IE1hdHJpeCB9IHBybXYgLSBwcm9qZWN0aW9uLW1vZGVsLXZpZXcgbWF0cml4CiAgICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5nZXRUaWNrRWRnZXMgPSBmdW5jdGlvbihwcm12KXsKICAgICAgdmFyIHZlcnRpY2VzID0gW1swLDAsMCwxXSwgWzAsMCwxLDFdLAogICAgICAgICAgICAgICAgICAgICAgWzAsMSwwLDFdLCBbMCwxLDEsMV0sCiAgICAgICAgICAgICAgICAgICAgICBbMSwwLDAsMV0sIFsxLDAsMSwxXSwKICAgICAgICAgICAgICAgICAgICAgIFsxLDEsMCwxXSwgWzEsMSwxLDFdXSwgCiAgICAgICAgICAgZGltLCBpLCBqLCBrLCBlZGdlcywgaHVsbCwgc3RlcCwgcmVzdWx0ID0gW10sIHByb2ogPSBbXTsKICAgICAgZm9yIChpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcHJvaltpXSA9IHRoaXMubXVsdFZNKHZlcnRpY2VzW2ldLCBwcm12KTsKICAgICAgICBwcm9qW2ldWzBdID0gcHJvaltpXVswXS9wcm9qW2ldWzNdOwogICAgICAgIHByb2pbaV1bMV0gPSBwcm9qW2ldWzFdL3Byb2pbaV1bM107CiAgICAgICAgcHJvaltpXVsyXSA9IGk7CiAgICAgIH0KICAgICAgaHVsbCA9IHRoaXMuY2h1bGwocHJvai5zbGljZSgpKTsgIAogICAgICBmb3IgKGkgPSAwOyBpIDwgaHVsbC5sZW5ndGg7IGkrKykKICAgICAgICBodWxsW2ldID0gaHVsbFtpXVsyXTsKICAgICAgaHVsbC5wdXNoKGh1bGxbMF0pOwogICAgICBmb3IgKGRpbSA9IDA7IGRpbSA8IDM7IGRpbSsrKSB7IAogICAgICAgIGVkZ2VzID0gW107CiAgICAgICAgc3RlcCA9IE1hdGgucG93KDIsIDItZGltKTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICBqID0gKGRpbSA9PT0gMCkgPyBpIDogKGRpbSA9PT0gMSkgPyBpICsgMiooaT4xKSA6IDIqaTsKICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBodWxsLmxlbmd0aCAtIDE7IGsrKykgewogICAgICAgICAgICBpZiAoKGh1bGxba10gPT09IGogJiYgaHVsbFtrKzFdID09PSBqICsgc3RlcCkgfHwKICAgICAgICAgICAgICAgIChodWxsW2tdID09PSBqK3N0ZXAgJiYgaHVsbFtrKzFdID09PSBqKSkKICAgICAgICAgIAogICAgICAgICAgICAgIGVkZ2VzLnB1c2goW2osIGorc3RlcF0sIFtqK3N0ZXAsIGpdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gRmluZCB0aGUgZWRnZSB3aXRoIGEgdmVydGV4IGNsb3Nlc3QKICAgICAgICAvLyB0byB0aGUgYm90dG9tIGxlZnQgY29ybmVyCiAgICAgICAgaWYgKGVkZ2VzLmxlbmd0aCkgewogICAgICAgICAgdmFyIGJlc3QsIGJlc3QyLCB2YWwgPSBJbmZpbml0eSwgbmV3dmFsOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGVkZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGogPSBlZGdlc1tpXVswXTsKICAgICAgICAgICAgbmV3dmFsID0gcHJvaltqXVswXSArIHByb2pbal1bMV07CiAgICAgICAgICAgIGlmIChuZXd2YWwgPCB2YWwpIHsKICAgICAgICAgICAgICBiZXN0ID0gajsKICAgICAgICAgICAgICBiZXN0MiA9IGVkZ2VzW2ldWzFdOwogICAgICAgICAgICAgIHZhbCA9IG5ld3ZhbDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBiZXN0ICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICByZXN1bHRbZGltXSA9IHZlcnRpY2VzW2Jlc3RdLnNsaWNlKDAsMyk7CiAgICAgICAgICAgIHJlc3VsdFtkaW1dW2RpbV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICB9IGVsc2UKICAgICAgICAgICAgcmVzdWx0W2RpbV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIENob29zZSB0aWNrIGxvY2F0aW9ucwogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gb2JqIC0gVGhlIGJib3hkZWNvCiAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmdldFRpY2tMb2NhdGlvbnMgPSBmdW5jdGlvbihvYmopewogICAgICB2YXIgZGltLCBpLCBsaW1pdHMsIGxvY2F0aW9ucyA9IFtdLCByZXN1bHQgPSBbW10sW10sW11dLCB2YWx1ZSwKICAgICAgICAgIGxlbiwgZGVsdGEsIHJhbmdlLCBiYm94ID0gb2JqLmJib3g7CiAgICAgIG9iai5uZWVkc0F4aXNDYWxsYmFjayA9IGZhbHNlOwogICAgICBmb3IgKGRpbSA9IDA7IGRpbSA8IDM7IGRpbSsrKSB7CiAgICAgICAgbGltaXRzID0gYmJveC5zbGljZSgyKmRpbSwgMipkaW0gKyAyKTsKICAgICAgICByYW5nZSA9IGxpbWl0c1sxXSAtIGxpbWl0c1swXTsKICAgICAgICBzd2l0Y2gob2JqLmF4ZXMubW9kZVtkaW1dKSB7CiAgICAgICAgY2FzZSAiY3VzdG9tIjoKICAgICAgICAgIGZvciAoaT0wOyBpIDwgb2JqLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhbHVlID0gKG9iai52ZXJ0aWNlc1tpXVtkaW1dIC0gbGltaXRzWzBdKS9yYW5nZTsKICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gInVuZGVmaW5lZCIpCiAgICAgICAgICAgICAgcmVzdWx0W2RpbV0ucHVzaCh2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJmaXhlZHN0ZXAiOgogICAgICAgICAgbGVuID0gTWF0aC5mbG9vcihyYW5nZS9vYmouYXhlcy5zdGVwW2RpbV0pOwogICAgICAgICAgZGVsdGEgPSBvYmouYXhlcy5zdGVwW2RpbV07CiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspCiAgICAgICAgICAgIHJlc3VsdFtkaW1dLnB1c2goaSpkZWx0YSk7ICAgICAgICAgIAogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiZml4ZWRudW0iOgogICAgICAgICAgbGVuID0gb2JqLmF4ZXMubnRpY2tzW2RpbV07CiAgICAgICAgICBkZWx0YSA9IChsZW4gPiAxKSA/IHJhbmdlLyhsZW4tMSkgOiAwOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKQogICAgICAgICAgICByZXN1bHRbZGltXS5wdXNoKGkqZGVsdGEvcmFuZ2UpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicHJldHR5IjoKICAgICAgICAgIGxvY2F0aW9ucyA9IHRoaXMuUl9wcmV0dHkobGltaXRzWzBdLCBsaW1pdHNbMV0sIDUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyLCAvLyBtaW5fbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC43NSwgLy8gc2hyaW5rX3NtbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWzEuNSwgMi43NV0sIC8vIGhpZ2hfdV9mYWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAvLyBlcHNfY29ycmVjdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCk7IC8vIHJldHVybl9ib3VuZHMpICAKICAgICAgICAgIGZvciAoaSA9IGxvY2F0aW9ucy5sbzsgaSA8PSBsb2NhdGlvbnMudXA7IGkrKykgewogICAgICAgICAgICB2YWx1ZSA9IChpKmxvY2F0aW9ucy51bml0IC0gbGltaXRzWzBdKS9yYW5nZTsKICAgICAgICAgICAgaWYgKDAgPCB2YWx1ZSAmJiB2YWx1ZSA8IDEpCiAgICAgICAgICAgICAgcmVzdWx0W2RpbV0ucHVzaCh2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJ1c2VyIjoKICAgICAgICAgIG9iai5uZWVkc0F4aXNDYWxsYmFjayA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogU2V0IHRpY2sgdmVydGljZXMKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IHRpY2tzIC0gdGhlIHRpY2sgb2JqZWN0CiAgICAgKiBAcGFyYW0geyBBcnJheSB9ICBlZGdlcyAtIFdoaWNoIGVkZ2VzIGdldCB0aGUgdGlja3M/CiAgICAqLwogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmdldFRpY2tWZXJ0aWNlcyA9IGZ1bmN0aW9uKHRpY2tzKSB7CiAgICAgIHZhciBkaW0sIGksIGosIHZlcnRpY2VzID0gW10sIGxvY2F0aW9ucywgCiAgICAgICAgICBlZGdlcyA9IHRpY2tzLmVkZ2VzLCBlZGdlOwogICAgICBmb3IgKGRpbSA9IDA7IGRpbSA8IDM7IGRpbSsrKSB7CiAgICAgICAgbG9jYXRpb25zID0gdGlja3MubG9jYXRpb25zW2RpbV07CiAgICAgICAgaWYgKGxvY2F0aW9ucy5sZW5ndGgpCiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSAKICAgICAgICAgICAgaWYgKHR5cGVvZiBlZGdlc1tkaW1dICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgIGVkZ2UgPSBlZGdlc1tkaW1dLnNsaWNlKCk7CiAgICAgICAgICAgICAgZWRnZVtkaW1dID0gbG9jYXRpb25zW2ldOwogICAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goZWRnZSk7CiAgICAgICAgICAgICAgZWRnZSA9IGVkZ2Uuc2xpY2UoKTsKICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgMzsgaisrKSAgICAgICAKICAgICAgICAgICAgICAgIGlmICgoZGltIDwgMiAmJiBqID09PSAxIC0gZGltKSB8fCAKICAgICAgICAgICAgICAgICAgICAoZGltID09PSAyICYmIGogPT09IDApKQogICAgICAgICAgICAgICAgICBlZGdlW2pdICs9IDIqKGVkZ2Vbal0gLSAwLjUpL3RpY2tzLmF4ZXMubWFya2xlbltkaW1dOwogICAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goZWRnZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIHRpY2tzLnZlcnRpY2VzID0gdmVydGljZXM7CiAgICAgIHRpY2tzLnZlcnRleENvdW50ID0gdmVydGljZXMubGVuZ3RoOwogICAgICB0aWNrcy52YWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuZmxhdHRlbih2ZXJ0aWNlcykpOwogICAgICB0aWNrcy5pbml0aWFsaXplZCA9IGZhbHNlOwogICAgfTsKICAgIAogICAgLyoqCiAgICAgKiBTZXQgdGljayBsYWJlbCBwb3NpdGlvbnMKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IG9iaiAtIHRoZSBiYm94IG9iamVjdAogICAgKi8KICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5wbGFjZVRpY2tMYWJlbHMgPSBmdW5jdGlvbihvYmopIHsKICAgICAgdmFyIHRpY2tzID0gb2JqLnRpY2tzLCBsYWJlbHMgPSBvYmoubGFiZWxzLCBpLGosaywKICAgICAgICAgIHZlcnRpY2VzID0gW10sIHRpY2t2ZXJ0aWNlcyA9IHRpY2tzLnZlcnRpY2VzLCAKICAgICAgICAgIHZlcnRleCwgbG9jYXRpb25zLCBkaW0sIGVkZ2VzID0gb2JqLnRpY2tzLmVkZ2VzOwogICAgICBqID0gMDsKICAgICAgZm9yIChkaW0gPSAwOyBkaW0gPCAzOyBkaW0rKykgewogICAgICAgIGlmICh0eXBlb2YgZWRnZXNbZGltXSA9PT0gInVuZGVmaW5lZCIpIAogICAgICAgICAgY29udGludWU7CiAgICAgICAgbG9jYXRpb25zID0gdGlja3MubG9jYXRpb25zW2RpbV07CiAgICAgICAgaWYgKGxvY2F0aW9ucy5sZW5ndGgpCiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHdoaWxlIChqIDwgdGlja3ZlcnRpY2VzLmxlbmd0aCAmJiAKICAgICAgICAgICAgICAgICAgIHRpY2t2ZXJ0aWNlc1tqXVtkaW1dICE9PSBsb2NhdGlvbnNbaV0pIGorKzsKICAgICAgICAgICAgaWYgKGogPj0gdGlja3ZlcnRpY2VzLmxlbmd0aCkKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgdmVydGV4ID0gdGlja3ZlcnRpY2VzW2pdLnNsaWNlKCk7CiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCAzOyBrKyspCiAgICAgICAgICAgICAgdmVydGV4W2tdICs9IDIqKHRpY2t2ZXJ0aWNlc1tqKzFdW2tdIC0gdmVydGV4W2tdKTsKICAgICAgICAgICAgdmVydGljZXMucHVzaCh2ZXJ0ZXgpOwogICAgICAgICAgICBqICs9IDI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICBsYWJlbHMudmVydGljZXMgPSB2ZXJ0aWNlczsKICAgICAgbGFiZWxzLmNlbnRlcnMgPSBsYWJlbHMudmVydGljZXM7CiAgICAgIGxhYmVscy5pbml0aWFsaXplZCA9IGZhbHNlOwogICAgfTsgIAogICAgIAogICAgLyoqCiAgICAgKiBTZXQgdGljayBsYWJlbHMKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IG9iaiAtIHRoZSBiYm94IG9iamVjdAogICAgICovIAogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnNldFRpY2tMYWJlbHMgPSBmdW5jdGlvbihvYmopIHsKICAgICAgdmFyIHRpY2tzID0gb2JqLnRpY2tzLCBtb2RlLCBsb2NhdGlvbnMsIGxhYmVscyA9IFtdLAogICAgICBzdGFydCA9IDAsIG50aWNrcywgZGltLCBpLCBsaW1pdHMsIHJhbmdlLCB2YWx1ZXMsIG1heCwKICAgICAgZWRnZXMgPSBvYmoudGlja3MuZWRnZXM7CiAgICAgIGZvciAoZGltID0gMDsgZGltIDwgMzsgZGltKyspIHsKICAgICAgICBpZiAodHlwZW9mIGVkZ2VzW2RpbV0gPT09ICJ1bmRlZmluZWQiKSAKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIG1vZGUgPSBvYmouYXhlcy5tb2RlW2RpbV07CiAgICAgICAgbnRpY2tzID0gb2JqLmF4ZXMubnRpY2tzW2RpbV07IC8vIHVzZWQgb24gaW5wdXQgb25seSBmb3IgY3VzdG9tIQogICAgICAgIGlmIChtb2RlID09PSAiY3VzdG9tIikgCiAgICAgICAgICBsYWJlbHMgPSBsYWJlbHMuY29uY2F0KG9iai50ZXh0cy5zbGljZShzdGFydCwgc3RhcnQgKyBudGlja3MpKTsKICAgICAgICBlbHNlIHsKICAgICAgICAgIGxpbWl0cyA9IG9iai5iYm94LnNsaWNlKDIqZGltLCAyKihkaW0rMSkpOwogICAgICAgICAgcmFuZ2UgPSBsaW1pdHNbMV0gLSBsaW1pdHNbMF07CiAgICAgICAgICBsb2NhdGlvbnMgPSB0aWNrcy5sb2NhdGlvbnNbZGltXTsKICAgICAgICAgIG1heCA9IC1JbmZpbml0eTsKICAgICAgICAgIHZhbHVlcyA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxvY2F0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YWx1ZXMucHVzaChsaW1pdHNbMF0gKyByYW5nZSpsb2NhdGlvbnNbaV0pOwogICAgICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIE1hdGguYWJzKHZhbHVlc1tpXSkpOwogICAgICAgICAgfQogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxvY2F0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoTWF0aC5hYnModmFsdWVzW2ldKS9tYXggPCBNYXRoLnBvdygxMCwgLTUpKQogICAgICAgICAgICAgIHZhbHVlc1tpXSA9IDA7CiAgICAgICAgICAgIGxhYmVscy5wdXNoKHRoaXMuc2lnbmlmKHZhbHVlc1tpXSwgNCkudG9TdHJpbmcoKSk7CiAgICAgICAgICB9CiAgICAgICAgICBvYmouYXhlcy5udGlja3NbZGltXSA9IGxvY2F0aW9ucy5sZW5ndGg7ICAKICAgICAgICB9CiAgICAgICAgc3RhcnQgKz0gbnRpY2tzOwogICAgICB9CiAgICAgIG9iai5sYWJlbHMudGV4dHMgPSBsYWJlbHM7CiAgICB9OwoKICAgIC8qKgogICAgICogU2V0IGJib3hkZWNvIGJib3ggYW5kIGNlbnRlciB2ZWN0b3IgCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBvYmogLSB0aGUgYmJveCBvYmplY3QKICAgICAqLyAKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5zZXRCYm94ID0gZnVuY3Rpb24ob2JqLCBzdWJzY2VuZSkgewogICAgICB2YXIgaSwgZXhwYW5kLCBjZW50ZXIgPSBbXSwgYmJveDsKICAgICAgaWYgKCFvYmouaW5pdGlhbGl6ZWQpCiAgICAgICAgdGhpcy5pbml0QkJveChvYmopOwogICAgICAgIAogICAgICBiYm94ID0gW10uY29uY2F0KHN1YnNjZW5lLnBhcjNkLmJib3gpOwogICAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgZXhwYW5kID0gb2JqLmF4ZXMuZXhwYW5kW2ldOwogICAgICAgIGNlbnRlcltpXSA9IChiYm94WzIqaV0gKyBiYm94WzIqaSArIDFdKS8yOwogICAgICAgIGJib3hbMippXSA9IGNlbnRlcltpXSAtIGV4cGFuZCooYmJveFsyKmkgKyAxXSAtIGNlbnRlcltpXSk7CiAgICAgICAgYmJveFsyKmkrMV0gPSBjZW50ZXJbaV0gKyBleHBhbmQqKGJib3hbMippICsgMV0gLSBjZW50ZXJbaV0pOwogICAgICB9CiAgICAgIG9iai5iYm94ID0gYmJveDsKICAgICAgb2JqLmNlbnRlciA9IGNlbnRlcjsKICAgIH07CgogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnNldEJCb3hNYXRyaWNlcyA9IGZ1bmN0aW9uKG9iaikgewogICAgICB2YXIgc2F2ZWQgPSB7bm9ybU1hdHJpeDogbmV3IENhbnZhc01hdHJpeDQodGhpcy5ub3JtTWF0cml4KSwKICAgICAgICAgICAgICAgICAgIG12TWF0cml4OiBuZXcgQ2FudmFzTWF0cml4NCh0aGlzLm12TWF0cml4KX0sCiAgICAgICAgICBiYm94Tm9ybSwgYmJveE1WLCBiYm94ID0gb2JqLmJib3gsIHNjYWxlOwogICAgICAgICAgCiAgICAgIGJib3hOb3JtID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgICAgc2NhbGUgPSBbYmJveFsxXS1iYm94WzBdLCBiYm94WzNdLWJib3hbMl0sIGJib3hbNV0tYmJveFs0XV07CiAgICAgIGJib3hOb3JtLnNjYWxlKDEvc2NhbGVbMF0sIDEvc2NhbGVbMV0sIDEvc2NhbGVbMl0pOwogICAgICBiYm94Tm9ybS5tdWx0UmlnaHQoc2F2ZWQubm9ybU1hdHJpeCk7CiAgICAgIHRoaXMubm9ybU1hdHJpeCA9IGJib3hOb3JtOwoKICAgICAgYmJveE1WID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgICAgYmJveE1WLnNjYWxlKHNjYWxlWzBdLCBzY2FsZVsxXSwgc2NhbGVbMl0pOwogICAgICBiYm94TVYudHJhbnNsYXRlKGJib3hbMF0sIGJib3hbMl0sIGJib3hbNF0pOwogICAgICBiYm94TVYubXVsdFJpZ2h0KHNhdmVkLm12TWF0cml4KTsKICAgICAgdGhpcy5tdk1hdHJpeCA9IG9iai5tdk1hdHJpeCA9IGJib3hNVjsKICAgICAgCiAgICAgIGlmICh0aGlzLnBybXZNYXRyaXggPT09IG51bGwpCiAgICAgICAgc2F2ZWQucHJtdk1hdHJpeCA9IG51bGw7CiAgICAgIGVsc2UKICAgICAgICBzYXZlZC5wcm12TWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQodGhpcy5wcm12TWF0cml4KTsKICAgICAgICAKICAgICAgdGhpcy5zZXRwcm12TWF0cml4KCk7CiAgICAgIG9iai5wcm12TWF0cml4ID0gdGhpcy5wcm12TWF0cml4OwogICAgICAKICAgICAgcmV0dXJuIHNhdmVkOwogICAgfTsKICAgIAogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLnJlc3RvcmVCQm94TWF0cmljZXMgPSBmdW5jdGlvbihzYXZlZCkgewogICAgICB0aGlzLm5vcm1NYXRyaXggPSBzYXZlZC5ub3JtTWF0cml4OwogICAgICB0aGlzLm12TWF0cml4ICAgPSBzYXZlZC5tdk1hdHJpeDsKICAgICAgdGhpcy5wcm12TWF0cml4ID0gc2F2ZWQucHJtdk1hdHJpeDsKICAgIH07CiAgICAKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5nZXRNYXJnaW5QYXJhbWV0ZXJzID0gZnVuY3Rpb24oYmJveGRlY28sIG1hdGVyaWFsKSB7CiAgICAgIC8vIEFzc3VtZSB3ZSd2ZSBydW4gdGhpcy5zZXRCYm94KGJib3hkZWNvLCBzdWJzY2VuZSk7CiAgICAgIHZhciBiYm94ID0gYmJveGRlY28uYmJveCwKICAgICAgICAgIGVkZ2UgPSBbXS5jb25jYXQobWF0ZXJpYWwuZWRnZSksCiAgICAgICAgICBzYXZlZCwgZWRnZXMsIGksIAogICAgICAgICAgYXQgPSBtYXRlcmlhbC5tYXJnaW4sIGxpbmUsIGxldmVsLCB0cmFucywgc2NhbGU7CgogICAgICBpZiAobWF0ZXJpYWwuZmxvYXRpbmcpIHsKICAgICAgICBzYXZlZCA9IHRoaXMuc2V0QkJveE1hdHJpY2VzKGJib3hkZWNvKTsKICAgICAgICBlZGdlcyA9IHRoaXMuZ2V0VGlja0VkZ2VzKHRoaXMucHJtdk1hdHJpeClbYXRdOwogICAgICAgIHRoaXMucmVzdG9yZUJCb3hNYXRyaWNlcyhzYXZlZCk7CiAgICAgICAgaWYgKHR5cGVvZiBlZGdlcyAhPT0gInVuZGVmaW5lZCIpCiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgICAgIGlmIChlZGdlc1tpXSA8IDEpIGVkZ2VzW2ldID0gLTE7CiAgICAgICAgICAgICAgZWRnZVtpXSA9IGVkZ2VbaV0qZWRnZXNbaV07CiAgICAgICAgfSBlbHNlCiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICB9CiAgICAgIHN3aXRjaChhdCkgewogICAgICBjYXNlIDA6IGxpbmUgPSAxOwogICAgICAgICAgICAgIGxldmVsID0gMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgY2FzZSAxOiBsaW5lID0gMDsKICAgICAgICAgICAgICBsZXZlbCA9IDI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgMjogbGluZSA9IDA7CiAgICAgICAgICAgICAgbGV2ZWwgPSAxOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIHNjYWxlID0gW2VkZ2VbMF0qKGJib3hbMV0tYmJveFswXSkvYmJveGRlY28uYXhlcy5tYXJrbGVuWzBdLCAKICAgICAgICAgICAgICAgZWRnZVsxXSooYmJveFszXS1iYm94WzJdKS9iYm94ZGVjby5heGVzLm1hcmtsZW5bMV0sIAogICAgICAgICAgICAgICBlZGdlWzJdKihiYm94WzVdLWJib3hbNF0pL2Jib3hkZWNvLmF4ZXMubWFya2xlblsyXV07CiAgICAgIHRyYW5zID0gW2VkZ2VbMF0gPT09IDEgPyBiYm94WzFdIDogYmJveFswXSwKICAgICAgICAgICAgICAgZWRnZVsxXSA9PT0gMSA/IGJib3hbM10gOiBiYm94WzJdLAogICAgICAgICAgICAgICBlZGdlWzJdID09PSAxID8gYmJveFs1XSA6IGJib3hbNF1dOwogICAgICByZXR1cm4ge2F0OiBhdCwgbGluZTogbGluZSwgbGV2ZWw6IGxldmVsLCB0cmFuczogdHJhbnMsIHNjYWxlOiBzY2FsZX07ICAgICAgICAKICAgIH07CiAgICAKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5maXhWZXJ0ZXggPSBmdW5jdGlvbihvcmlnLCBwYXJtcywgY2VudGVyLCBiYm94KSB7CiAgICAgIHZhciB2ZXJ0ZXggPSBbMCwwLDBdOwogICAgICBpZiAodGhpcy5taXNzaW5nKG9yaWdbMF0pKQogICAgICAgIHZlcnRleFtwYXJtcy5hdF0gPSBjZW50ZXJbcGFybXMuYXRdOwogICAgICBlbHNlIGlmIChvcmlnWzBdID09PSAiLUluZiIpCiAgICAgICAgdmVydGV4W3Bhcm1zLmF0XSA9IGJib3hbMipwYXJtcy5hdF07CiAgICAgIGVsc2UgaWYgKG9yaWdbMF0gPT09ICJJbmYiKQogICAgICAgIHZlcnRleFtwYXJtcy5hdF0gPSBiYm94WzIqcGFybXMuYXQgKyAxXTsKICAgICAgZWxzZQogICAgICAgIHZlcnRleFtwYXJtcy5hdF0gPSBvcmlnWzBdOwogICAgICB2ZXJ0ZXhbcGFybXMubGluZV0gPSBwYXJtcy5zY2FsZVtwYXJtcy5saW5lXSpvcmlnWzFdICsgCiAgICAgICAgICBwYXJtcy50cmFuc1twYXJtcy5saW5lXTsKICAgICAgdmVydGV4W3Bhcm1zLmxldmVsXSA9IHBhcm1zLnNjYWxlW3Bhcm1zLmxldmVsXSpvcmlnWzJdICsgCiAgICAgICAgICBwYXJtcy50cmFuc1twYXJtcy5sZXZlbF07CiAgICAgIHJldHVybiB2ZXJ0ZXg7CiAgICB9OwogICAgCiAgICByZ2x3aWRnZXRDbGFzcy5wcm90b3R5cGUuZml4Tm9ybWFsID0gZnVuY3Rpb24ob3JpZywgcGFybXMpIHsKICAgICAgdmFyIHZlcnRleCA9IFswLDAsMF07CiAgICAgIHZlcnRleFtwYXJtcy5hdF0gPSBvcmlnWzBdOwogICAgICB2ZXJ0ZXhbcGFybXMubGluZV0gPSBvcmlnWzFdL3Bhcm1zLnNjYWxlW3Bhcm1zLmxpbmVdOwogICAgICB2ZXJ0ZXhbcGFybXMubGV2ZWxdID0gb3JpZ1syXS9wYXJtcy5zY2FsZVtwYXJtcy5sZXZlbF07CiAgICAgIHJldHVybiB2ZXJ0ZXg7CiAgICB9OwoKICAgIHJnbHdpZGdldENsYXNzLnByb3RvdHlwZS5tYXJnaW5WZWNUb0RhdGFWZWMgPSBmdW5jdGlvbihvYmosIHN1YnNjZW5lKSB7CiAgICAgIHZhciBiYm94ZGVjbyA9IHRoaXMuZ2V0QkJveERlY28oc3Vic2NlbmUpLAogICAgICAgICAgY2VudGVyLCBiYm94LCBwYXJtcywgcGFybXNqc29uLAogICAgICAgICAgb3JpZyA9IG9iai5vcmlnLCAKICAgICAgICAgIHZlcnRpY2VzID0gW10sIG5vcm1hbHMgPSBbXSwKICAgICAgICAgIGNlbnRlcnMgPSBbXSwgaSwgdmVydGV4OwogICAgICBpZiAodHlwZW9mIG9yaWcgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgb3JpZyA9IHt2ZXJ0OiBvYmoudmVydGljZXMsCiAgICAgICAgICAgICAgICBub3JtOiBvYmoubm9ybWFscywKICAgICAgICAgICAgICAgIGNlbnQ6IG9iai5jZW50ZXJzLAogICAgICAgICAgICAgICAgZG9Ob3JtYWxzOiB0eXBlb2Ygb2JqLm5vcm1hbHMgIT09ICJ1bmRlZmluZWQiLAogICAgICAgICAgICAgICAgZG9DZW50ZXJzOiB0eXBlb2Ygb2JqLmNlbnRlcnMgIT09ICJ1bmRlZmluZWQiLAogICAgICAgICAgICAgICAgcGFybXM6ICIiCiAgICAgICAgICAgICAgIH07CiAgICAgICAgb2JqLm9yaWcgPSBvcmlnOwogICAgICB9CgogICAgICBpZiAodHlwZW9mIGJib3hkZWNvICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIHRoaXMuc2V0QmJveChiYm94ZGVjbywgc3Vic2NlbmUpOwogICAgICAgIGNlbnRlciA9IGJib3hkZWNvLmNlbnRlcjsKICAgICAgICBiYm94ID0gYmJveGRlY28uYmJveDsKICAgICAgICBwYXJtcyA9IHRoaXMuZ2V0TWFyZ2luUGFyYW1ldGVycyhiYm94ZGVjbywgb2JqLm1hdGVyaWFsKTsKICAgICAgICBpZiAodHlwZW9mIHBhcm1zID09PSAidW5kZWZpbmVkIikKICAgICAgICAgIHJldHVybiBmYWxzZTsgIC8qIGF4aXMgaXMgbm90IGN1cnJlbnRseSBzaG93biAqLwogICAgICAgIAogICAgICAgIHBhcm1zanNvbiA9IEpTT04uc3RyaW5naWZ5KHBhcm1zKTsKICAgICAgICBpZiAocGFybXNqc29uID09PSBvcmlnLnBhcm1zKQogICAgICAgICAgcmV0dXJuIHRydWU7ICAvKiBub3RoaW5nIGhhcyBjaGFuZ2VkICovCiAgICAKICAgICAgICBvcmlnLnBhcm1zID0gcGFybXNqc29uOwogICAgICAgIAogICAgICAgIGZvciAoaT0wOyBpIDwgb3JpZy52ZXJ0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2ZXJ0ZXggPSB0aGlzLmZpeFZlcnRleChvcmlnLnZlcnRbaV0sIHBhcm1zLCBjZW50ZXIsIGJib3gpOwogICAgICAgICAgdmVydGljZXMucHVzaCh2ZXJ0ZXgpOwogICAgICAgIH0KICAgICAgICBvYmoudmVydGljZXMgPSB2ZXJ0aWNlczsKICAgICAgICBpZiAob3JpZy5kb05vcm1hbHMpIHsKICAgICAgICAgIGZvciAoaT0wOyBpIDwgb3JpZy5ub3JtLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZlcnRleCA9IHRoaXMuZml4Tm9ybWFsKG9yaWcubm9ybVtpXSwgcGFybXMpOwogICAgICAgICAgICBub3JtYWxzLnB1c2godmVydGV4KTsKICAgICAgICAgIH0KICAgICAgICAgIG9iai5ub3JtYWxzID0gbm9ybWFsczsKICAgICAgICB9CiAgICAgICAgaWYgKG9yaWcuZG9DZW50ZXJzKSB7CiAgICAgICAgICBmb3IgKGk9MDsgaSA8IG9yaWcuY2VudC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2ZXJ0ZXggPSB0aGlzLmZpeFZlcnRleChvcmlnLmNlbnRbaV0sIHBhcm1zLCBjZW50ZXIsIGJib3gpOwogICAgICAgICAgICBjZW50ZXJzLnB1c2godmVydGV4KTsKICAgICAgICAgIH0KICAgICAgICAgIG9iai5jZW50ZXJzID0gY2VudGVyczsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgb2JqLmluaXRpYWxpemVkID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS53YXJuKCJiYm94ZGVjbyBub3QgZm91bmQiKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH07CgogICAgcmdsd2lkZ2V0Q2xhc3MucHJvdG90eXBlLmRvQXhpc0NhbGxiYWNrID0gZnVuY3Rpb24ob2JqLCBlZGdlcykgewogICAgICB2YXIgaSwgaiwgY29kZSwgYXhpcywgZm47CiAgICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHsKICAgICAgICBpZiAob2JqLmF4ZXMubW9kZVtpXSA9PT0gInVzZXIiKSB7CiAgICAgICAgICBheGlzID0gWyJ4IiwgInkiLCAieiJdW2ldOwogICAgICAgICAgaWYgKHR5cGVvZiBvYmouY2FsbGJhY2tzICE9PSAidW5kZWZpbmVkIiAmJgogICAgICAgICAgICAgIHR5cGVvZiAoY29kZSA9IG9iai5jYWxsYmFja3NbYXhpc10pICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICBpZiAodHlwZW9mIGVkZ2VzW2ldICE9PSAidW5kZWZpbmVkIikKICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgMzsgaisrKQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlZGdlc1tpXVtqXSAhPT0gInVuZGVmaW5lZCIpCiAgICAgICAgICAgICAgICAgIGF4aXMgPSBheGlzICsgKGVkZ2VzW2ldW2pdID4gMCA/ICIrIiA6ICItIik7CiAgICAgICAgICAgIAogICAgICAgICAgLyoganNoaW50IGV2aWw6dHJ1ZSAqLwogICAgICAgICAgICBmbiA9IEZ1bmN0aW9uKCcidXNlIHN0cmljdCI7cmV0dXJuICgnICsgY29kZSArICcpJykoKTsKICAgICAgICAgIC8qIGpzaGludCBldmlsOmZhbHNlICovCiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgYXhpcyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9Owo="></script>
<script src="data:application/javascript;base64,LyogZ2xvYmFscyBDYW52YXNNYXRyaXg0OiB0cnVlICovCi8qIGdsb2JhbHMgV2ViR0xGbG9hdEFycmF5ICovCi8qIGpzaGludCBlcWVxZXE6IGZhbHNlICovCi8qCiAqIENvcHlyaWdodCAoQykgMjAwOSBBcHBsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAqCiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dAogKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMKICogYXJlIG1ldDoKICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQKICogICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLgogKiAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodAogKiAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlCiAqICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uCiAqCiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgQVBQTEUgSU5DLiBgYEFTIElTJycgQU5EIEFOWQogKiBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRQogKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIKICogUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIEFQUExFIElOQy4gT1IKICogQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsCiAqIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywKICogUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SCiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkKICogT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUCiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRQogKiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgoKICogQ29weXJpZ2h0ICgyMDE2KSBEdW5jYW4gTXVyZG9jaCAtIGZpeGVkIENhbnZhc01hdHJpeDQub3J0aG8sCiAqIGNsZWFuZWQgdXAuCiAqLwovKgogICAgQ2FudmFzTWF0cml4NCBjbGFzcwoKICAgIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIDR4NCBtYXRyaXguIEl0IGhhcyBmdW5jdGlvbnMgd2hpY2gKICAgIGR1cGxpY2F0ZSB0aGUgZnVuY3Rpb25hbGl0eSBvZiB0aGUgT3BlbkdMIG1hdHJpeCBzdGFjayBhbmQKICAgIGdsdXQgZnVuY3Rpb25zLgoKICAgIElETDoKCiAgICBbCiAgICAgICAgQ29uc3RydWN0b3IoaW4gQ2FudmFzTWF0cml4NCBtYXRyaXgpLCAgICAgICAgICAgLy8gY29weSBwYXNzZWQgbWF0cml4IGludG8gbmV3IENhbnZhc01hdHJpeDQKICAgICAgICBDb25zdHJ1Y3RvcihpbiBzZXF1ZW5jZTxmbG9hdD4gYXJyYXkpICAgICAgICAgICAvLyBjcmVhdGUgbmV3IENhbnZhc01hdHJpeDQgd2l0aCAxNiBmbG9hdHMgKHJvdyBtYWpvcikKICAgICAgICBDb25zdHJ1Y3RvcigpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgbmV3IENhbnZhc01hdHJpeDQgd2l0aCBpZGVudGl0eSBtYXRyaXgKICAgIF0KICAgIGludGVyZmFjZSBDYW52YXNNYXRyaXg0IHsKICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgbTExOwogICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBtMTI7CiAgICAgICAgYXR0cmlidXRlIGZsb2F0IG0xMzsKICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgbTE0OwogICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBtMjE7CiAgICAgICAgYXR0cmlidXRlIGZsb2F0IG0yMjsKICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgbTIzOwogICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBtMjQ7CiAgICAgICAgYXR0cmlidXRlIGZsb2F0IG0zMTsKICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgbTMyOwogICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBtMzM7CiAgICAgICAgYXR0cmlidXRlIGZsb2F0IG0zNDsKICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgbTQxOwogICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBtNDI7CiAgICAgICAgYXR0cmlidXRlIGZsb2F0IG00MzsKICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgbTQ0OwoKICAgICAgICB2b2lkIGxvYWQoaW4gQ2FudmFzTWF0cml4NCBtYXRyaXgpOyAgICAgICAgICAgICAgICAgLy8gY29weSB0aGUgdmFsdWVzIGZyb20gdGhlIHBhc3NlZCBtYXRyaXgKICAgICAgICB2b2lkIGxvYWQoaW4gc2VxdWVuY2U8ZmxvYXQ+IGFycmF5KTsgICAgICAgICAgICAgICAgLy8gY29weSAxNiBmbG9hdHMgaW50byB0aGUgbWF0cml4CiAgICAgICAgc2VxdWVuY2U8ZmxvYXQ+IGdldEFzQXJyYXkoKTsgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgbWF0cml4IGFzIGFuIGFycmF5IG9mIDE2IGZsb2F0cwogICAgICAgIFdlYkdMRmxvYXRBcnJheSBnZXRBc0NhbnZhc0Zsb2F0QXJyYXkoKTsgICAgICAgICAgIC8vIHJldHVybiB0aGUgbWF0cml4IGFzIGEgV2ViR0xGbG9hdEFycmF5IHdpdGggMTYgdmFsdWVzCiAgICAgICAgdm9pZCBtYWtlSWRlbnRpdHkoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIG1hdHJpeCB3aXRoIGlkZW50aXR5CiAgICAgICAgdm9pZCB0cmFuc3Bvc2UoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIG1hdHJpeCB3aXRoIGl0cyB0cmFuc3Bvc2UKICAgICAgICB2b2lkIGludmVydCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB0aGUgbWF0cml4IHdpdGggaXRzIGludmVyc2UKCiAgICAgICAgdm9pZCB0cmFuc2xhdGUoaW4gZmxvYXQgeCwgaW4gZmxvYXQgeSwgaW4gZmxvYXQgeik7IC8vIG11bHRpcGx5IHRoZSBtYXRyaXggYnkgcGFzc2VkIHRyYW5zbGF0aW9uIHZhbHVlcyBvbiB0aGUgcmlnaHQKICAgICAgICB2b2lkIHNjYWxlKGluIGZsb2F0IHgsIGluIGZsb2F0IHksIGluIGZsb2F0IHopOyAgICAgLy8gbXVsdGlwbHkgdGhlIG1hdHJpeCBieSBwYXNzZWQgc2NhbGUgdmFsdWVzIG9uIHRoZSByaWdodAogICAgICAgIHZvaWQgcm90YXRlKGluIGZsb2F0IGFuZ2xlLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtdWx0aXBseSB0aGUgbWF0cml4IGJ5IHBhc3NlZCByb3RhdGlvbiB2YWx1ZXMgb24gdGhlIHJpZ2h0CiAgICAgICAgICAgICAgICAgICAgaW4gZmxvYXQgeCwgaW4gZmxvYXQgeSwgaW4gZmxvYXQgeik7ICAgIC8vIChhbmdsZSBpcyBpbiBkZWdyZWVzKQogICAgICAgIHZvaWQgbXVsdFJpZ2h0KGluIENhbnZhc01hdHJpeCBtYXRyaXgpOyAgICAgICAgICAgICAvLyBtdWx0aXBseSB0aGUgbWF0cml4IGJ5IHRoZSBwYXNzZWQgbWF0cml4IG9uIHRoZSByaWdodAogICAgICAgIHZvaWQgbXVsdExlZnQoaW4gQ2FudmFzTWF0cml4IG1hdHJpeCk7ICAgICAgICAgICAgICAvLyBtdWx0aXBseSB0aGUgbWF0cml4IGJ5IHRoZSBwYXNzZWQgbWF0cml4IG9uIHRoZSBsZWZ0CiAgICAgICAgdm9pZCBvcnRobyhpbiBmbG9hdCBsZWZ0LCBpbiBmbG9hdCByaWdodCwgICAgICAgICAgIC8vIG11bHRpcGx5IHRoZSBtYXRyaXggYnkgdGhlIHBhc3NlZCBvcnRobyB2YWx1ZXMgb24gdGhlIHJpZ2h0CiAgICAgICAgICAgICAgICAgICBpbiBmbG9hdCBib3R0b20sIGluIGZsb2F0IHRvcCwKICAgICAgICAgICAgICAgICAgIGluIGZsb2F0IG5lYXIsIGluIGZsb2F0IGZhcik7CiAgICAgICAgdm9pZCBmcnVzdHVtKGluIGZsb2F0IGxlZnQsIGluIGZsb2F0IHJpZ2h0LCAgICAgICAgIC8vIG11bHRpcGx5IHRoZSBtYXRyaXggYnkgdGhlIHBhc3NlZCBmcnVzdHVtIHZhbHVlcyBvbiB0aGUgcmlnaHQKICAgICAgICAgICAgICAgICAgICAgaW4gZmxvYXQgYm90dG9tLCBpbiBmbG9hdCB0b3AsCiAgICAgICAgICAgICAgICAgICAgIGluIGZsb2F0IG5lYXIsIGluIGZsb2F0IGZhcik7CiAgICAgICAgdm9pZCBwZXJzcGVjdGl2ZShpbiBmbG9hdCBmb3Z5LCBpbiBmbG9hdCBhc3BlY3QsICAgIC8vIG11bHRpcGx5IHRoZSBtYXRyaXggYnkgdGhlIHBhc3NlZCBwZXJzcGVjdGl2ZSB2YWx1ZXMgb24gdGhlIHJpZ2h0CiAgICAgICAgICAgICAgICAgICAgICAgICBpbiBmbG9hdCB6TmVhciwgaW4gZmxvYXQgekZhcik7CiAgICAgICAgdm9pZCBsb29rYXQoaW4gZmxvYXQgZXlleCwgaW4gZmxvYXQgZXlleSwgaW4gZmxvYXQgZXlleiwgICAgLy8gbXVsdGlwbHkgdGhlIG1hdHJpeCBieSB0aGUgcGFzc2VkIGxvb2thdAogICAgICAgICAgICAgICAgICAgIGluIGZsb2F0IGN0cngsIGluIGZsb2F0IGN0cnksIGluIGZsb2F0IGN0cnosICAgIC8vIHZhbHVlcyBvbiB0aGUgcmlnaHQKICAgICAgICAgICAgICAgICAgICBpbiBmbG9hdCB1cHgsIGluIGZsb2F0IHVweSwgaW4gZmxvYXQgdXB6KTsKICAgIH0KKi8KCkNhbnZhc01hdHJpeDQgPSBmdW5jdGlvbihtKQp7CiAgICBpZiAodHlwZW9mIG0gPT0gJ29iamVjdCcpIHsKICAgICAgICBpZiAoImxlbmd0aCIgaW4gbSAmJiBtLmxlbmd0aCA+PSAxNikgewogICAgICAgICAgICB0aGlzLmxvYWQobVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSwgbVs2XSwgbVs3XSwgbVs4XSwgbVs5XSwgbVsxMF0sIG1bMTFdLCBtWzEyXSwgbVsxM10sIG1bMTRdLCBtWzE1XSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobSBpbnN0YW5jZW9mIENhbnZhc01hdHJpeDQpIHsKICAgICAgICAgICAgdGhpcy5sb2FkKG0pOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgdGhpcy5tYWtlSWRlbnRpdHkoKTsKfTsKCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbigpCnsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEgJiYgdHlwZW9mIGFyZ3VtZW50c1swXSA9PSAnb2JqZWN0JykgewogICAgICAgIHZhciBtYXRyaXggPSBhcmd1bWVudHNbMF07CgogICAgICAgIGlmICgibGVuZ3RoIiBpbiBtYXRyaXggJiYgbWF0cml4Lmxlbmd0aCA9PSAxNikgewogICAgICAgICAgICB0aGlzLm0xMSA9IG1hdHJpeFswXTsKICAgICAgICAgICAgdGhpcy5tMTIgPSBtYXRyaXhbMV07CiAgICAgICAgICAgIHRoaXMubTEzID0gbWF0cml4WzJdOwogICAgICAgICAgICB0aGlzLm0xNCA9IG1hdHJpeFszXTsKCiAgICAgICAgICAgIHRoaXMubTIxID0gbWF0cml4WzRdOwogICAgICAgICAgICB0aGlzLm0yMiA9IG1hdHJpeFs1XTsKICAgICAgICAgICAgdGhpcy5tMjMgPSBtYXRyaXhbNl07CiAgICAgICAgICAgIHRoaXMubTI0ID0gbWF0cml4WzddOwoKICAgICAgICAgICAgdGhpcy5tMzEgPSBtYXRyaXhbOF07CiAgICAgICAgICAgIHRoaXMubTMyID0gbWF0cml4WzldOwogICAgICAgICAgICB0aGlzLm0zMyA9IG1hdHJpeFsxMF07CiAgICAgICAgICAgIHRoaXMubTM0ID0gbWF0cml4WzExXTsKCiAgICAgICAgICAgIHRoaXMubTQxID0gbWF0cml4WzEyXTsKICAgICAgICAgICAgdGhpcy5tNDIgPSBtYXRyaXhbMTNdOwogICAgICAgICAgICB0aGlzLm00MyA9IG1hdHJpeFsxNF07CiAgICAgICAgICAgIHRoaXMubTQ0ID0gbWF0cml4WzE1XTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIENhbnZhc01hdHJpeDQpIHsKCiAgICAgICAgICAgIHRoaXMubTExID0gbWF0cml4Lm0xMTsKICAgICAgICAgICAgdGhpcy5tMTIgPSBtYXRyaXgubTEyOwogICAgICAgICAgICB0aGlzLm0xMyA9IG1hdHJpeC5tMTM7CiAgICAgICAgICAgIHRoaXMubTE0ID0gbWF0cml4Lm0xNDsKCiAgICAgICAgICAgIHRoaXMubTIxID0gbWF0cml4Lm0yMTsKICAgICAgICAgICAgdGhpcy5tMjIgPSBtYXRyaXgubTIyOwogICAgICAgICAgICB0aGlzLm0yMyA9IG1hdHJpeC5tMjM7CiAgICAgICAgICAgIHRoaXMubTI0ID0gbWF0cml4Lm0yNDsKCiAgICAgICAgICAgIHRoaXMubTMxID0gbWF0cml4Lm0zMTsKICAgICAgICAgICAgdGhpcy5tMzIgPSBtYXRyaXgubTMyOwogICAgICAgICAgICB0aGlzLm0zMyA9IG1hdHJpeC5tMzM7CiAgICAgICAgICAgIHRoaXMubTM0ID0gbWF0cml4Lm0zNDsKCiAgICAgICAgICAgIHRoaXMubTQxID0gbWF0cml4Lm00MTsKICAgICAgICAgICAgdGhpcy5tNDIgPSBtYXRyaXgubTQyOwogICAgICAgICAgICB0aGlzLm00MyA9IG1hdHJpeC5tNDM7CiAgICAgICAgICAgIHRoaXMubTQ0ID0gbWF0cml4Lm00NDsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KCiAgICB0aGlzLm1ha2VJZGVudGl0eSgpOwp9OwoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUuZ2V0QXNBcnJheSA9IGZ1bmN0aW9uKCkKewogICAgcmV0dXJuIFsKICAgICAgICB0aGlzLm0xMSwgdGhpcy5tMTIsIHRoaXMubTEzLCB0aGlzLm0xNCwKICAgICAgICB0aGlzLm0yMSwgdGhpcy5tMjIsIHRoaXMubTIzLCB0aGlzLm0yNCwKICAgICAgICB0aGlzLm0zMSwgdGhpcy5tMzIsIHRoaXMubTMzLCB0aGlzLm0zNCwKICAgICAgICB0aGlzLm00MSwgdGhpcy5tNDIsIHRoaXMubTQzLCB0aGlzLm00NAogICAgXTsKfTsKCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLmdldEFzV2ViR0xGbG9hdEFycmF5ID0gZnVuY3Rpb24oKQp7CiAgICByZXR1cm4gbmV3IFdlYkdMRmxvYXRBcnJheSh0aGlzLmdldEFzQXJyYXkoKSk7Cn07CgpDYW52YXNNYXRyaXg0LnByb3RvdHlwZS5tYWtlSWRlbnRpdHkgPSBmdW5jdGlvbigpCnsKICAgIHRoaXMubTExID0gMTsKICAgIHRoaXMubTEyID0gMDsKICAgIHRoaXMubTEzID0gMDsKICAgIHRoaXMubTE0ID0gMDsKCiAgICB0aGlzLm0yMSA9IDA7CiAgICB0aGlzLm0yMiA9IDE7CiAgICB0aGlzLm0yMyA9IDA7CiAgICB0aGlzLm0yNCA9IDA7CgogICAgdGhpcy5tMzEgPSAwOwogICAgdGhpcy5tMzIgPSAwOwogICAgdGhpcy5tMzMgPSAxOwogICAgdGhpcy5tMzQgPSAwOwoKICAgIHRoaXMubTQxID0gMDsKICAgIHRoaXMubTQyID0gMDsKICAgIHRoaXMubTQzID0gMDsKICAgIHRoaXMubTQ0ID0gMTsKfTsKCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLnRyYW5zcG9zZSA9IGZ1bmN0aW9uKCkKewogICAgdmFyIHRtcCA9IHRoaXMubTEyOwogICAgdGhpcy5tMTIgPSB0aGlzLm0yMTsKICAgIHRoaXMubTIxID0gdG1wOwoKICAgIHRtcCA9IHRoaXMubTEzOwogICAgdGhpcy5tMTMgPSB0aGlzLm0zMTsKICAgIHRoaXMubTMxID0gdG1wOwoKICAgIHRtcCA9IHRoaXMubTE0OwogICAgdGhpcy5tMTQgPSB0aGlzLm00MTsKICAgIHRoaXMubTQxID0gdG1wOwoKICAgIHRtcCA9IHRoaXMubTIzOwogICAgdGhpcy5tMjMgPSB0aGlzLm0zMjsKICAgIHRoaXMubTMyID0gdG1wOwoKICAgIHRtcCA9IHRoaXMubTI0OwogICAgdGhpcy5tMjQgPSB0aGlzLm00MjsKICAgIHRoaXMubTQyID0gdG1wOwoKICAgIHRtcCA9IHRoaXMubTM0OwogICAgdGhpcy5tMzQgPSB0aGlzLm00MzsKICAgIHRoaXMubTQzID0gdG1wOwp9OwoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUuaW52ZXJ0ID0gZnVuY3Rpb24oKQp7CiAgICAvLyBDYWxjdWxhdGUgdGhlIDR4NCBkZXRlcm1pbmFudAogICAgLy8gSWYgdGhlIGRldGVybWluYW50IGlzIHplcm8sCiAgICAvLyB0aGVuIHRoZSBpbnZlcnNlIG1hdHJpeCBpcyBub3QgdW5pcXVlLgogICAgdmFyIGRldCA9IHRoaXMuX2RldGVybWluYW50NHg0KCk7CgogICAgaWYgKE1hdGguYWJzKGRldCkgPCAxZS04KQogICAgICAgIHJldHVybiBudWxsOwoKICAgIHRoaXMuX21ha2VBZGpvaW50KCk7CgogICAgLy8gU2NhbGUgdGhlIGFkam9pbnQgbWF0cml4IHRvIGdldCB0aGUgaW52ZXJzZQogICAgdGhpcy5tMTEgLz0gZGV0OwogICAgdGhpcy5tMTIgLz0gZGV0OwogICAgdGhpcy5tMTMgLz0gZGV0OwogICAgdGhpcy5tMTQgLz0gZGV0OwoKICAgIHRoaXMubTIxIC89IGRldDsKICAgIHRoaXMubTIyIC89IGRldDsKICAgIHRoaXMubTIzIC89IGRldDsKICAgIHRoaXMubTI0IC89IGRldDsKCiAgICB0aGlzLm0zMSAvPSBkZXQ7CiAgICB0aGlzLm0zMiAvPSBkZXQ7CiAgICB0aGlzLm0zMyAvPSBkZXQ7CiAgICB0aGlzLm0zNCAvPSBkZXQ7CgogICAgdGhpcy5tNDEgLz0gZGV0OwogICAgdGhpcy5tNDIgLz0gZGV0OwogICAgdGhpcy5tNDMgLz0gZGV0OwogICAgdGhpcy5tNDQgLz0gZGV0Owp9OwoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24oeCx5LHopCnsKICAgIGlmICh4ID09PSB1bmRlZmluZWQpCiAgICAgICAgeCA9IDA7CiAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKQogICAgICAgIHkgPSAwOwogICAgaWYgKHogPT09IHVuZGVmaW5lZCkKICAgICAgICB6ID0gMDsKCiAgICB2YXIgbWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgIG1hdHJpeC5tNDEgPSB4OwogICAgbWF0cml4Lm00MiA9IHk7CiAgICBtYXRyaXgubTQzID0gejsKCiAgICB0aGlzLm11bHRSaWdodChtYXRyaXgpOwp9OwoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbih4LHkseikKewogICAgaWYgKHggPT09IHVuZGVmaW5lZCkKICAgICAgICB4ID0gMTsKICAgIGlmICh6ID09PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHkgPSB4OwogICAgICAgICAgICB6ID0geDsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgICAgICB6ID0gMTsKICAgIH0KICAgIGVsc2UgaWYgKHkgPT09IHVuZGVmaW5lZCkKICAgICAgICB5ID0geDsKCiAgICB2YXIgbWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgIG1hdHJpeC5tMTEgPSB4OwogICAgbWF0cml4Lm0yMiA9IHk7CiAgICBtYXRyaXgubTMzID0gejsKCiAgICB0aGlzLm11bHRSaWdodChtYXRyaXgpOwp9OwoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24oYW5nbGUseCx5LHopCnsKICAgIC8vIGFuZ2xlcyBhcmUgaW4gZGVncmVlcy4gU3dpdGNoIHRvIHJhZGlhbnMKICAgIGFuZ2xlID0gYW5nbGUgLyAxODAgKiBNYXRoLlBJOwoKICAgIGFuZ2xlIC89IDI7CiAgICB2YXIgc2luQSA9IE1hdGguc2luKGFuZ2xlKTsKICAgIHZhciBjb3NBID0gTWF0aC5jb3MoYW5nbGUpOwogICAgdmFyIHNpbkEyID0gc2luQSAqIHNpbkE7CgogICAgLy8gbm9ybWFsaXplCiAgICB2YXIgbGVuZ3RoID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7CiAgICBpZiAobGVuZ3RoID09PSAwKSB7CiAgICAgICAgLy8gYmFkIHZlY3RvciwganVzdCB1c2Ugc29tZXRoaW5nIHJlYXNvbmFibGUKICAgICAgICB4ID0gMDsKICAgICAgICB5ID0gMDsKICAgICAgICB6ID0gMTsKICAgIH0gZWxzZSBpZiAobGVuZ3RoICE9IDEpIHsKICAgICAgICB4IC89IGxlbmd0aDsKICAgICAgICB5IC89IGxlbmd0aDsKICAgICAgICB6IC89IGxlbmd0aDsKICAgIH0KCiAgICB2YXIgbWF0ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKCiAgICAvLyBvcHRpbWl6ZSBjYXNlIHdoZXJlIGF4aXMgaXMgYWxvbmcgbWFqb3IgYXhpcwogICAgaWYgKHggPT0gMSAmJiB5ID09PSAwICYmIHogPT09IDApIHsKICAgICAgICBtYXQubTExID0gMTsKICAgICAgICBtYXQubTEyID0gMDsKICAgICAgICBtYXQubTEzID0gMDsKICAgICAgICBtYXQubTIxID0gMDsKICAgICAgICBtYXQubTIyID0gMSAtIDIgKiBzaW5BMjsKICAgICAgICBtYXQubTIzID0gMiAqIHNpbkEgKiBjb3NBOwogICAgICAgIG1hdC5tMzEgPSAwOwogICAgICAgIG1hdC5tMzIgPSAtMiAqIHNpbkEgKiBjb3NBOwogICAgICAgIG1hdC5tMzMgPSAxIC0gMiAqIHNpbkEyOwogICAgICAgIG1hdC5tMTQgPSBtYXQubTI0ID0gbWF0Lm0zNCA9IDA7CiAgICAgICAgbWF0Lm00MSA9IG1hdC5tNDIgPSBtYXQubTQzID0gMDsKICAgICAgICBtYXQubTQ0ID0gMTsKICAgIH0gZWxzZSBpZiAoeCA9PT0gMCAmJiB5ID09IDEgJiYgeiA9PT0gMCkgewogICAgICAgIG1hdC5tMTEgPSAxIC0gMiAqIHNpbkEyOwogICAgICAgIG1hdC5tMTIgPSAwOwogICAgICAgIG1hdC5tMTMgPSAtMiAqIHNpbkEgKiBjb3NBOwogICAgICAgIG1hdC5tMjEgPSAwOwogICAgICAgIG1hdC5tMjIgPSAxOwogICAgICAgIG1hdC5tMjMgPSAwOwogICAgICAgIG1hdC5tMzEgPSAyICogc2luQSAqIGNvc0E7CiAgICAgICAgbWF0Lm0zMiA9IDA7CiAgICAgICAgbWF0Lm0zMyA9IDEgLSAyICogc2luQTI7CiAgICAgICAgbWF0Lm0xNCA9IG1hdC5tMjQgPSBtYXQubTM0ID0gMDsKICAgICAgICBtYXQubTQxID0gbWF0Lm00MiA9IG1hdC5tNDMgPSAwOwogICAgICAgIG1hdC5tNDQgPSAxOwogICAgfSBlbHNlIGlmICh4ID09PSAwICYmIHkgPT09IDAgJiYgeiA9PSAxKSB7CiAgICAgICAgbWF0Lm0xMSA9IDEgLSAyICogc2luQTI7CiAgICAgICAgbWF0Lm0xMiA9IDIgKiBzaW5BICogY29zQTsKICAgICAgICBtYXQubTEzID0gMDsKICAgICAgICBtYXQubTIxID0gLTIgKiBzaW5BICogY29zQTsKICAgICAgICBtYXQubTIyID0gMSAtIDIgKiBzaW5BMjsKICAgICAgICBtYXQubTIzID0gMDsKICAgICAgICBtYXQubTMxID0gMDsKICAgICAgICBtYXQubTMyID0gMDsKICAgICAgICBtYXQubTMzID0gMTsKICAgICAgICBtYXQubTE0ID0gbWF0Lm0yNCA9IG1hdC5tMzQgPSAwOwogICAgICAgIG1hdC5tNDEgPSBtYXQubTQyID0gbWF0Lm00MyA9IDA7CiAgICAgICAgbWF0Lm00NCA9IDE7CiAgICB9IGVsc2UgewogICAgICAgIHZhciB4MiA9IHgqeDsKICAgICAgICB2YXIgeTIgPSB5Knk7CiAgICAgICAgdmFyIHoyID0geip6OwoKICAgICAgICBtYXQubTExID0gMSAtIDIgKiAoeTIgKyB6MikgKiBzaW5BMjsKICAgICAgICBtYXQubTEyID0gMiAqICh4ICogeSAqIHNpbkEyICsgeiAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTEzID0gMiAqICh4ICogeiAqIHNpbkEyIC0geSAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTIxID0gMiAqICh5ICogeCAqIHNpbkEyIC0geiAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTIyID0gMSAtIDIgKiAoejIgKyB4MikgKiBzaW5BMjsKICAgICAgICBtYXQubTIzID0gMiAqICh5ICogeiAqIHNpbkEyICsgeCAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTMxID0gMiAqICh6ICogeCAqIHNpbkEyICsgeSAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTMyID0gMiAqICh6ICogeSAqIHNpbkEyIC0geCAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTMzID0gMSAtIDIgKiAoeDIgKyB5MikgKiBzaW5BMjsKICAgICAgICBtYXQubTE0ID0gbWF0Lm0yNCA9IG1hdC5tMzQgPSAwOwogICAgICAgIG1hdC5tNDEgPSBtYXQubTQyID0gbWF0Lm00MyA9IDA7CiAgICAgICAgbWF0Lm00NCA9IDE7CiAgICB9CiAgICB0aGlzLm11bHRSaWdodChtYXQpOwp9OwoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUubXVsdFJpZ2h0ID0gZnVuY3Rpb24obWF0KQp7CiAgICB2YXIgbTExID0gKHRoaXMubTExICogbWF0Lm0xMSArIHRoaXMubTEyICogbWF0Lm0yMSArCiAgICAgICAgICAgICAgIHRoaXMubTEzICogbWF0Lm0zMSArIHRoaXMubTE0ICogbWF0Lm00MSk7CiAgICB2YXIgbTEyID0gKHRoaXMubTExICogbWF0Lm0xMiArIHRoaXMubTEyICogbWF0Lm0yMiArCiAgICAgICAgICAgICAgIHRoaXMubTEzICogbWF0Lm0zMiArIHRoaXMubTE0ICogbWF0Lm00Mik7CiAgICB2YXIgbTEzID0gKHRoaXMubTExICogbWF0Lm0xMyArIHRoaXMubTEyICogbWF0Lm0yMyArCiAgICAgICAgICAgICAgIHRoaXMubTEzICogbWF0Lm0zMyArIHRoaXMubTE0ICogbWF0Lm00Myk7CiAgICB2YXIgbTE0ID0gKHRoaXMubTExICogbWF0Lm0xNCArIHRoaXMubTEyICogbWF0Lm0yNCArCiAgICAgICAgICAgICAgIHRoaXMubTEzICogbWF0Lm0zNCArIHRoaXMubTE0ICogbWF0Lm00NCk7CgogICAgdmFyIG0yMSA9ICh0aGlzLm0yMSAqIG1hdC5tMTEgKyB0aGlzLm0yMiAqIG1hdC5tMjEgKwogICAgICAgICAgICAgICB0aGlzLm0yMyAqIG1hdC5tMzEgKyB0aGlzLm0yNCAqIG1hdC5tNDEpOwogICAgdmFyIG0yMiA9ICh0aGlzLm0yMSAqIG1hdC5tMTIgKyB0aGlzLm0yMiAqIG1hdC5tMjIgKwogICAgICAgICAgICAgICB0aGlzLm0yMyAqIG1hdC5tMzIgKyB0aGlzLm0yNCAqIG1hdC5tNDIpOwogICAgdmFyIG0yMyA9ICh0aGlzLm0yMSAqIG1hdC5tMTMgKyB0aGlzLm0yMiAqIG1hdC5tMjMgKwogICAgICAgICAgICAgICB0aGlzLm0yMyAqIG1hdC5tMzMgKyB0aGlzLm0yNCAqIG1hdC5tNDMpOwogICAgdmFyIG0yNCA9ICh0aGlzLm0yMSAqIG1hdC5tMTQgKyB0aGlzLm0yMiAqIG1hdC5tMjQgKwogICAgICAgICAgICAgICB0aGlzLm0yMyAqIG1hdC5tMzQgKyB0aGlzLm0yNCAqIG1hdC5tNDQpOwoKICAgIHZhciBtMzEgPSAodGhpcy5tMzEgKiBtYXQubTExICsgdGhpcy5tMzIgKiBtYXQubTIxICsKICAgICAgICAgICAgICAgdGhpcy5tMzMgKiBtYXQubTMxICsgdGhpcy5tMzQgKiBtYXQubTQxKTsKICAgIHZhciBtMzIgPSAodGhpcy5tMzEgKiBtYXQubTEyICsgdGhpcy5tMzIgKiBtYXQubTIyICsKICAgICAgICAgICAgICAgdGhpcy5tMzMgKiBtYXQubTMyICsgdGhpcy5tMzQgKiBtYXQubTQyKTsKICAgIHZhciBtMzMgPSAodGhpcy5tMzEgKiBtYXQubTEzICsgdGhpcy5tMzIgKiBtYXQubTIzICsKICAgICAgICAgICAgICAgdGhpcy5tMzMgKiBtYXQubTMzICsgdGhpcy5tMzQgKiBtYXQubTQzKTsKICAgIHZhciBtMzQgPSAodGhpcy5tMzEgKiBtYXQubTE0ICsgdGhpcy5tMzIgKiBtYXQubTI0ICsKICAgICAgICAgICAgICAgdGhpcy5tMzMgKiBtYXQubTM0ICsgdGhpcy5tMzQgKiBtYXQubTQ0KTsKCiAgICB2YXIgbTQxID0gKHRoaXMubTQxICogbWF0Lm0xMSArIHRoaXMubTQyICogbWF0Lm0yMSArCiAgICAgICAgICAgICAgIHRoaXMubTQzICogbWF0Lm0zMSArIHRoaXMubTQ0ICogbWF0Lm00MSk7CiAgICB2YXIgbTQyID0gKHRoaXMubTQxICogbWF0Lm0xMiArIHRoaXMubTQyICogbWF0Lm0yMiArCiAgICAgICAgICAgICAgIHRoaXMubTQzICogbWF0Lm0zMiArIHRoaXMubTQ0ICogbWF0Lm00Mik7CiAgICB2YXIgbTQzID0gKHRoaXMubTQxICogbWF0Lm0xMyArIHRoaXMubTQyICogbWF0Lm0yMyArCiAgICAgICAgICAgICAgIHRoaXMubTQzICogbWF0Lm0zMyArIHRoaXMubTQ0ICogbWF0Lm00Myk7CiAgICB2YXIgbTQ0ID0gKHRoaXMubTQxICogbWF0Lm0xNCArIHRoaXMubTQyICogbWF0Lm0yNCArCiAgICAgICAgICAgICAgIHRoaXMubTQzICogbWF0Lm0zNCArIHRoaXMubTQ0ICogbWF0Lm00NCk7CgogICAgdGhpcy5tMTEgPSBtMTE7CiAgICB0aGlzLm0xMiA9IG0xMjsKICAgIHRoaXMubTEzID0gbTEzOwogICAgdGhpcy5tMTQgPSBtMTQ7CgogICAgdGhpcy5tMjEgPSBtMjE7CiAgICB0aGlzLm0yMiA9IG0yMjsKICAgIHRoaXMubTIzID0gbTIzOwogICAgdGhpcy5tMjQgPSBtMjQ7CgogICAgdGhpcy5tMzEgPSBtMzE7CiAgICB0aGlzLm0zMiA9IG0zMjsKICAgIHRoaXMubTMzID0gbTMzOwogICAgdGhpcy5tMzQgPSBtMzQ7CgogICAgdGhpcy5tNDEgPSBtNDE7CiAgICB0aGlzLm00MiA9IG00MjsKICAgIHRoaXMubTQzID0gbTQzOwogICAgdGhpcy5tNDQgPSBtNDQ7Cn07CgpDYW52YXNNYXRyaXg0LnByb3RvdHlwZS5tdWx0TGVmdCA9IGZ1bmN0aW9uKG1hdCkKewogICAgdmFyIG0xMSA9IChtYXQubTExICogdGhpcy5tMTEgKyBtYXQubTEyICogdGhpcy5tMjEgKwogICAgICAgICAgICAgICBtYXQubTEzICogdGhpcy5tMzEgKyBtYXQubTE0ICogdGhpcy5tNDEpOwogICAgdmFyIG0xMiA9IChtYXQubTExICogdGhpcy5tMTIgKyBtYXQubTEyICogdGhpcy5tMjIgKwogICAgICAgICAgICAgICBtYXQubTEzICogdGhpcy5tMzIgKyBtYXQubTE0ICogdGhpcy5tNDIpOwogICAgdmFyIG0xMyA9IChtYXQubTExICogdGhpcy5tMTMgKyBtYXQubTEyICogdGhpcy5tMjMgKwogICAgICAgICAgICAgICBtYXQubTEzICogdGhpcy5tMzMgKyBtYXQubTE0ICogdGhpcy5tNDMpOwogICAgdmFyIG0xNCA9IChtYXQubTExICogdGhpcy5tMTQgKyBtYXQubTEyICogdGhpcy5tMjQgKwogICAgICAgICAgICAgICBtYXQubTEzICogdGhpcy5tMzQgKyBtYXQubTE0ICogdGhpcy5tNDQpOwoKICAgIHZhciBtMjEgPSAobWF0Lm0yMSAqIHRoaXMubTExICsgbWF0Lm0yMiAqIHRoaXMubTIxICsKICAgICAgICAgICAgICAgbWF0Lm0yMyAqIHRoaXMubTMxICsgbWF0Lm0yNCAqIHRoaXMubTQxKTsKICAgIHZhciBtMjIgPSAobWF0Lm0yMSAqIHRoaXMubTEyICsgbWF0Lm0yMiAqIHRoaXMubTIyICsKICAgICAgICAgICAgICAgbWF0Lm0yMyAqIHRoaXMubTMyICsgbWF0Lm0yNCAqIHRoaXMubTQyKTsKICAgIHZhciBtMjMgPSAobWF0Lm0yMSAqIHRoaXMubTEzICsgbWF0Lm0yMiAqIHRoaXMubTIzICsKICAgICAgICAgICAgICAgbWF0Lm0yMyAqIHRoaXMubTMzICsgbWF0Lm0yNCAqIHRoaXMubTQzKTsKICAgIHZhciBtMjQgPSAobWF0Lm0yMSAqIHRoaXMubTE0ICsgbWF0Lm0yMiAqIHRoaXMubTI0ICsKICAgICAgICAgICAgICAgbWF0Lm0yMyAqIHRoaXMubTM0ICsgbWF0Lm0yNCAqIHRoaXMubTQ0KTsKCiAgICB2YXIgbTMxID0gKG1hdC5tMzEgKiB0aGlzLm0xMSArIG1hdC5tMzIgKiB0aGlzLm0yMSArCiAgICAgICAgICAgICAgIG1hdC5tMzMgKiB0aGlzLm0zMSArIG1hdC5tMzQgKiB0aGlzLm00MSk7CiAgICB2YXIgbTMyID0gKG1hdC5tMzEgKiB0aGlzLm0xMiArIG1hdC5tMzIgKiB0aGlzLm0yMiArCiAgICAgICAgICAgICAgIG1hdC5tMzMgKiB0aGlzLm0zMiArIG1hdC5tMzQgKiB0aGlzLm00Mik7CiAgICB2YXIgbTMzID0gKG1hdC5tMzEgKiB0aGlzLm0xMyArIG1hdC5tMzIgKiB0aGlzLm0yMyArCiAgICAgICAgICAgICAgIG1hdC5tMzMgKiB0aGlzLm0zMyArIG1hdC5tMzQgKiB0aGlzLm00Myk7CiAgICB2YXIgbTM0ID0gKG1hdC5tMzEgKiB0aGlzLm0xNCArIG1hdC5tMzIgKiB0aGlzLm0yNCArCiAgICAgICAgICAgICAgIG1hdC5tMzMgKiB0aGlzLm0zNCArIG1hdC5tMzQgKiB0aGlzLm00NCk7CgogICAgdmFyIG00MSA9IChtYXQubTQxICogdGhpcy5tMTEgKyBtYXQubTQyICogdGhpcy5tMjEgKwogICAgICAgICAgICAgICBtYXQubTQzICogdGhpcy5tMzEgKyBtYXQubTQ0ICogdGhpcy5tNDEpOwogICAgdmFyIG00MiA9IChtYXQubTQxICogdGhpcy5tMTIgKyBtYXQubTQyICogdGhpcy5tMjIgKwogICAgICAgICAgICAgICBtYXQubTQzICogdGhpcy5tMzIgKyBtYXQubTQ0ICogdGhpcy5tNDIpOwogICAgdmFyIG00MyA9IChtYXQubTQxICogdGhpcy5tMTMgKyBtYXQubTQyICogdGhpcy5tMjMgKwogICAgICAgICAgICAgICBtYXQubTQzICogdGhpcy5tMzMgKyBtYXQubTQ0ICogdGhpcy5tNDMpOwogICAgdmFyIG00NCA9IChtYXQubTQxICogdGhpcy5tMTQgKyBtYXQubTQyICogdGhpcy5tMjQgKwogICAgICAgICAgICAgICBtYXQubTQzICogdGhpcy5tMzQgKyBtYXQubTQ0ICogdGhpcy5tNDQpOwoKICAgIHRoaXMubTExID0gbTExOwogICAgdGhpcy5tMTIgPSBtMTI7CiAgICB0aGlzLm0xMyA9IG0xMzsKICAgIHRoaXMubTE0ID0gbTE0OwoKICAgIHRoaXMubTIxID0gbTIxOwogICAgdGhpcy5tMjIgPSBtMjI7CiAgICB0aGlzLm0yMyA9IG0yMzsKICAgIHRoaXMubTI0ID0gbTI0OwoKICAgIHRoaXMubTMxID0gbTMxOwogICAgdGhpcy5tMzIgPSBtMzI7CiAgICB0aGlzLm0zMyA9IG0zMzsKICAgIHRoaXMubTM0ID0gbTM0OwoKICAgIHRoaXMubTQxID0gbTQxOwogICAgdGhpcy5tNDIgPSBtNDI7CiAgICB0aGlzLm00MyA9IG00MzsKICAgIHRoaXMubTQ0ID0gbTQ0Owp9OwoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUub3J0aG8gPSBmdW5jdGlvbihsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikKewogICAgdmFyIHR4ID0gKGxlZnQgKyByaWdodCkgLyAobGVmdCAtIHJpZ2h0KTsKICAgIHZhciB0eSA9ICh0b3AgKyBib3R0b20pIC8gKGJvdHRvbSAtIHRvcCk7CiAgICB2YXIgdHogPSAoZmFyICsgbmVhcikgLyAobmVhciAtIGZhcik7CgogICAgdmFyIG1hdHJpeCA9IG5ldyBDYW52YXNNYXRyaXg0KCk7CiAgICBtYXRyaXgubTExID0gMiAvIChyaWdodCAtIGxlZnQpOwogICAgbWF0cml4Lm0xMiA9IDA7CiAgICBtYXRyaXgubTEzID0gMDsKICAgIG1hdHJpeC5tMTQgPSAwOwogICAgbWF0cml4Lm0yMSA9IDA7CiAgICBtYXRyaXgubTIyID0gMiAvICh0b3AgLSBib3R0b20pOwogICAgbWF0cml4Lm0yMyA9IDA7CiAgICBtYXRyaXgubTI0ID0gMDsKICAgIG1hdHJpeC5tMzEgPSAwOwogICAgbWF0cml4Lm0zMiA9IDA7CiAgICBtYXRyaXgubTMzID0gLTIgLyAoZmFyIC0gbmVhcik7CiAgICBtYXRyaXgubTM0ID0gMDsKICAgIG1hdHJpeC5tNDEgPSB0eDsKICAgIG1hdHJpeC5tNDIgPSB0eTsKICAgIG1hdHJpeC5tNDMgPSB0ejsKICAgIG1hdHJpeC5tNDQgPSAxOwoKICAgIHRoaXMubXVsdFJpZ2h0KG1hdHJpeCk7Cn07CgpDYW52YXNNYXRyaXg0LnByb3RvdHlwZS5mcnVzdHVtID0gZnVuY3Rpb24obGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpCnsKICAgIHZhciBtYXRyaXggPSBuZXcgQ2FudmFzTWF0cml4NCgpOwogICAgdmFyIEEgPSAocmlnaHQgKyBsZWZ0KSAvIChyaWdodCAtIGxlZnQpOwogICAgdmFyIEIgPSAodG9wICsgYm90dG9tKSAvICh0b3AgLSBib3R0b20pOwogICAgdmFyIEMgPSAtKGZhciArIG5lYXIpIC8gKGZhciAtIG5lYXIpOwogICAgdmFyIEQgPSAtKDIgKiBmYXIgKiBuZWFyKSAvIChmYXIgLSBuZWFyKTsKCiAgICBtYXRyaXgubTExID0gKDIgKiBuZWFyKSAvIChyaWdodCAtIGxlZnQpOwogICAgbWF0cml4Lm0xMiA9IDA7CiAgICBtYXRyaXgubTEzID0gMDsKICAgIG1hdHJpeC5tMTQgPSAwOwoKICAgIG1hdHJpeC5tMjEgPSAwOwogICAgbWF0cml4Lm0yMiA9IDIgKiBuZWFyIC8gKHRvcCAtIGJvdHRvbSk7CiAgICBtYXRyaXgubTIzID0gMDsKICAgIG1hdHJpeC5tMjQgPSAwOwoKICAgIG1hdHJpeC5tMzEgPSBBOwogICAgbWF0cml4Lm0zMiA9IEI7CiAgICBtYXRyaXgubTMzID0gQzsKICAgIG1hdHJpeC5tMzQgPSAtMTsKCiAgICBtYXRyaXgubTQxID0gMDsKICAgIG1hdHJpeC5tNDIgPSAwOwogICAgbWF0cml4Lm00MyA9IEQ7CiAgICBtYXRyaXgubTQ0ID0gMDsKCiAgICB0aGlzLm11bHRSaWdodChtYXRyaXgpOwp9OwoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUucGVyc3BlY3RpdmUgPSBmdW5jdGlvbihmb3Z5LCBhc3BlY3QsIHpOZWFyLCB6RmFyKQp7CiAgICB2YXIgdG9wID0gTWF0aC50YW4oZm92eSAqIE1hdGguUEkgLyAzNjApICogek5lYXI7CiAgICB2YXIgYm90dG9tID0gLXRvcDsKICAgIHZhciBsZWZ0ID0gYXNwZWN0ICogYm90dG9tOwogICAgdmFyIHJpZ2h0ID0gYXNwZWN0ICogdG9wOwogICAgdGhpcy5mcnVzdHVtKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgek5lYXIsIHpGYXIpOwp9OwoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUubG9va2F0ID0gZnVuY3Rpb24oZXlleCwgZXlleSwgZXlleiwgY2VudGVyeCwgY2VudGVyeSwgY2VudGVyeiwgdXB4LCB1cHksIHVweikKewogICAgdmFyIG1hdHJpeCA9IG5ldyBDYW52YXNNYXRyaXg0KCksCiAgICAgICAgeHgsIHh5LCB4ejsKCiAgICAvLyBNYWtlIHJvdGF0aW9uIG1hdHJpeAoKICAgIC8vIFogdmVjdG9yCiAgICB2YXIgenggPSBleWV4IC0gY2VudGVyeDsKICAgIHZhciB6eSA9IGV5ZXkgLSBjZW50ZXJ5OwogICAgdmFyIHp6ID0gZXlleiAtIGNlbnRlcno7CiAgICB2YXIgbWFnID0gTWF0aC5zcXJ0KHp4ICogenggKyB6eSAqIHp5ICsgenogKiB6eik7CiAgICBpZiAobWFnKSB7CiAgICAgICAgenggLz0gbWFnOwogICAgICAgIHp5IC89IG1hZzsKICAgICAgICB6eiAvPSBtYWc7CiAgICB9CgogICAgLy8gWSB2ZWN0b3IKICAgIHZhciB5eCA9IHVweDsKICAgIHZhciB5eSA9IHVweTsKICAgIHZhciB5eiA9IHVwejsKCiAgICAvLyBYIHZlY3RvciA9IFkgY3Jvc3MgWgogICAgeHggPSAgeXkgKiB6eiAtIHl6ICogenk7CiAgICB4eSA9IC15eCAqIHp6ICsgeXogKiB6eDsKICAgIHh6ID0gIHl4ICogenkgLSB5eSAqIHp4OwoKICAgIC8vIFJlY29tcHV0ZSBZID0gWiBjcm9zcyBYCiAgICB5eCA9IHp5ICogeHogLSB6eiAqIHh5OwogICAgeXkgPSAtenggKiB4eiArIHp6ICogeHg7CiAgICB5eCA9IHp4ICogeHkgLSB6eSAqIHh4OwoKICAgIC8vIGNyb3NzIHByb2R1Y3QgZ2l2ZXMgYXJlYSBvZiBwYXJhbGxlbG9ncmFtLCB3aGljaCBpcyA8IDEuMCBmb3IKICAgIC8vIG5vbi1wZXJwZW5kaWN1bGFyIHVuaXQtbGVuZ3RoIHZlY3RvcnM7IHNvIG5vcm1hbGl6ZSB4LCB5IGhlcmUKCiAgICBtYWcgPSBNYXRoLnNxcnQoeHggKiB4eCArIHh5ICogeHkgKyB4eiAqIHh6KTsKICAgIGlmIChtYWcpIHsKICAgICAgICB4eCAvPSBtYWc7CiAgICAgICAgeHkgLz0gbWFnOwogICAgICAgIHh6IC89IG1hZzsKICAgIH0KCiAgICBtYWcgPSBNYXRoLnNxcnQoeXggKiB5eCArIHl5ICogeXkgKyB5eiAqIHl6KTsKICAgIGlmIChtYWcpIHsKICAgICAgICB5eCAvPSBtYWc7CiAgICAgICAgeXkgLz0gbWFnOwogICAgICAgIHl6IC89IG1hZzsKICAgIH0KCiAgICBtYXRyaXgubTExID0geHg7CiAgICBtYXRyaXgubTEyID0geHk7CiAgICBtYXRyaXgubTEzID0geHo7CiAgICBtYXRyaXgubTE0ID0gMDsKCiAgICBtYXRyaXgubTIxID0geXg7CiAgICBtYXRyaXgubTIyID0geXk7CiAgICBtYXRyaXgubTIzID0geXo7CiAgICBtYXRyaXgubTI0ID0gMDsKCiAgICBtYXRyaXgubTMxID0geng7CiAgICBtYXRyaXgubTMyID0genk7CiAgICBtYXRyaXgubTMzID0geno7CiAgICBtYXRyaXgubTM0ID0gMDsKCiAgICBtYXRyaXgubTQxID0gMDsKICAgIG1hdHJpeC5tNDIgPSAwOwogICAgbWF0cml4Lm00MyA9IDA7CiAgICBtYXRyaXgubTQ0ID0gMTsKICAgIG1hdHJpeC50cmFuc2xhdGUoLWV5ZXgsIC1leWV5LCAtZXlleik7CgogICAgdGhpcy5tdWx0UmlnaHQobWF0cml4KTsKfTsKCi8vIFN1cHBvcnQgZnVuY3Rpb25zCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLl9kZXRlcm1pbmFudDJ4MiA9IGZ1bmN0aW9uKGEsIGIsIGMsIGQpCnsKICAgIHJldHVybiBhICogZCAtIGIgKiBjOwp9OwoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUuX2RldGVybWluYW50M3gzID0gZnVuY3Rpb24oYTEsIGEyLCBhMywgYjEsIGIyLCBiMywgYzEsIGMyLCBjMykKewogICAgcmV0dXJuIGExICogdGhpcy5fZGV0ZXJtaW5hbnQyeDIoYjIsIGIzLCBjMiwgYzMpIC0KICAgICAgICAgYjEgKiB0aGlzLl9kZXRlcm1pbmFudDJ4MihhMiwgYTMsIGMyLCBjMykgKwogICAgICAgICBjMSAqIHRoaXMuX2RldGVybWluYW50MngyKGEyLCBhMywgYjIsIGIzKTsKfTsKCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLl9kZXRlcm1pbmFudDR4NCA9IGZ1bmN0aW9uKCkKewogICAgdmFyIGExID0gdGhpcy5tMTE7CiAgICB2YXIgYjEgPSB0aGlzLm0xMjsKICAgIHZhciBjMSA9IHRoaXMubTEzOwogICAgdmFyIGQxID0gdGhpcy5tMTQ7CgogICAgdmFyIGEyID0gdGhpcy5tMjE7CiAgICB2YXIgYjIgPSB0aGlzLm0yMjsKICAgIHZhciBjMiA9IHRoaXMubTIzOwogICAgdmFyIGQyID0gdGhpcy5tMjQ7CgogICAgdmFyIGEzID0gdGhpcy5tMzE7CiAgICB2YXIgYjMgPSB0aGlzLm0zMjsKICAgIHZhciBjMyA9IHRoaXMubTMzOwogICAgdmFyIGQzID0gdGhpcy5tMzQ7CgogICAgdmFyIGE0ID0gdGhpcy5tNDE7CiAgICB2YXIgYjQgPSB0aGlzLm00MjsKICAgIHZhciBjNCA9IHRoaXMubTQzOwogICAgdmFyIGQ0ID0gdGhpcy5tNDQ7CgogICAgcmV0dXJuIGExICogdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYjIsIGIzLCBiNCwgYzIsIGMzLCBjNCwgZDIsIGQzLCBkNCkgLQogICAgICAgICBiMSAqIHRoaXMuX2RldGVybWluYW50M3gzKGEyLCBhMywgYTQsIGMyLCBjMywgYzQsIGQyLCBkMywgZDQpICsKICAgICAgICAgYzEgKiB0aGlzLl9kZXRlcm1pbmFudDN4MyhhMiwgYTMsIGE0LCBiMiwgYjMsIGI0LCBkMiwgZDMsIGQ0KSAtCiAgICAgICAgIGQxICogdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYTIsIGEzLCBhNCwgYjIsIGIzLCBiNCwgYzIsIGMzLCBjNCk7Cn07CgpDYW52YXNNYXRyaXg0LnByb3RvdHlwZS5fbWFrZUFkam9pbnQgPSBmdW5jdGlvbigpCnsKICAgIHZhciBhMSA9IHRoaXMubTExOwogICAgdmFyIGIxID0gdGhpcy5tMTI7CiAgICB2YXIgYzEgPSB0aGlzLm0xMzsKICAgIHZhciBkMSA9IHRoaXMubTE0OwoKICAgIHZhciBhMiA9IHRoaXMubTIxOwogICAgdmFyIGIyID0gdGhpcy5tMjI7CiAgICB2YXIgYzIgPSB0aGlzLm0yMzsKICAgIHZhciBkMiA9IHRoaXMubTI0OwoKICAgIHZhciBhMyA9IHRoaXMubTMxOwogICAgdmFyIGIzID0gdGhpcy5tMzI7CiAgICB2YXIgYzMgPSB0aGlzLm0zMzsKICAgIHZhciBkMyA9IHRoaXMubTM0OwoKICAgIHZhciBhNCA9IHRoaXMubTQxOwogICAgdmFyIGI0ID0gdGhpcy5tNDI7CiAgICB2YXIgYzQgPSB0aGlzLm00MzsKICAgIHZhciBkNCA9IHRoaXMubTQ0OwoKICAgIC8vIFJvdyBjb2x1bW4gbGFiZWxpbmcgcmV2ZXJzZWQgc2luY2Ugd2UgdHJhbnNwb3NlIHJvd3MgJiBjb2x1bW5zCiAgICB0aGlzLm0xMSAgPSAgIHRoaXMuX2RldGVybWluYW50M3gzKGIyLCBiMywgYjQsIGMyLCBjMywgYzQsIGQyLCBkMywgZDQpOwogICAgdGhpcy5tMjEgID0gLSB0aGlzLl9kZXRlcm1pbmFudDN4MyhhMiwgYTMsIGE0LCBjMiwgYzMsIGM0LCBkMiwgZDMsIGQ0KTsKICAgIHRoaXMubTMxICA9ICAgdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYTIsIGEzLCBhNCwgYjIsIGIzLCBiNCwgZDIsIGQzLCBkNCk7CiAgICB0aGlzLm00MSAgPSAtIHRoaXMuX2RldGVybWluYW50M3gzKGEyLCBhMywgYTQsIGIyLCBiMywgYjQsIGMyLCBjMywgYzQpOwoKICAgIHRoaXMubTEyICA9IC0gdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYjEsIGIzLCBiNCwgYzEsIGMzLCBjNCwgZDEsIGQzLCBkNCk7CiAgICB0aGlzLm0yMiAgPSAgIHRoaXMuX2RldGVybWluYW50M3gzKGExLCBhMywgYTQsIGMxLCBjMywgYzQsIGQxLCBkMywgZDQpOwogICAgdGhpcy5tMzIgID0gLSB0aGlzLl9kZXRlcm1pbmFudDN4MyhhMSwgYTMsIGE0LCBiMSwgYjMsIGI0LCBkMSwgZDMsIGQ0KTsKICAgIHRoaXMubTQyICA9ICAgdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYTEsIGEzLCBhNCwgYjEsIGIzLCBiNCwgYzEsIGMzLCBjNCk7CgogICAgdGhpcy5tMTMgID0gICB0aGlzLl9kZXRlcm1pbmFudDN4MyhiMSwgYjIsIGI0LCBjMSwgYzIsIGM0LCBkMSwgZDIsIGQ0KTsKICAgIHRoaXMubTIzICA9IC0gdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYTEsIGEyLCBhNCwgYzEsIGMyLCBjNCwgZDEsIGQyLCBkNCk7CiAgICB0aGlzLm0zMyAgPSAgIHRoaXMuX2RldGVybWluYW50M3gzKGExLCBhMiwgYTQsIGIxLCBiMiwgYjQsIGQxLCBkMiwgZDQpOwogICAgdGhpcy5tNDMgID0gLSB0aGlzLl9kZXRlcm1pbmFudDN4MyhhMSwgYTIsIGE0LCBiMSwgYjIsIGI0LCBjMSwgYzIsIGM0KTsKCiAgICB0aGlzLm0xNCAgPSAtIHRoaXMuX2RldGVybWluYW50M3gzKGIxLCBiMiwgYjMsIGMxLCBjMiwgYzMsIGQxLCBkMiwgZDMpOwogICAgdGhpcy5tMjQgID0gICB0aGlzLl9kZXRlcm1pbmFudDN4MyhhMSwgYTIsIGEzLCBjMSwgYzIsIGMzLCBkMSwgZDIsIGQzKTsKICAgIHRoaXMubTM0ICA9IC0gdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYTEsIGEyLCBhMywgYjEsIGIyLCBiMywgZDEsIGQyLCBkMyk7CiAgICB0aGlzLm00NCAgPSAgIHRoaXMuX2RldGVybWluYW50M3gzKGExLCBhMiwgYTMsIGIxLCBiMiwgYjMsIGMxLCBjMiwgYzMpOwp9Owo="></script>

</head>
<body style="background-color: white;">
<div id="htmlwidget_container">
<div id="rgl24280" class="rglWebGL html-widget" style="width:960px;height:500px;">

</div>
</div>
<script type="application/json" data-for="rgl24280">{"x":{"material":{"color":"#000000","alpha":1,"lit":true,"ambient":"#000000","specular":"#FFFFFF","emission":"#000000","shininess":50,"smooth":true,"front":"filled","back":"filled","size":3,"lwd":1,"fog":true,"point_antialias":false,"line_antialias":false,"texture":null,"textype":"rgb","texmipmap":false,"texminfilter":"linear","texmagfilter":"linear","texenvmap":false,"depth_mask":true,"depth_test":"less","isTransparent":false,"polygon_offset":[0,0],"margin":"","floating":false,"tag":""},"rootSubscene":101,"objects":{"107":{"id":107,"type":"surface","material":{},"vertices":"0","colors":"2","dim":[[20,96]],"centers":"3","normals":"1","ignoreExtent":false,"flipped":true,"flags":32771},"109":{"id":109,"type":"text","material":{"lit":false,"margin":0,"floating":true,"edge":[0,1,1]},"vertices":"4","colors":"5","texts":[["sds"]],"cex":[[1]],"adj":[[0.5,0.5,0.5]],"centers":"6","family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":33808},"110":{"id":110,"type":"text","material":{"lit":false,"margin":1,"floating":true,"edge":[1,1,1]},"vertices":"7","colors":"8","texts":[["n"]],"cex":[[1]],"adj":[[0.5,0.5,0.5]],"centers":"9","family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":33808},"111":{"id":111,"type":"text","material":{"lit":false,"margin":2,"floating":true,"edge":[1,1,1]},"vertices":"10","colors":"11","texts":[["power"]],"cex":[[1]],"adj":[[0.5,0.5,0.5]],"centers":"12","family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":33808},"105":{"id":105,"type":"light","vertices":[[0,0,1]],"colors":[[1,1,1,1],[1,1,1,1],[1,1,1,1]],"viewpoint":true,"finite":false},"104":{"id":104,"type":"background","material":{},"colors":"13","centers":"14","sphere":false,"fogtype":"none","fogscale":1,"flags":32768},"106":{"id":106,"type":"background","material":{"lit":false,"back":"lines"},"colors":"15","centers":"16","sphere":false,"fogtype":"none","fogscale":1,"flags":32768},"108":{"id":108,"type":"bboxdeco","material":{"front":"lines","back":"lines"},"vertices":"17","colors":"18","axes":{"mode":["pretty","pretty","pretty"],"step":[0.100000001490116,20,0.0500000007450581],"nticks":[5,5,5],"marklen":[15,15,15],"expand":[0.75,0.75,0.75]},"draw_front":true,"flags":32769},"101":{"id":101,"type":"subscene","par3d":{"antialias":8,"FOV":30,"ignoreExtent":false,"listeners":101,"mouseMode":{"none":"none","left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,232.469024658203],"modelMatrix":[[146.733291625977,0,0,-34.7611427307129],[0,0.197467863559723,177.728134155273,-37.914924621582],[0,-0.542538523674011,64.6877517700195,-214.012359619141],[0,0,0,1]],"projMatrix":[[3.73205089569092,0,0,0],[0,3.73205089569092,0,0],[0,0,-3.86370348930359,-838.02392578125],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.342020143325668,0.939692620785909,0],[0,-0.939692620785909,0.342020143325668,0],[0,0,0,1]],"userProjection":[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],"scale":[146.733291625977,0.577357411384583,189.134323120117],"viewport":{"x":0,"y":0,"width":1,"height":1},"zoom":1,"bbox":[0.0500000007450581,0.423800349235535,5,100,0.00999999977648258,0.300000011920929],"windowRect":[34,57,290,313],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"TT Arial","maxClipPlanes":8,"glVersion":4.4,"activeSubscene":0},"embeddings":{"viewport":"replace","projection":"replace","model":"replace","mouse":"replace"},"objects":[106,108,107,109,110,111,105],"subscenes":[],"flags":34067}},"crosstalk":{"key":[],"group":[],"id":[],"options":[]},"width":257,"height":257,"context":{"shiny":false,"rmarkdown":null},"buffer":{"accessors":[{"bufferView":0,"componentType":5126,"count":1920,"type":"VEC3"},{"bufferView":1,"componentType":5126,"count":1920,"type":"VEC3"},{"bufferView":2,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":3,"componentType":5126,"count":1805,"type":"VEC3"},{"bufferView":4,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":5,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":6,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":7,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":8,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":9,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":10,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":11,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":12,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":13,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":14,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":15,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":16,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":17,"componentType":5126,"count":15,"type":"VEC3"},{"bufferView":18,"componentType":5121,"count":1,"type":"VEC4"}],"bufferViews":[{"buffer":0,"byteLength":23040,"byteOffset":0},{"buffer":0,"byteLength":23040,"byteOffset":23040},{"buffer":0,"byteLength":16,"byteOffset":46080},{"buffer":0,"byteLength":21660,"byteOffset":46096},{"buffer":0,"byteLength":12,"byteOffset":67756},{"buffer":0,"byteLength":4,"byteOffset":67768},{"buffer":0,"byteLength":12,"byteOffset":67772},{"buffer":0,"byteLength":12,"byteOffset":67784},{"buffer":0,"byteLength":4,"byteOffset":67796},{"buffer":0,"byteLength":12,"byteOffset":67800},{"buffer":0,"byteLength":12,"byteOffset":67812},{"buffer":0,"byteLength":4,"byteOffset":67824},{"buffer":0,"byteLength":12,"byteOffset":67828},{"buffer":0,"byteLength":16,"byteOffset":67840},{"buffer":0,"byteLength":3,"byteOffset":67856},{"buffer":0,"byteLength":4,"byteOffset":67859},{"buffer":0,"byteLength":3,"byteOffset":67863},{"buffer":0,"byteLength":180,"byteOffset":67868},{"buffer":0,"byteLength":4,"byteOffset":68048}],"buffers":[{"byteLength":68052,"bytes":"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\ngz4AAIFCmpkZPlJwjT4AAIFChesRPv6Clz4AAIFChesRPqqVoT4AAIFC9igcPlaoqz4AAIFC\nSOH6PQK7tT4AAIFCkML1Pa7Nvz4AAIFCXI8CPlrgyT4AAIFC9ijcPQbz0z4AAIFCrkfhPXwX\ndT0AAINCPQoXPm7Woj0AAINCZmYmPh0hyz0AAINC9igcPsxr8z0AAINC4noUPj7bDT4AAINC\nZ2YmPpYAIj4AAINCCtcjPu4lNj4AAINCKVwPPkZLSj4AAINC16PwPZ5wXj4AAINChesRPvWV\ncj4AAINCMzMzPqZdgz4AAINCrkchPlJwjT4AAINCFa4HPv6Clz4AAINCPQoXPqqVoT4AAINC\n4XoUPlaoqz4AAINC2KPwPQK7tT4AAINCzcwMPq7Nvz4AAINCUrgePlrgyT4AAINCXI8CPgbz\n0z4AAINCAAAAPnwXdT0AAIVCFK4HPm7Woj0AAIVCKVwPPh0hyz0AAIVChesRPsxr8z0AAIVC\nPgoXPj7bDT4AAIVCrkchPpYAIj4AAIVCexQuPu4lNj4AAIVCwvUoPkZLSj4AAIVCcT0KPp5w\nXj4AAIVC4noUPvWVcj4AAIVCHoUrPqZdgz4AAIVCUrgePlJwjT4AAIVC4XoUPv6Clz4AAIVC\nCtcjPqqVoT4AAIVCUrgePlaoqz4AAIVCcT0KPgK7tT4AAIVCFK4HPq7Nvz4AAIVCKVwPPlrg\nyT4AAIVCKVwPPgbz0z4AAIVCcD0KPnwXdT0AAIdCKVwPPm7Woj0AAIdC2KPwPR0hyz0AAIdC\nhesRPsxr8z0AAIdC9igcPj7bDT4AAIdCPgoXPpYAIj4AAIdCrkchPu4lNj4AAIdCCtcjPkZL\nSj4AAIdCmpkZPp5wXj4AAIdChusRPvWVcj4AAIdCzcwMPqZdgz4AAIdCzMwMPlJwjT4AAIdC\n9igcPv6Clz4AAIdCUbgePqqVoT4AAIdCmpkZPlaoqz4AAIdC9igcPgK7tT4AAIdCFK4HPq7N\nvz4AAIdCzcwMPlrgyT4AAIdCPgoXPgbz0z4AAIdCzcwMPnwXdT0AAIlChesRPm7Woj0AAIlC\nPQrXPR0hyz0AAIlCSOH6Pcxr8z0AAIlCKVwPPj7bDT4AAIlCCtcjPpYAIj4AAIlCHoUrPu4l\nNj4AAIlCrkchPkZLSj4AAIlCH4UrPp5wXj4AAIlCKVwPPvWVcj4AAIlC16PwPaZdgz4AAIlC\nKVwPPlJwjT4AAIlCmpkZPv6Clz4AAIlCSOH6PaqVoT4AAIlCuB4FPlaoqz4AAIlCZmYmPgK7\ntT4AAIlCmpkZPq7Nvz4AAIlC9igcPlrgyT4AAIlC16MwPgbz0z4AAIlCrkchPnwXdT0AAItC\nexQuPm7Woj0AAItCrkchPh0hyz0AAItCcT0KPsxr8z0AAItCHoXrPT7bDT4AAItC4XoUPpYA\nIj4AAItC2KMwPu4lNj4AAItCH4UrPkZLSj4AAItCNDMzPp5wXj4AAItCUrgePvWVcj4AAItC\nKVwPPqZdgz4AAItC9igcPlJwjT4AAItCwvUoPv6Clz4AAItCFK4HPqqVoT4AAItCAAAAPlao\nqz4AAItC9igcPgK7tT4AAItCKVwPPq7Nvz4AAItC4noUPlrgyT4AAItCH4UrPgbz0z4AAItC\nUrgePnwXdT0AAI1CCtcjPm7Woj0AAI1CwvUoPh0hyz0AAI1CrkchPsxr8z0AAI1CzcwMPj7b\nDT4AAI1CKVwPPpYAIj4AAI1C4XoUPu4lNj4AAI1CUrgePkZLSj4AAI1CwvUoPp5wXj4AAI1C\n9igcPvWVcj4AAI1CUrgePqZdgz4AAI1CUrgePlJwjT4AAI1CUrgePv6Clz4AAI1CKlwPPqqV\noT4AAI1CuB4FPlaoqz4AAI1CFK4HPgK7tT4AAI1CAAAAPq7Nvz4AAI1C9igcPlrgyT4AAI1C\n9igcPgbz0z4AAI1CzcwMPnwXdT0AAI9C4XoUPm7Woj0AAI9CuB4FPh0hyz0AAI9CmpkZPsxr\n8z0AAI9CUrgePj7bDT4AAI9CuR4FPpYAIj4AAI9CH4XrPe4lNj4AAI9CcT0KPkZLSj4AAI9C\n9igcPp5wXj4AAI9CmpkZPvWVcj4AAI9CMzMzPqZdgz4AAI9CexQuPlJwjT4AAI9CZ2YmPv6C\nlz4AAI9Cw/UoPqqVoT4AAI9ChusRPlaoqz4AAI9C9igcPgK7tT4AAI9CzcwMPq7Nvz4AAI9C\nzcwMPlrgyT4AAI9C9igcPgbz0z4AAI9CKVwPPnwXdT0AAJFCH4UrPm7Woj0AAJFCFK4HPh0h\nyz0AAJFCuB4FPsxr8z0AAJFCFa4HPj7bDT4AAJFCAAAAPpYAIj4AAJFCmpkZPu4lNj4AAJFC\nFK4HPkZLSj4AAJFCKlwPPp5wXj4AAJFCSOE6PvWVcj4AAJFCzcxMPqZdgz4AAJFCAABAPlJw\njT4AAJFCpHA9Pv6Clz4AAJFCmZkZPqqVoT4AAJFCAAAAPlaoqz4AAJFCpHA9PgK7tT4AAJFC\n7FE4Pq7Nvz4AAJFCzcwMPlrgyT4AAJFC4noUPgbz0z4AAJFChesRPnwXdT0AAJNCNDMzPm7W\noj0AAJNCUrgePh0hyz0AAJNCCtcjPsxr8z0AAJNCCtcjPj7bDT4AAJNCrkchPpYAIj4AAJNC\nuB5FPu4lNj4AAJNCCtcjPkZLSj4AAJNCFa4HPp5wXj4AAJNCmpkZPvWVcj4AAJNCZmYmPqZd\ngz4AAJNCMjMzPlJwjT4AAJNCo3A9Pv6Clz4AAJNCrkchPqqVoT4AAJNChesRPlaoqz4AAJNC\nNDMzPgK7tT4AAJNCXI9CPq7Nvz4AAJNCH4UrPlrgyT4AAJNCrkchPgbz0z4AAJNCmpkZPnwX\ndT0AAJVCZ2YmPm7Woj0AAJVC16MwPh0hyz0AAJVCR+E6Psxr8z0AAJVCj8I1Pj7bDT4AAJVC\n7FE4PpYAIj4AAJVCAABAPu4lNj4AAJVCzcxMPkZLSj4AAJVCpHA9Pp5wXj4AAJVCFK4HPvWV\ncj4AAJVCzcwMPqZdgz4AAJVCwvUoPlJwjT4AAJVCHoUrPv6Clz4AAJVCR+E6PqqVoT4AAJVC\n2KMwPlaoqz4AAJVCwvUoPgK7tT4AAJVC7FE4Pq7Nvz4AAJVC16MwPlrgyT4AAJVC9igcPgbz\n0z4AAJVChesRPnwXdT0AAJdCMzMzPm7Woj0AAJdCjsI1Ph0hyz0AAJdCHoUrPsxr8z0AAJdC\nMzMzPj7bDT4AAJdCMzMzPpYAIj4AAJdCMzMzPu4lNj4AAJdChetRPkZLSj4AAJdCKFxPPp5w\nXj4AAJdCwvUoPvWVcj4AAJdCPgoXPqZdgz4AAJdCexQuPlJwjT4AAJdCj8I1Pv6Clz4AAJdC\nuB5FPqqVoT4AAJdCzMxMPlaoqz4AAJdCMzMzPgK7tT4AAJdCZmYmPq7Nvz4AAJdCCtcjPlrg\nyT4AAJdC9igcPgbz0z4AAJdCmpkZPnwXdT0AAJlCtx5FPm7Woj0AAJlCAABAPh0hyz0AAJlC\n9igcPsxr8z0AAJlCexQuPj7bDT4AAJlC61E4PpYAIj4AAJlCo3A9Pu4lNj4AAJlCXI9CPkZL\nSj4AAJlCFK5HPp5wXj4AAJlCzcxMPvWVcj4AAJlCH4UrPqZdgz4AAJlCHoUrPlJwjT4AAJlC\nSOE6Pv6Clz4AAJlCKVxPPqqVoT4AAJlC4XpUPlaoqz4AAJlCfBQuPgK7tT4AAJlChesRPq7N\nvz4AAJlCwvUoPlrgyT4AAJlCw/UoPgbz0z4AAJlCcD0KPnwXdT0AAJtCw/UoPm7Woj0AAJtC\nexQuPh0hyz0AAJtCUrgePsxr8z0AAJtCCtcjPj7bDT4AAJtCSOE6PpYAIj4AAJtCcD1KPu4l\nNj4AAJtCXY9CPkZLSj4AAJtC9ihcPp5wXj4AAJtCwvVoPvWVcj4AAJtCpHA9PqZdgz4AAJtC\nwvUoPlJwjT4AAJtCwvUoPv6Clz4AAJtCSOE6PqqVoT4AAJtCzcxMPlaoqz4AAJtCj8I1PgK7\ntT4AAJtC2KMwPq7Nvz4AAJtCPgpXPlrgyT4AAJtCzcxMPgbz0z4AAJtC9igcPnwXdT0AAJ1C\nwvUoPm7Woj0AAJ1CMzMzPh0hyz0AAJ1C16MwPsxr8z0AAJ1CmZkZPj7bDT4AAJ1CCtcjPpYA\nIj4AAJ1CkMI1Pu4lNj4AAJ1CHoUrPkZLSj4AAJ1C1qMwPp5wXj4AAJ1CXY9CPvWVcj4AAJ1C\npHA9PqZdgz4AAJ1CuB5FPlJwjT4AAJ1CrkdhPv6Clz4AAJ1C4npUPqqVoT4AAJ1CXI9CPlao\nqz4AAJ1CXI9CPgK7tT4AAJ1CkMI1Pq7Nvz4AAJ1CAABAPlrgyT4AAJ1CZmZmPgbz0z4AAJ1C\nuB5FPnwXdT0AAJ9C9igcPm7Woj0AAJ9CpHA9Ph0hyz0AAJ9CXI9CPsxr8z0AAJ9CHoUrPj7b\nDT4AAJ9CUrgePpYAIj4AAJ9CmpkZPu4lNj4AAJ9CCtcjPkZLSj4AAJ9CH4UrPp5wXj4AAJ9C\nUrgePvWVcj4AAJ9CCtcjPqZdgz4AAJ9CzcxMPlJwjT4AAJ9Cw/VoPv6Clz4AAJ9CcT1KPqqV\noT4AAJ9ChesRPlaoqz4AAJ9CNDMzPgK7tT4AAJ9Cj8I1Pq7Nvz4AAJ9C9igcPlrgyT4AAJ9C\nKlxPPgbz0z4AAJ9CcT1KPnwXdT0AAKFC9igcPm7Woj0AAKFCCtcjPh0hyz0AAKFCFK5HPsxr\n8z0AAKFCXI9CPj7bDT4AAKFCehQuPpYAIj4AAKFC9igcPu4lNj4AAKFC9igcPkZLSj4AAKFC\nj8I1Pp5wXj4AAKFC9igcPvWVcj4AAKFChesRPqZdgz4AAKFCAABAPlJwjT4AAKFCuR5FPv6C\nlz4AAKFCZmYmPqqVoT4AAKFCFK4HPlaoqz4AAKFC9igcPgK7tT4AAKFCSOE6Pq7Nvz4AAKFC\npHA9PlrgyT4AAKFCpHA9Pgbz0z4AAKFCXI9CPnwXdT0AAKNCUrgePm7Woj0AAKNCw/UoPh0h\nyz0AAKNC4XpUPsxr8z0AAKNCMzMzPj7bDT4AAKNCCtcjPpYAIj4AAKNCrkchPu4lNj4AAKNC\n4noUPkZLSj4AAKNC16MwPp5wXj4AAKNCH4UrPvWVcj4AAKNCNDMzPqZdgz4AAKNCuB5FPlJw\njT4AAKNCw/UoPv6Clz4AAKNC4XoUPqqVoT4AAKNCmpkZPlaoqz4AAKNCmpkZPgK7tT4AAKNC\nrkchPq7Nvz4AAKNC61E4PlrgyT4AAKNCj8I1Pgbz0z4AAKNCehQuPnwXdT0AAKVChusRPm7W\noj0AAKVCMzMzPh0hyz0AAKVCmZlZPsxr8z0AAKVCehQuPj7bDT4AAKVCw/UoPpYAIj4AAKVC\nC9cjPu4lNj4AAKVChesRPkZLSj4AAKVC16MwPp5wXj4AAKVCXI9CPvWVcj4AAKVCSOE6PqZd\ngz4AAKVC16MwPlJwjT4AAKVCmZkZPv6Clz4AAKVChesRPqqVoT4AAKVC16MwPlaoqz4AAKVC\nMzMzPgK7tT4AAKVCMzMzPq7Nvz4AAKVCAABAPlrgyT4AAKVCSOE6Pgbz0z4AAKVCexQuPnwX\ndT0AAKdCMzMzPm7Woj0AAKdCUrgePh0hyz0AAKdCwvUoPsxr8z0AAKdCwvUoPj7bDT4AAKdC\nuB5FPpYAIj4AAKdCAABAPu4lNj4AAKdCZmYmPkZLSj4AAKdC61E4Pp5wXj4AAKdCzcxMPvWV\ncj4AAKdCehQuPqZdgz4AAKdCmpkZPlJwjT4AAKdCSOE6Pv6Clz4AAKdCXI9CPqqVoT4AAKdC\n16MwPlaoqz4AAKdCwvUoPgK7tT4AAKdCR+E6Pq7Nvz4AAKdCuR5FPlrgyT4AAKdCAABAPgbz\n0z4AAKdCj8I1PnwXdT0AAKlCpHA9Pm7Woj0AAKlCcD0KPh0hyz0AAKlCPQoXPsxr8z0AAKlC\nUrgePj7bDT4AAKlCMzMzPpYAIj4AAKlCzcxMPu4lNj4AAKlChutRPkZLSj4AAKlCAABAPp5w\nXj4AAKlC1qMwPvWVcj4AAKlCSOE6PqZdgz4AAKlCHoUrPlJwjT4AAKlCwvUoPv6Clz4AAKlC\nNDMzPqqVoT4AAKlCexQuPlaoqz4AAKlCw/UoPgK7tT4AAKlC7FE4Pq7Nvz4AAKlCuR5FPlrg\nyT4AAKlCj8I1Pgbz0z4AAKlCSOE6PnwXdT0AAKtCpHA9Pm7Woj0AAKtCwvUoPh0hyz0AAKtC\nHoUrPsxr8z0AAKtCexQuPj7bDT4AAKtCFK5HPpYAIj4AAKtCUrhePu4lNj4AAKtChetRPkZL\nSj4AAKtC1qMwPp5wXj4AAKtCUrgePvWVcj4AAKtCkMI1PqZdgz4AAKtCR+E6PlJwjT4AAKtC\nehQuPv6Clz4AAKtCCtcjPqqVoT4AAKtC16MwPlaoqz4AAKtCAABAPgK7tT4AAKtC4XpUPq7N\nvz4AAKtCmZlZPlrgyT4AAKtC61E4Pgbz0z4AAKtC7FE4PnwXdT0AAK1C9ihcPm7Woj0AAK1C\nKVxPPh0hyz0AAK1CMzMzPsxr8z0AAK1C7FE4Pj7bDT4AAK1ChetRPpYAIj4AAK1CzcxMPu4l\nNj4AAK1CSOE6PkZLSj4AAK1CcD1KPp5wXj4AAK1CAABAPvWVcj4AAK1CHoUrPqZdgz4AAK1C\n//8/PlJwjT4AAK1CcT1KPv6Clz4AAK1CpHA9PqqVoT4AAK1CehQuPlaoqz4AAK1Cj8I1PgK7\ntT4AAK1CuB5FPq7Nvz4AAK1ChutRPlrgyT4AAK1CKVxPPgbz0z4AAK1CkMI1PnwXdT0AAK9C\nFa5HPm7Woj0AAK9CKlxPPh0hyz0AAK9ChutRPsxr8z0AAK9CAABAPj7bDT4AAK9C2KMwPpYA\nIj4AAK9CrkchPu4lNj4AAK9CrkchPkZLSj4AAK9CcT1KPp5wXj4AAK9C4npUPvWVcj4AAK9C\nj8I1PqZdgz4AAK9CHoUrPlJwjT4AAK9CHoUrPv6Clz4AAK9Cj8I1PqqVoT4AAK9C16MwPlao\nqz4AAK9CCtcjPgK7tT4AAK9CH4UrPq7Nvz4AAK9CXI9CPlrgyT4AAK9CcT1KPgbz0z4AAK9C\nHoUrPnwXdT0AALFC4noUPm7Woj0AALFC16MwPh0hyz0AALFCzcxMPsxr8z0AALFCuB5FPj7b\nDT4AALFC16MwPpYAIj4AALFCexQuPu4lNj4AALFCCtcjPkZLSj4AALFCCtcjPp5wXj4AALFC\n7FE4PvWVcj4AALFC1qMwPqZdgz4AALFCmZkZPlJwjT4AALFCH4UrPv6Clz4AALFCuB5FPqqV\noT4AALFCpHA9Plaoqz4AALFCCtcjPgK7tT4AALFCexQuPq7Nvz4AALFC9ihcPlrgyT4AALFC\nUbhePgbz0z4AALFCkMI1PnwXdT0AALNCexQuPm7Woj0AALNCj8I1Ph0hyz0AALNCFK5HPsxr\n8z0AALNC4npUPj7bDT4AALNCpHA9PpYAIj4AALNCKFxPPu4lNj4AALNCPgpXPkZLSj4AALNC\n2KMwPp5wXj4AALNCZmYmPvWVcj4AALNCSOE6PqZdgz4AALNC16MwPlJwjT4AALNCXI9CPv6C\nlz4AALNCCtdjPqqVoT4AALNCpHA9Plaoqz4AALNCCtcjPgK7tT4AALNCehQuPq7Nvz4AALNC\n4XpUPlrgyT4AALNChetRPgbz0z4AALNCuB5FPnwXdT0AALVCuB5FPm7Woj0AALVC9ihcPh0h\nyz0AALVCexRuPsxr8z0AALVCZmZmPj7bDT4AALVCKVxPPpYAIj4AALVCKVxPPu4lNj4AALVC\nhetRPkZLSj4AALVC4npUPp5wXj4AALVCFa5HPvWVcj4AALVCzsxMPqZdgz4AALVCkMI1PlJw\njT4AALVCHoUrPv6Clz4AALVChetRPqqVoT4AALVCo3A9Plaoqz4AALVCpHA9PgK7tT4AALVC\nFK5HPq7Nvz4AALVCuB5FPlrgyT4AALVCehQuPgbz0z4AALVCMzMzPnwXdT0AALdCC9djPm7W\noj0AALdCw/VoPh0hyz0AALdCUrhePsxr8z0AALdC4XpUPj7bDT4AALdCNDMzPpYAIj4AALdC\nZmYmPu4lNj4AALdCH4UrPkZLSj4AALdCzcxMPp5wXj4AALdCzcxMPvWVcj4AALdCSOE6PqZd\ngz4AALdC61E4PlJwjT4AALdCMzMzPv6Clz4AALdCuB5FPqqVoT4AALdCXI9CPlaoqz4AALdC\nPQpXPgK7tT4AALdCPQpXPq7Nvz4AALdCkMI1PlrgyT4AALdCH4UrPgbz0z4AALdCkMI1PnwX\ndT0AALlC9ShcPm7Woj0AALlChutRPh0hyz0AALlCAABAPsxr8z0AALlCzcxMPj7bDT4AALlC\nMzMzPpYAIj4AALlCMzMzPu4lNj4AALlCzcxMPkZLSj4AALlCSOE6Pp5wXj4AALlC16MwPvWV\ncj4AALlC1qMwPqZdgz4AALlCehQuPlJwjT4AALlCMzMzPv6Clz4AALlCAABAPqqVoT4AALlC\npHA9Plaoqz4AALlCcD1KPgK7tT4AALlC4XpUPq7Nvz4AALlCfBQuPlrgyT4AALlCj8I1Pgbz\n0z4AALlCcD1KPnwXdT0AALtCzcxMPm7Woj0AALtC7FE4Ph0hyz0AALtCAABAPsxr8z0AALtC\ncD1KPj7bDT4AALtCFK5HPpYAIj4AALtCMzMzPu4lNj4AALtCXI9CPkZLSj4AALtCAABAPp5w\nXj4AALtCCtcjPvWVcj4AALtCUrgePqZdgz4AALtCMzMzPlJwjT4AALtCcT1KPv6Clz4AALtC\nXI9CPqqVoT4AALtCSOE6Plaoqz4AALtCXI9CPgK7tT4AALtCcD1KPq7Nvz4AALtC1qMwPlrg\nyT4AALtCXI9CPgbz0z4AALtChetRPnwXdT0AAL1ChOtRPm7Woj0AAL1CSOE6Ph0hyz0AAL1C\nehQuPsxr8z0AAL1Co3A9Pj7bDT4AAL1CSOE6PpYAIj4AAL1Cj8I1Pu4lNj4AAL1C61E4PkZL\nSj4AAL1Cj8I1Pp5wXj4AAL1C16MwPvWVcj4AAL1CwvUoPqZdgz4AAL1CXI9CPlJwjT4AAL1C\nZ2ZmPv6Clz4AAL1CfBRuPqqVoT4AAL1CrkdhPlaoqz4AAL1CwvVoPgK7tT4AAL1CAABAPq7N\nvz4AAL1CfBQuPlrgyT4AAL1CUrhePgbz0z4AAL1CPgpXPnwXdT0AAL9CzcxMPm7Woj0AAL9C\nPgpXPh0hyz0AAL9CNDMzPsxr8z0AAL9CSOE6Pj7bDT4AAL9CXI9CPpYAIj4AAL9CFa5HPu4l\nNj4AAL9CpHA9PkZLSj4AAL9Cj8I1Pp5wXj4AAL9CuB5FPvWVcj4AAL9CuB5FPqZdgz4AAL9C\nuB5FPlJwjT4AAL9CmplZPv6Clz4AAL9CSOF6PqqVoT4AAL9C16NwPlaoqz4AAL9CwvVoPgK7\ntT4AAL9CuB5FPq7Nvz4AAL9CXI9CPlrgyT4AAL9CrkdhPgbz0z4AAL9CzcxMPnwXdT0AAMFC\nmplZPm7Woj0AAMFCHoVrPh0hyz0AAMFCmplZPsxr8z0AAMFCcT1KPj7bDT4AAMFCXI9CPpYA\nIj4AAMFCSOE6Pu4lNj4AAMFCpHA9PkZLSj4AAMFCKVxPPp5wXj4AAMFCSOE6PvWVcj4AAMFC\nZmYmPqZdgz4AAMFCSOE6PlJwjT4AAMFCCtdjPv6Clz4AAMFCAACAPqqVoT4AAMFChutRPlao\nqz4AAMFCR+E6PgK7tT4AAMFCcD1KPq7Nvz4AAMFCuB5FPlrgyT4AAMFCSOE6Pgbz0z4AAMFC\nFK5HPnwXdT0AAMNC4XpUPm7Woj0AAMNCmZlZPh0hyz0AAMNCPQpXPsxr8z0AAMNCFa5HPj7b\nDT4AAMNC7FE4PpYAIj4AAMNCFa5HPu4lNj4AAMNCZmZmPkZLSj4AAMNCU7hePp5wXj4AAMNC\nexQuPvWVcj4AAMNCUrgePqZdgz4AAMNCpHA9PlJwjT4AAMNCUrhePv6Clz4AAMNCZmZmPqqV\noT4AAMNCAABAPlaoqz4AAMNCj8I1PgK7tT4AAMNCuR5FPq7Nvz4AAMNCKVxPPlrgyT4AAMNC\nmplZPgbz0z4AAMNCPQpXPnwXdT0AAMVCPQpXPm7Woj0AAMVCFa5HPh0hyz0AAMVCXI9CPsxr\n8z0AAMVCcT1KPj7bDT4AAMVCNDMzPpYAIj4AAMVCR+E6Pu4lNj4AAMVCwvVoPkZLSj4AAMVC\n4XpUPp5wXj4AAMVCHoUrPvWVcj4AAMVC7FE4PqZdgz4AAMVCPgpXPlJwjT4AAMVC9ihcPv6C\nlz4AAMVCSOE6PqqVoT4AAMVCkMI1Plaoqz4AAMVCFa5HPgK7tT4AAMVC7FE4Pq7Nvz4AAMVC\n9ihcPlrgyT4AAMVCrkeBPgbz0z4AAMVCUrhePnwXdT0AAMdCmplZPm7Woj0AAMdChutRPh0h\nyz0AAMdCKlxPPsxr8z0AAMdCKlxPPj7bDT4AAMdCMzMzPpYAIj4AAMdCR+E6Pu4lNj4AAMdC\nUrhePkZLSj4AAMdCwvVoPp5wXj4AAMdCFa5HPvWVcj4AAMdCAABAPqZdgz4AAMdC4XpUPlJw\njT4AAMdCzcxMPv6Clz4AAMdC61E4PqqVoT4AAMdCcD1KPlaoqz4AAMdCPQpXPgK7tT4AAMdC\nzcxMPq7Nvz4AAMdCwvVoPlrgyT4AAMdC7FF4Pgbz0z4AAMdCPgpXPgAAwH8AAIBAAACAPwAA\nAAEAAMB/AACAQAAAgD8AAMB/AACAQAAAgD8AAAABAADAfwAAgEAAAIA/AADAfwAAgEAAAIA/\nAAAAAQAAwH8AAIBAAACAP5mYmD6ZmJg+mZiYPgAAgD8AAAABAQEBAAAAAADNzMw9AADAfwAA\nwH/NzEw+AADAfwAAwH+amZk+AADAfwAAwH/NzMw+AADAfwAAwH8AAMB/AACgQQAAwH8AAMB/\nAAAgQgAAwH8AAMB/AABwQgAAwH8AAMB/AACgQgAAwH8AAMB/AADIQgAAwH8AAMB/AADAf83M\nTD0AAMB/AADAf83MzD0AAMB/AADAf5qZGT4AAMB/AADAf83MTD4AAMB/AADAfwAAgD4AAMB/\nAADAf5qZmT4AAAAB"}]},"players":[],"webGLoptions":{"preserveDrawingBuffer":true}},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="rgl24280">{"viewer":{"width":450,"height":350,"padding":15,"fill":true},"browser":{"width":960,"height":500,"padding":40,"fill":false}}</script>
</body>
</html>
